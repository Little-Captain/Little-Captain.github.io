
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Grammar Lexicon Â· antlr4-doc</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Little Captain">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="grammars.html" />
    
    
    <link rel="prev" href="getting-started.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                        <b>1.1.</b>
                    
                    Introduction
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Sections</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="./">
            
                <a href="./">
            
                    
                        <b>2.1.</b>
                    
                    Index
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="getting-started.html">
            
                <a href="getting-started.html">
            
                    
                        <b>2.2.</b>
                    
                    Getting Started with ANTLR v4
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="2.3" data-path="lexicon.html">
            
                <a href="lexicon.html">
            
                    
                        <b>2.3.</b>
                    
                    Grammar Lexicon
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="grammars.html">
            
                <a href="grammars.html">
            
                    
                        <b>2.4.</b>
                    
                    Grammar Structure
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="parser-rules.html">
            
                <a href="parser-rules.html">
            
                    
                        <b>2.5.</b>
                    
                    Parser Rules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="left-recursion.html">
            
                <a href="left-recursion.html">
            
                    
                        <b>2.6.</b>
                    
                    Left-recursive rules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.7" data-path="actions.html">
            
                <a href="actions.html">
            
                    
                        <b>2.7.</b>
                    
                    Actions and Attributes
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.8" data-path="lexer-rules.html">
            
                <a href="lexer-rules.html">
            
                    
                        <b>2.8.</b>
                    
                    Lexer Rules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.9" data-path="wildcard.html">
            
                <a href="wildcard.html">
            
                    
                        <b>2.9.</b>
                    
                    Wildcard Operator and Nongreedy Subrules
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.10" data-path="listeners.html">
            
                <a href="listeners.html">
            
                    
                        <b>2.10.</b>
                    
                    Parse Tree Listeners
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.11" data-path="tree-matching.html">
            
                <a href="tree-matching.html">
            
                    
                        <b>2.11.</b>
                    
                    Parse Tree Matching and XPath
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.12" data-path="predicates.html">
            
                <a href="predicates.html">
            
                    
                        <b>2.12.</b>
                    
                    Semantic Predicates
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.13" data-path="options.html">
            
                <a href="options.html">
            
                    
                        <b>2.13.</b>
                    
                    Options
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.14" data-path="tool-options.html">
            
                <a href="tool-options.html">
            
                    
                        <b>2.14.</b>
                    
                    ANTLR Tool Command Line Options
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.15" data-path="targets.html">
            
                <a href="targets.html">
            
                    
                        <b>2.15.</b>
                    
                    Runtime Libraries and Code Generation Targets
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.16" data-path="unicode.html">
            
                <a href="unicode.html">
            
                    
                        <b>2.16.</b>
                    
                    Unicode U+FFFF, U+10FFFF character streams
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.17" data-path="parsing-binary-files.html">
            
                <a href="parsing-binary-files.html">
            
                    
                        <b>2.17.</b>
                    
                    Parsing binary streams
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.18" data-path="case-insensitive-lexing.html">
            
                <a href="case-insensitive-lexing.html">
            
                    
                        <b>2.18.</b>
                    
                    Case-Insensitive Lexing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.19" data-path="interpreters.html">
            
                <a href="interpreters.html">
            
                    
                        <b>2.19.</b>
                    
                    Parser and lexer interpreters
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.20" data-path="resources.html">
            
                <a href="resources.html">
            
                    
                        <b>2.20.</b>
                    
                    Resources
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Building / releasing ANTLR itself</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="building-antlr.html">
            
                <a href="building-antlr.html">
            
                    
                        <b>3.1.</b>
                    
                    Building ANTLR itself
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="releasing-antlr.html">
            
                <a href="releasing-antlr.html">
            
                    
                        <b>3.2.</b>
                    
                    Cutting an ANTLR Release
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="antlr-project-testing.html">
            
                <a href="antlr-project-testing.html">
            
                    
                        <b>3.3.</b>
                    
                    ANTLR project unit tests
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.4" data-path="creating-a-language-target.html">
            
                <a href="creating-a-language-target.html">
            
                    
                        <b>3.4.</b>
                    
                    Creating an ANTLR Language Target
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Grammar Lexicon</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#grammar-lexicon"><b>1. </b>Grammar Lexicon</a></li><ul><li><span class="title-icon "></span><a href="#comments"><b>1.1. </b>Comments</a></li><li><span class="title-icon "></span><a href="#identifiers"><b>1.2. </b>Identifiers</a></li><li><span class="title-icon "></span><a href="#literals"><b>1.3. </b>Literals</a></li><li><span class="title-icon "></span><a href="#actions"><b>1.4. </b>Actions</a></li><li><span class="title-icon "></span><a href="#keywords"><b>1.5. </b>Keywords</a></li></ul></ul></div><a href="#grammar-lexicon" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><h1 id="grammar-lexicon"><a name="grammar-lexicon" class="anchor-navigation-ex-anchor" href="#grammar-lexicon"><i class="fa fa-link" aria-hidden="true"></i></a>1. Grammar Lexicon</h1>
<p>The lexicon of ANTLR is familiar to most programmers because it follows the syntax of C and its derivatives with some extensions for grammatical descriptions.</p>
<h2 id="comments"><a name="comments" class="anchor-navigation-ex-anchor" href="#comments"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. Comments</h2>
<p>There are single-line, multiline, and Javadoc-style comments:</p>
<pre class="language-"><code>/** This grammar is an example illustrating the three kinds
 * of comments.
 */
grammar T;
/* a multi-line
  comment
*/

/** This rule matches a declarator for my language */
decl : ID ; // match a variable name
</code></pre><p>The Javadoc comments are hidden from the parser and are ignored at the moment.  They are intended to be used only at the start of the grammar and any rule.</p>
<h2 id="identifiers"><a name="identifiers" class="anchor-navigation-ex-anchor" href="#identifiers"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. Identifiers</h2>
<p>Token names always start with a capital letter and so do lexer rules as defined by Java&#x2019;s <code>Character.isUpperCase</code> method. Parser rule names always start with a lowercase letter (those that fail <code>Character.isUpperCase</code>). The initial character can be followed by uppercase and lowercase letters, digits, and underscores. Here are some sample names:</p>
<pre class="language-"><code>ID, LPAREN, RIGHT_CURLY // token names/lexer rules
expr, simpleDeclarator, d2, header_file // parser rule names
</code></pre><p>Like Java, ANTLR accepts Unicode characters in ANTLR names:</p>
<p><img src="images/nonascii.png" width="100"></p>
<p>To support Unicode parser and lexer rule names, ANTLR uses the following rule:</p>
<pre class="language-"><code>ID : a=NameStartChar NameChar*
     {  
     if ( Character.isUpperCase(getText().charAt(0)) ) setType(TOKEN_REF);
     else setType(RULE_REF);
     }  
   ;
</code></pre><p>Rule <code>NameChar</code> identifies the valid identifier characters:</p>
<pre class="language-"><code>fragment
NameChar
   : NameStartChar
   | &apos;0&apos;..&apos;9&apos;
   | &apos;_&apos;
   | &apos;\u00B7&apos;
   | &apos;\u0300&apos;..&apos;\u036F&apos;
   | &apos;\u203F&apos;..&apos;\u2040&apos;
   ;
fragment
NameStartChar
   : &apos;A&apos;..&apos;Z&apos; | &apos;a&apos;..&apos;z&apos;
   | &apos;\u00C0&apos;..&apos;\u00D6&apos;
   | &apos;\u00D8&apos;..&apos;\u00F6&apos;
   | &apos;\u00F8&apos;..&apos;\u02FF&apos;
   | &apos;\u0370&apos;..&apos;\u037D&apos;
   | &apos;\u037F&apos;..&apos;\u1FFF&apos;
   | &apos;\u200C&apos;..&apos;\u200D&apos;
   | &apos;\u2070&apos;..&apos;\u218F&apos;
   | &apos;\u2C00&apos;..&apos;\u2FEF&apos;
   | &apos;\u3001&apos;..&apos;\uD7FF&apos;
   | &apos;\uF900&apos;..&apos;\uFDCF&apos;
   | &apos;\uFDF0&apos;..&apos;\uFFFD&apos;
   ;
</code></pre><p>Rule <code>NameStartChar</code> is the list of characters that can start an identifier (rule, token, or label name):
These more or less correspond to <code>isJavaIdentifierPart</code> and <code>isJavaIdentifierStart</code> in Java&#x2019;s Character class. Make sure to use the <code>-encoding</code> option on the ANTLR tool if your grammar file is not in UTF-8 format, so that ANTLR reads characters properly.</p>
<h2 id="literals"><a name="literals" class="anchor-navigation-ex-anchor" href="#literals"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. Literals</h2>
<p>ANTLR does not distinguish between character and string literals as most languages do. All literal strings one or more characters in length are enclosed in single quotes such as <code>&#x2019;;&#x2019;</code>, <code>&#x2019;if&#x2019;</code>, <code>&#x2019;&gt;=&#x2019;</code>, and <code>&#x2019;\&#x2019;&#x2019;</code> (refers to the one-character string containing the single quote character). Literals never contain regular expressions.</p>
<p>Literals can contain Unicode escape sequences of the form <code>&#x2019;\uXXXX&#x2019;</code> (for Unicode code points up to <code>&#x2019;U+FFFF&#x2019;</code>) or <code>&#x2019;\u{XXXXXX}&#x2019;</code> (for all Unicode code points), where <code>&#x2019;XXXX&#x2019;</code> is the hexadecimal Unicode code point value.</p>
<p>For example, <code>&#x2019;\u00E8&#x2019;</code> is the French letter with a grave accent: <code>&#x2019;&#xE8;&#x2019;</code>, and <code>&#x2019;\u{1F4A9}&#x2019;</code> is the famous emoji: <code>&#x2019;&#x1F4A9;&#x2019;</code>.</p>
<p>ANTLR also understands the usual special escape sequences: <code>&#x2019;\n&#x2019;</code> (newline), <code>&#x2019;\r&#x2019;</code> (carriage return), <code>&#x2019;\t&#x2019;</code> (tab), <code>&#x2019;\b&#x2019;</code> (backspace), and <code>&#x2019;\f&#x2019;</code> (form feed). You can use Unicode code points directly within literals or use the Unicode escape sequences:</p>
<pre class="language-"><code>grammar Foreign;
a : &apos;&#x5916;&apos; ;
</code></pre><p>The recognizers that ANTLR generates assume a character vocabulary containing all Unicode characters. The input file encoding assumed by the runtime library depends on the target language. For the Java target, the runtime library assumes files are in UTF-8. Using the  factory methods in <code>CharStreams</code>, you can specify a different encoding.</p>
<h2 id="actions"><a name="actions" class="anchor-navigation-ex-anchor" href="#actions"><i class="fa fa-link" aria-hidden="true"></i></a>1.4. Actions</h2>
<p>Actions are code blocks written in the target language. You can use actions in a number of places within a grammar, but the syntax is always the same: arbitrary text surrounded by curly braces. You don&#x2019;t need to escape a closing curly character if it&#x2019;s in a string or comment: <code>&quot;}&quot;</code> or <code>/*}*/</code>. If the curlies are balanced, you also don&#x2019;t need to escape }: <code>{...}</code>. Otherwise, escape extra curlies with a backslash: <code>\{</code> or <code>\}</code>. The action text should conform to the target language as specified with the language option.</p>
<p>Embedded code can appear in: <code>@header</code> and <code>@members</code> named actions, parser and lexer rules, exception catching specifications, attribute sections for parser rules (return values, arguments, and locals), and some rule element options (currently predicates).</p>
<p>The only interpretation ANTLR does inside actions relates to grammar attributes; see <a href="http://pragprog.com/book/tpantlr2/the-definitive-antlr-4-reference" target="_blank">Token Attributes</a> and Chapter 10, <a href="http://pragprog.com/book/tpantlr2/the-definitive-antlr-4-reference" target="_blank">Attributes and Actions</a>. Actions embedded within lexer rules are emitted without any interpretation or translation into generated lexers.</p>
<h2 id="keywords"><a name="keywords" class="anchor-navigation-ex-anchor" href="#keywords"><i class="fa fa-link" aria-hidden="true"></i></a>1.5. Keywords</h2>
<p>Here&#x2019;s a list of the reserved words in ANTLR grammars:</p>
<pre class="language-"><code>import, fragment, lexer, parser, grammar, returns,
locals, throws, catch, finally, mode, options, tokens
</code></pre><p>Also, although it is not a keyword, do not use the word <code>rule</code> as a rule name. Further, do not use any keyword of the target language as a token, label, or rule name. For example, rule <code>if</code> would result in a generated function called <code>if</code>.  That would not compile obviously.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="getting-started.html" class="navigation navigation-prev " aria-label="Previous page: Getting Started with ANTLR v4">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="grammars.html" class="navigation navigation-next " aria-label="Next page: Grammar Structure">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Grammar Lexicon","level":"2.3","depth":1,"next":{"title":"Grammar Structure","level":"2.4","depth":1,"path":"chapters/grammars.md","ref":"chapters/grammars.md","articles":[]},"previous":{"title":"Getting Started with ANTLR v4","level":"2.2","depth":1,"path":"chapters/getting-started.md","ref":"chapters/getting-started.md","articles":[]},"dir":"ltr"},"config":{"plugins":["splitter","anchor-navigation-ex","-sharing","sharing-plus","-highlight","prism"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-okaidia.css"]},"splitter":{},"search":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"night","family":"serif","size":2},"anchor-navigation-ex":{"associatedWithSummary":false,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"fa fa-hand-o-right","level2Icon":"fa fa-hand-o-right","level3Icon":"fa fa-hand-o-right","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":true},"sharing":{"weibo":true,"qzone":true,"qq":true,"douban":true},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":true}},"theme":"default","author":"Little Captain","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"antlr4-doc","gitbook":"*","description":"antlr4-doc"},"file":{"path":"chapters/lexicon.md","mtime":"2021-11-11T03:00:11.621Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-11-11T03:15:01.994Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

