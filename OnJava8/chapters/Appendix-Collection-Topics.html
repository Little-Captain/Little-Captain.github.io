
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>附录:集合主题 · OnJava8</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="Little Captain">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-anchor-navigation-ex/style/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Appendix-Collection-Topics.html" />
    
    
    <link rel="prev" href="Appendix-Understanding-equals-and-hashCode.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                        <b>1.1.</b>
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="00-Preface.html">
            
                <a href="00-Preface.html">
            
                    
                        <b>1.2.</b>
                    
                    前言
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="00-Preface.html">
            
                <a href="00-Preface.html#教学目标">
            
                    
                        <b>1.2.1.</b>
                    
                    教学目标
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="00-Preface.html">
            
                <a href="00-Preface.html#语言设计错误">
            
                    
                        <b>1.2.2.</b>
                    
                    语言设计错误
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="00-Preface.html">
            
                <a href="00-Preface.html#测试用例">
            
                    
                        <b>1.2.3.</b>
                    
                    测试用例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="00-Preface.html">
            
                <a href="00-Preface.html#普及性">
            
                    
                        <b>1.2.4.</b>
                    
                    普及性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="00-Preface.html">
            
                <a href="00-Preface.html#关于安卓">
            
                    
                        <b>1.2.5.</b>
                    
                    关于安卓
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="00-Preface.html">
            
                <a href="00-Preface.html#电子版权声明">
            
                    
                        <b>1.2.6.</b>
                    
                    电子版权声明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="00-Preface.html">
            
                <a href="00-Preface.html#版本说明">
            
                    
                        <b>1.2.7.</b>
                    
                    版本说明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.8" data-path="00-Preface.html">
            
                <a href="00-Preface.html#封面设计">
            
                    
                        <b>1.2.8.</b>
                    
                    封面设计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.9" data-path="00-Preface.html">
            
                <a href="00-Preface.html#感谢的人">
            
                    
                        <b>1.2.9.</b>
                    
                    感谢的人
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.10" data-path="00-Preface.html">
            
                <a href="00-Preface.html#献礼">
            
                    
                        <b>1.2.10.</b>
                    
                    献礼
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="00-Introduction.html">
            
                <a href="00-Introduction.html">
            
                    
                        <b>1.3.</b>
                    
                    简介
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="00-Introduction.html">
            
                <a href="00-Introduction.html#前提条件">
            
                    
                        <b>1.3.1.</b>
                    
                    前提条件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="00-Introduction.html">
            
                <a href="00-Introduction.html#JDK文档">
            
                    
                        <b>1.3.2.</b>
                    
                    JDK文档
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="00-Introduction.html">
            
                <a href="00-Introduction.html#C编程思想">
            
                    
                        <b>1.3.3.</b>
                    
                    C编程思想
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="00-Introduction.html">
            
                <a href="00-Introduction.html#源码下载">
            
                    
                        <b>1.3.4.</b>
                    
                    源码下载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="00-Introduction.html">
            
                <a href="00-Introduction.html#编码样式">
            
                    
                        <b>1.3.5.</b>
                    
                    编码样式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="00-Introduction.html">
            
                <a href="00-Introduction.html#BUG提交">
            
                    
                        <b>1.3.6.</b>
                    
                    BUG提交
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.7" data-path="00-Introduction.html">
            
                <a href="00-Introduction.html#邮箱订阅">
            
                    
                        <b>1.3.7.</b>
                    
                    邮箱订阅
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.8" data-path="00-Introduction.html">
            
                <a href="00-Introduction.html#Java图形界面">
            
                    
                        <b>1.3.8.</b>
                    
                    Java图形界面
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="01-What-is-an-Object.html">
            
                <a href="01-What-is-an-Object.html">
            
                    
                        <b>1.4.</b>
                    
                    第一章 对象的概念
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="01-What-is-an-Object.html">
            
                <a href="01-What-is-an-Object.html#抽象">
            
                    
                        <b>1.4.1.</b>
                    
                    抽象
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="01-What-is-an-Object.html">
            
                <a href="01-What-is-an-Object.html#接口">
            
                    
                        <b>1.4.2.</b>
                    
                    接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.3" data-path="01-What-is-an-Object.html">
            
                <a href="01-What-is-an-Object.html#服务提供">
            
                    
                        <b>1.4.3.</b>
                    
                    服务提供
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.4" data-path="01-What-is-an-Object.html">
            
                <a href="01-What-is-an-Object.html#封装">
            
                    
                        <b>1.4.4.</b>
                    
                    封装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.5" data-path="01-What-is-an-Object.html">
            
                <a href="01-What-is-an-Object.html#复用">
            
                    
                        <b>1.4.5.</b>
                    
                    复用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.6" data-path="01-What-is-an-Object.html">
            
                <a href="01-What-is-an-Object.html#继承">
            
                    
                        <b>1.4.6.</b>
                    
                    继承
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.7" data-path="01-What-is-an-Object.html">
            
                <a href="01-What-is-an-Object.html#多态">
            
                    
                        <b>1.4.7.</b>
                    
                    多态
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.8" data-path="01-What-is-an-Object.html">
            
                <a href="01-What-is-an-Object.html#单继承">
            
                    
                        <b>1.4.8.</b>
                    
                    单继承
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.9" data-path="01-What-is-an-Object.html">
            
                <a href="01-What-is-an-Object.html#集合">
            
                    
                        <b>1.4.9.</b>
                    
                    集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.10" data-path="01-What-is-an-Object.html">
            
                <a href="01-What-is-an-Object.html#生命周期">
            
                    
                        <b>1.4.10.</b>
                    
                    生命周期
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.11" data-path="01-What-is-an-Object.html">
            
                <a href="01-What-is-an-Object.html#异常处理">
            
                    
                        <b>1.4.11.</b>
                    
                    异常处理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.12" data-path="01-What-is-an-Object.html">
            
                <a href="01-What-is-an-Object.html#本章小结">
            
                    
                        <b>1.4.12.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="02-Installing-Java-and-the-Book-Examples.html">
            
                <a href="02-Installing-Java-and-the-Book-Examples.html">
            
                    
                        <b>1.5.</b>
                    
                    第二章 安装Java和本书用例
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="02-Installing-Java-and-the-Book-Examples.html">
            
                <a href="02-Installing-Java-and-the-Book-Examples.html#编辑器">
            
                    
                        <b>1.5.1.</b>
                    
                    编辑器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="02-Installing-Java-and-the-Book-Examples.html">
            
                <a href="02-Installing-Java-and-the-Book-Examples.html#Shell">
            
                    
                        <b>1.5.2.</b>
                    
                    Shell
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="02-Installing-Java-and-the-Book-Examples.html">
            
                <a href="02-Installing-Java-and-the-Book-Examples.html#Java安装">
            
                    
                        <b>1.5.3.</b>
                    
                    Java安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="02-Installing-Java-and-the-Book-Examples.html">
            
                <a href="02-Installing-Java-and-the-Book-Examples.html#校验安装">
            
                    
                        <b>1.5.4.</b>
                    
                    校验安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="02-Installing-Java-and-the-Book-Examples.html">
            
                <a href="02-Installing-Java-and-the-Book-Examples.html#安装和运行代码示例">
            
                    
                        <b>1.5.5.</b>
                    
                    安装和运行代码示例
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="03-Objects-Everywhere.html">
            
                <a href="03-Objects-Everywhere.html">
            
                    
                        <b>1.6.</b>
                    
                    第三章 万物皆对象
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="03-Objects-Everywhere.html">
            
                <a href="03-Objects-Everywhere.html#对象操纵">
            
                    
                        <b>1.6.1.</b>
                    
                    对象操纵
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="03-Objects-Everywhere.html">
            
                <a href="03-Objects-Everywhere.html#对象创建">
            
                    
                        <b>1.6.2.</b>
                    
                    对象创建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="03-Objects-Everywhere.html">
            
                <a href="03-Objects-Everywhere.html#代码注释">
            
                    
                        <b>1.6.3.</b>
                    
                    代码注释
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="03-Objects-Everywhere.html">
            
                <a href="03-Objects-Everywhere.html#对象清理">
            
                    
                        <b>1.6.4.</b>
                    
                    对象清理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.5" data-path="03-Objects-Everywhere.html">
            
                <a href="03-Objects-Everywhere.html#类的创建">
            
                    
                        <b>1.6.5.</b>
                    
                    类的创建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.6" data-path="03-Objects-Everywhere.html">
            
                <a href="03-Objects-Everywhere.html#程序编写">
            
                    
                        <b>1.6.6.</b>
                    
                    程序编写
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.7" data-path="03-Objects-Everywhere.html">
            
                <a href="03-Objects-Everywhere.html#小试牛刀">
            
                    
                        <b>1.6.7.</b>
                    
                    小试牛刀
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.8" data-path="03-Objects-Everywhere.html">
            
                <a href="03-Objects-Everywhere.html#编码风格">
            
                    
                        <b>1.6.8.</b>
                    
                    编码风格
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.9" data-path="03-Objects-Everywhere.html">
            
                <a href="03-Objects-Everywhere.html#本章小结">
            
                    
                        <b>1.6.9.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="04-Operators.html">
            
                <a href="04-Operators.html">
            
                    
                        <b>1.7.</b>
                    
                    第四章 运算符
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="04-Operators.html">
            
                <a href="04-Operators.html#使用说明">
            
                    
                        <b>1.7.1.</b>
                    
                    使用说明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="04-Operators.html">
            
                <a href="04-Operators.html#优先级">
            
                    
                        <b>1.7.2.</b>
                    
                    优先级
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="04-Operators.html">
            
                <a href="04-Operators.html#赋值">
            
                    
                        <b>1.7.3.</b>
                    
                    赋值
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="04-Operators.html">
            
                <a href="04-Operators.html#算术运算符">
            
                    
                        <b>1.7.4.</b>
                    
                    算术运算符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="04-Operators.html">
            
                <a href="04-Operators.html#递增和递减">
            
                    
                        <b>1.7.5.</b>
                    
                    递增和递减
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="04-Operators.html">
            
                <a href="04-Operators.html#关系运算符">
            
                    
                        <b>1.7.6.</b>
                    
                    关系运算符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="04-Operators.html">
            
                <a href="04-Operators.html#逻辑运算符">
            
                    
                        <b>1.7.7.</b>
                    
                    逻辑运算符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="04-Operators.html">
            
                <a href="04-Operators.html#字面值常量">
            
                    
                        <b>1.7.8.</b>
                    
                    字面值常量
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="04-Operators.html">
            
                <a href="04-Operators.html#按位运算符">
            
                    
                        <b>1.7.9.</b>
                    
                    按位运算符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.10" data-path="04-Operators.html">
            
                <a href="04-Operators.html#移位运算符">
            
                    
                        <b>1.7.10.</b>
                    
                    移位运算符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11" data-path="04-Operators.html">
            
                <a href="04-Operators.html#三元运算符">
            
                    
                        <b>1.7.11.</b>
                    
                    三元运算符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.12" data-path="04-Operators.html">
            
                <a href="04-Operators.html#字符串运算符">
            
                    
                        <b>1.7.12.</b>
                    
                    字符串运算符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.13" data-path="04-Operators.html">
            
                <a href="04-Operators.html#常见陷阱">
            
                    
                        <b>1.7.13.</b>
                    
                    常见陷阱
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.14" data-path="04-Operators.html">
            
                <a href="04-Operators.html#类型转换">
            
                    
                        <b>1.7.14.</b>
                    
                    类型转换
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15" data-path="04-Operators.html">
            
                <a href="04-Operators.html#Java没有sizeof">
            
                    
                        <b>1.7.15.</b>
                    
                    Java没有sizeof
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.16" data-path="04-Operators.html">
            
                <a href="04-Operators.html#运算符总结">
            
                    
                        <b>1.7.16.</b>
                    
                    运算符总结
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.17" data-path="04-Operators.html">
            
                <a href="04-Operators.html#本章小结">
            
                    
                        <b>1.7.17.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="05-Control-Flow.html">
            
                <a href="05-Control-Flow.html">
            
                    
                        <b>1.8.</b>
                    
                    第五章 控制流
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="05-Control-Flow.html">
            
                <a href="05-Control-Flow.html#true和false">
            
                    
                        <b>1.8.1.</b>
                    
                    true和false
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="05-Control-Flow.html">
            
                <a href="05-Control-Flow.html#if-else">
            
                    
                        <b>1.8.2.</b>
                    
                    if-else
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="05-Control-Flow.html">
            
                <a href="05-Control-Flow.html#迭代语句">
            
                    
                        <b>1.8.3.</b>
                    
                    迭代语句
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="05-Control-Flow.html">
            
                <a href="05-Control-Flow.html#for-in语法">
            
                    
                        <b>1.8.4.</b>
                    
                    for-in语法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="05-Control-Flow.html">
            
                <a href="05-Control-Flow.html#return">
            
                    
                        <b>1.8.5.</b>
                    
                    return
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="05-Control-Flow.html">
            
                <a href="05-Control-Flow.html#break和continue">
            
                    
                        <b>1.8.6.</b>
                    
                    break和continue
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="05-Control-Flow.html">
            
                <a href="05-Control-Flow.html#臭名昭著的goto">
            
                    
                        <b>1.8.7.</b>
                    
                    臭名昭著的goto
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.8" data-path="05-Control-Flow.html">
            
                <a href="05-Control-Flow.html#switch">
            
                    
                        <b>1.8.8.</b>
                    
                    switch
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.9" data-path="05-Control-Flow.html">
            
                <a href="05-Control-Flow.html#switch字符串">
            
                    
                        <b>1.8.9.</b>
                    
                    switch字符串
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.10" data-path="05-Control-Flow.html">
            
                <a href="05-Control-Flow.html#本章小结">
            
                    
                        <b>1.8.10.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="06-Housekeeping.html">
            
                <a href="06-Housekeeping.html">
            
                    
                        <b>1.9.</b>
                    
                    第六章 初始化和清理
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="06-Housekeeping.html">
            
                <a href="06-Housekeeping.html#利用构造器保证初始化">
            
                    
                        <b>1.9.1.</b>
                    
                    利用构造器保证初始化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="06-Housekeeping.html">
            
                <a href="06-Housekeeping.html#方法重载">
            
                    
                        <b>1.9.2.</b>
                    
                    方法重载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="06-Housekeeping.html">
            
                <a href="06-Housekeeping.html#无参构造器">
            
                    
                        <b>1.9.3.</b>
                    
                    无参构造器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="06-Housekeeping.html">
            
                <a href="06-Housekeeping.html#this关键字">
            
                    
                        <b>1.9.4.</b>
                    
                    this关键字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="06-Housekeeping.html">
            
                <a href="06-Housekeeping.html#垃圾回收器">
            
                    
                        <b>1.9.5.</b>
                    
                    垃圾回收器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="06-Housekeeping.html">
            
                <a href="06-Housekeeping.html#成员初始化">
            
                    
                        <b>1.9.6.</b>
                    
                    成员初始化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="06-Housekeeping.html">
            
                <a href="06-Housekeeping.html#构造器初始化">
            
                    
                        <b>1.9.7.</b>
                    
                    构造器初始化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.8" data-path="06-Housekeeping.html">
            
                <a href="06-Housekeeping.html#数组初始化">
            
                    
                        <b>1.9.8.</b>
                    
                    数组初始化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.9" data-path="06-Housekeeping.html">
            
                <a href="06-Housekeeping.html#枚举类型">
            
                    
                        <b>1.9.9.</b>
                    
                    枚举类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.10" data-path="06-Housekeeping.html">
            
                <a href="06-Housekeeping.html#本章小结">
            
                    
                        <b>1.9.10.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="07-Implementation-Hiding.html">
            
                <a href="07-Implementation-Hiding.html">
            
                    
                        <b>1.10.</b>
                    
                    第七章 封装
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="07-Implementation-Hiding.html">
            
                <a href="07-Implementation-Hiding.html#包的概念">
            
                    
                        <b>1.10.1.</b>
                    
                    包的概念
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="07-Implementation-Hiding.html">
            
                <a href="07-Implementation-Hiding.html#访问权限修饰符">
            
                    
                        <b>1.10.2.</b>
                    
                    访问权限修饰符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="07-Implementation-Hiding.html">
            
                <a href="07-Implementation-Hiding.html#接口和实现">
            
                    
                        <b>1.10.3.</b>
                    
                    接口和实现
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="07-Implementation-Hiding.html">
            
                <a href="07-Implementation-Hiding.html#类访问权限">
            
                    
                        <b>1.10.4.</b>
                    
                    类访问权限
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="07-Implementation-Hiding.html">
            
                <a href="07-Implementation-Hiding.html#本章小结">
            
                    
                        <b>1.10.5.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="08-Reuse.html">
            
                <a href="08-Reuse.html">
            
                    
                        <b>1.11.</b>
                    
                    第八章 复用
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="08-Reuse.html">
            
                <a href="08-Reuse.html#组合语法">
            
                    
                        <b>1.11.1.</b>
                    
                    组合语法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="08-Reuse.html">
            
                <a href="08-Reuse.html#继承语法">
            
                    
                        <b>1.11.2.</b>
                    
                    继承语法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="08-Reuse.html">
            
                <a href="08-Reuse.html#委托">
            
                    
                        <b>1.11.3.</b>
                    
                    委托
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.4" data-path="08-Reuse.html">
            
                <a href="08-Reuse.html#结合组合与继承">
            
                    
                        <b>1.11.4.</b>
                    
                    结合组合与继承
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.5" data-path="08-Reuse.html">
            
                <a href="08-Reuse.html#组合与继承的选择">
            
                    
                        <b>1.11.5.</b>
                    
                    组合与继承的选择
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.6" data-path="08-Reuse.html">
            
                <a href="08-Reuse.html#protected">
            
                    
                        <b>1.11.6.</b>
                    
                    protected
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.7" data-path="08-Reuse.html">
            
                <a href="08-Reuse.html#向上转型">
            
                    
                        <b>1.11.7.</b>
                    
                    向上转型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.8" data-path="08-Reuse.html">
            
                <a href="08-Reuse.html#final关键字">
            
                    
                        <b>1.11.8.</b>
                    
                    final关键字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.9" data-path="08-Reuse.html">
            
                <a href="08-Reuse.html#类初始化和加载">
            
                    
                        <b>1.11.9.</b>
                    
                    类初始化和加载
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.10" data-path="08-Reuse.html">
            
                <a href="08-Reuse.html#本章小结">
            
                    
                        <b>1.11.10.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="09-Polymorphism.html">
            
                <a href="09-Polymorphism.html">
            
                    
                        <b>1.12.</b>
                    
                    第九章 多态
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="09-Polymorphism.html">
            
                <a href="09-Polymorphism.html#向上转型回溯">
            
                    
                        <b>1.12.1.</b>
                    
                    向上转型回溯
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="09-Polymorphism.html">
            
                <a href="09-Polymorphism.html#深入理解">
            
                    
                        <b>1.12.2.</b>
                    
                    深入理解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="09-Polymorphism.html">
            
                <a href="09-Polymorphism.html#构造器和多态">
            
                    
                        <b>1.12.3.</b>
                    
                    构造器和多态
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="09-Polymorphism.html">
            
                <a href="09-Polymorphism.html#返回类型协变">
            
                    
                        <b>1.12.4.</b>
                    
                    返回类型协变
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="09-Polymorphism.html">
            
                <a href="09-Polymorphism.html#使用继承设计">
            
                    
                        <b>1.12.5.</b>
                    
                    使用继承设计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.6" data-path="09-Polymorphism.html">
            
                <a href="09-Polymorphism.html#本章小结">
            
                    
                        <b>1.12.6.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="10-Interfaces.html">
            
                <a href="10-Interfaces.html">
            
                    
                        <b>1.13.</b>
                    
                    第十章 接口
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="10-Interfaces.html">
            
                <a href="10-Interfaces.html#抽象类和方法">
            
                    
                        <b>1.13.1.</b>
                    
                    抽象类和方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="10-Interfaces.html">
            
                <a href="10-Interfaces.html#接口创建">
            
                    
                        <b>1.13.2.</b>
                    
                    接口创建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="10-Interfaces.html">
            
                <a href="10-Interfaces.html#抽象类和接口">
            
                    
                        <b>1.13.3.</b>
                    
                    抽象类和接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4" data-path="10-Interfaces.html">
            
                <a href="10-Interfaces.html#完全解耦">
            
                    
                        <b>1.13.4.</b>
                    
                    完全解耦
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.5" data-path="10-Interfaces.html">
            
                <a href="10-Interfaces.html#多接口结合">
            
                    
                        <b>1.13.5.</b>
                    
                    多接口结合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.6" data-path="10-Interfaces.html">
            
                <a href="10-Interfaces.html#使用继承扩展接口">
            
                    
                        <b>1.13.6.</b>
                    
                    使用继承扩展接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.7" data-path="10-Interfaces.html">
            
                <a href="10-Interfaces.html#接口适配">
            
                    
                        <b>1.13.7.</b>
                    
                    接口适配
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.8" data-path="10-Interfaces.html">
            
                <a href="10-Interfaces.html#接口字段">
            
                    
                        <b>1.13.8.</b>
                    
                    接口字段
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.9" data-path="10-Interfaces.html">
            
                <a href="10-Interfaces.html#接口嵌套">
            
                    
                        <b>1.13.9.</b>
                    
                    接口嵌套
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.10" data-path="10-Interfaces.html">
            
                <a href="10-Interfaces.html#接口和工厂方法模式">
            
                    
                        <b>1.13.10.</b>
                    
                    接口和工厂方法模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.11" data-path="10-Interfaces.html">
            
                <a href="10-Interfaces.html#本章小结">
            
                    
                        <b>1.13.11.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="11-Inner-Classes.html">
            
                <a href="11-Inner-Classes.html">
            
                    
                        <b>1.14.</b>
                    
                    第十一章 内部类
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="11-Inner-Classes.html">
            
                <a href="11-Inner-Classes.html#创建内部类">
            
                    
                        <b>1.14.1.</b>
                    
                    创建内部类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="11-Inner-Classes.html">
            
                <a href="11-Inner-Classes.html#链接外部类">
            
                    
                        <b>1.14.2.</b>
                    
                    链接外部类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="11-Inner-Classes.html">
            
                <a href="11-Inner-Classes.html#内部类this和new的使用">
            
                    
                        <b>1.14.3.</b>
                    
                    内部类this和new的使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.4" data-path="11-Inner-Classes.html">
            
                <a href="11-Inner-Classes.html#内部类向上转型">
            
                    
                        <b>1.14.4.</b>
                    
                    内部类向上转型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.5" data-path="11-Inner-Classes.html">
            
                <a href="11-Inner-Classes.html#内部类方法和作用域">
            
                    
                        <b>1.14.5.</b>
                    
                    内部类方法和作用域
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.6" data-path="11-Inner-Classes.html">
            
                <a href="11-Inner-Classes.html#匿名内部类">
            
                    
                        <b>1.14.6.</b>
                    
                    匿名内部类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.7" data-path="11-Inner-Classes.html">
            
                <a href="11-Inner-Classes.html#嵌套类">
            
                    
                        <b>1.14.7.</b>
                    
                    嵌套类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.8" data-path="11-Inner-Classes.html">
            
                <a href="11-Inner-Classes.html#为什么需要内部类">
            
                    
                        <b>1.14.8.</b>
                    
                    为什么需要内部类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.9" data-path="11-Inner-Classes.html">
            
                <a href="11-Inner-Classes.html#继承内部类">
            
                    
                        <b>1.14.9.</b>
                    
                    继承内部类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.10" data-path="11-Inner-Classes.html">
            
                <a href="11-Inner-Classes.html#重写内部类">
            
                    
                        <b>1.14.10.</b>
                    
                    重写内部类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.11" data-path="11-Inner-Classes.html">
            
                <a href="11-Inner-Classes.html#内部类局部变量">
            
                    
                        <b>1.14.11.</b>
                    
                    内部类局部变量
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.12" data-path="11-Inner-Classes.html">
            
                <a href="11-Inner-Classes.html#内部类标识符">
            
                    
                        <b>1.14.12.</b>
                    
                    内部类标识符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.13" data-path="11-Inner-Classes.html">
            
                <a href="11-Inner-Classes.html#本章小结">
            
                    
                        <b>1.14.13.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="12-Collections.html">
            
                <a href="12-Collections.html">
            
                    
                        <b>1.15.</b>
                    
                    第十二章 集合
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="12-Collections.html">
            
                <a href="12-Collections.html#泛型和类型安全的集合">
            
                    
                        <b>1.15.1.</b>
                    
                    泛型和类型安全的集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="12-Collections.html">
            
                <a href="12-Collections.html#基本概念">
            
                    
                        <b>1.15.2.</b>
                    
                    基本概念
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.3" data-path="12-Collections.html">
            
                <a href="12-Collections.html#添加元素组">
            
                    
                        <b>1.15.3.</b>
                    
                    添加元素组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.4" data-path="12-Collections.html">
            
                <a href="12-Collections.html#集合的打印">
            
                    
                        <b>1.15.4.</b>
                    
                    集合的打印
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.5" data-path="12-Collections.html">
            
                <a href="12-Collections.html#列表List">
            
                    
                        <b>1.15.5.</b>
                    
                    列表List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.6" data-path="12-Collections.html">
            
                <a href="12-Collections.html#迭代器Iterators">
            
                    
                        <b>1.15.6.</b>
                    
                    迭代器Iterators
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.7" data-path="12-Collections.html">
            
                <a href="12-Collections.html#链表LinkedList">
            
                    
                        <b>1.15.7.</b>
                    
                    链表LinkedList
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.8" data-path="12-Collections.html">
            
                <a href="12-Collections.html#堆栈Stack">
            
                    
                        <b>1.15.8.</b>
                    
                    堆栈Stack
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.9" data-path="12-Collections.html">
            
                <a href="12-Collections.html#集合Set">
            
                    
                        <b>1.15.9.</b>
                    
                    集合Set
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.10" data-path="12-Collections.html">
            
                <a href="12-Collections.html#映射Map">
            
                    
                        <b>1.15.10.</b>
                    
                    映射Map
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.11" data-path="12-Collections.html">
            
                <a href="12-Collections.html#队列Queue">
            
                    
                        <b>1.15.11.</b>
                    
                    队列Queue
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.12" data-path="12-Collections.html">
            
                <a href="12-Collections.html#集合与迭代器">
            
                    
                        <b>1.15.12.</b>
                    
                    集合与迭代器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.13" data-path="12-Collections.html">
            
                <a href="12-Collections.html#for-in和迭代器">
            
                    
                        <b>1.15.13.</b>
                    
                    for-in和迭代器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.14" data-path="12-Collections.html">
            
                <a href="12-Collections.html#本章小结">
            
                    
                        <b>1.15.14.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="13-Functional-Programming.html">
            
                <a href="13-Functional-Programming.html">
            
                    
                        <b>1.16.</b>
                    
                    第十三章 函数式编程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.16.1" data-path="13-Functional-Programming.html">
            
                <a href="13-Functional-Programming.html#新旧对比">
            
                    
                        <b>1.16.1.</b>
                    
                    新旧对比
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.2" data-path="13-Functional-Programming.html">
            
                <a href="13-Functional-Programming.html#Lambda表达式">
            
                    
                        <b>1.16.2.</b>
                    
                    Lambda表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.3" data-path="13-Functional-Programming.html">
            
                <a href="13-Functional-Programming.html#方法引用">
            
                    
                        <b>1.16.3.</b>
                    
                    方法引用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.4" data-path="13-Functional-Programming.html">
            
                <a href="13-Functional-Programming.html#函数式接口">
            
                    
                        <b>1.16.4.</b>
                    
                    函数式接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.5" data-path="13-Functional-Programming.html">
            
                <a href="13-Functional-Programming.html#高阶函数">
            
                    
                        <b>1.16.5.</b>
                    
                    高阶函数
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.6" data-path="13-Functional-Programming.html">
            
                <a href="13-Functional-Programming.html#闭包">
            
                    
                        <b>1.16.6.</b>
                    
                    闭包
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.7" data-path="13-Functional-Programming.html">
            
                <a href="13-Functional-Programming.html#函数组合">
            
                    
                        <b>1.16.7.</b>
                    
                    函数组合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.8" data-path="13-Functional-Programming.html">
            
                <a href="13-Functional-Programming.html#柯里化和部分求值">
            
                    
                        <b>1.16.8.</b>
                    
                    柯里化和部分求值
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.9" data-path="13-Functional-Programming.html">
            
                <a href="13-Functional-Programming.html#纯函数式编程">
            
                    
                        <b>1.16.9.</b>
                    
                    纯函数式编程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.16.10" data-path="13-Functional-Programming.html">
            
                <a href="13-Functional-Programming.html#本章小结">
            
                    
                        <b>1.16.10.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="14-Streams.html">
            
                <a href="14-Streams.html">
            
                    
                        <b>1.17.</b>
                    
                    第十四章 流式编程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="14-Streams.html">
            
                <a href="14-Streams.html#流支持">
            
                    
                        <b>1.17.1.</b>
                    
                    流支持
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2" data-path="14-Streams.html">
            
                <a href="14-Streams.html#流创建">
            
                    
                        <b>1.17.2.</b>
                    
                    流创建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.3" data-path="14-Streams.html">
            
                <a href="14-Streams.html#中级流操作">
            
                    
                        <b>1.17.3.</b>
                    
                    中级流操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.4" data-path="14-Streams.html">
            
                <a href="14-Streams.html#Optional类">
            
                    
                        <b>1.17.4.</b>
                    
                    Optional类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.5" data-path="14-Streams.html">
            
                <a href="14-Streams.html#终端操作">
            
                    
                        <b>1.17.5.</b>
                    
                    终端操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.6" data-path="14-Streams.html">
            
                <a href="14-Streams.html#本章小结">
            
                    
                        <b>1.17.6.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="15-Exceptions.html">
            
                <a href="15-Exceptions.html">
            
                    
                        <b>1.18.</b>
                    
                    第十五章 异常
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.18.1" data-path="15-Exceptions.html">
            
                <a href="15-Exceptions.html#异常概念">
            
                    
                        <b>1.18.1.</b>
                    
                    异常概念
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.2" data-path="15-Exceptions.html">
            
                <a href="15-Exceptions.html#基本异常">
            
                    
                        <b>1.18.2.</b>
                    
                    基本异常
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.3" data-path="15-Exceptions.html">
            
                <a href="15-Exceptions.html#异常捕获">
            
                    
                        <b>1.18.3.</b>
                    
                    异常捕获
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.4" data-path="15-Exceptions.html">
            
                <a href="15-Exceptions.html#自定义异常">
            
                    
                        <b>1.18.4.</b>
                    
                    自定义异常
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.5" data-path="15-Exceptions.html">
            
                <a href="15-Exceptions.html#异常规范">
            
                    
                        <b>1.18.5.</b>
                    
                    异常规范
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.6" data-path="15-Exceptions.html">
            
                <a href="15-Exceptions.html#任意异常捕获">
            
                    
                        <b>1.18.6.</b>
                    
                    任意异常捕获
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.7" data-path="15-Exceptions.html">
            
                <a href="15-Exceptions.html#Java标准异常">
            
                    
                        <b>1.18.7.</b>
                    
                    Java标准异常
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.8" data-path="15-Exceptions.html">
            
                <a href="15-Exceptions.html#finally关键字">
            
                    
                        <b>1.18.8.</b>
                    
                    finally关键字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.9" data-path="15-Exceptions.html">
            
                <a href="15-Exceptions.html#异常限制">
            
                    
                        <b>1.18.9.</b>
                    
                    异常限制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.10" data-path="15-Exceptions.html">
            
                <a href="15-Exceptions.html#异常构造">
            
                    
                        <b>1.18.10.</b>
                    
                    异常构造
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.11" data-path="15-Exceptions.html">
            
                <a href="15-Exceptions.html#Try-With-Resources用法">
            
                    
                        <b>1.18.11.</b>
                    
                    Try-With-Resources用法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.12" data-path="15-Exceptions.html">
            
                <a href="15-Exceptions.html#异常匹配">
            
                    
                        <b>1.18.12.</b>
                    
                    异常匹配
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.13" data-path="15-Exceptions.html">
            
                <a href="15-Exceptions.html#异常准则">
            
                    
                        <b>1.18.13.</b>
                    
                    异常准则
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.14" data-path="15-Exceptions.html">
            
                <a href="15-Exceptions.html#异常指南">
            
                    
                        <b>1.18.14.</b>
                    
                    异常指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.18.15" data-path="15-Exceptions.html">
            
                <a href="15-Exceptions.html#本章小结">
            
                    
                        <b>1.18.15.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="16-Validating-Your-Code.html">
            
                <a href="16-Validating-Your-Code.html">
            
                    
                        <b>1.19.</b>
                    
                    第十六章 代码校验
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.19.1" data-path="16-Validating-Your-Code.html">
            
                <a href="16-Validating-Your-Code.html#测试">
            
                    
                        <b>1.19.1.</b>
                    
                    测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.2" data-path="16-Validating-Your-Code.html">
            
                <a href="16-Validating-Your-Code.html#前提条件">
            
                    
                        <b>1.19.2.</b>
                    
                    前提条件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.3" data-path="16-Validating-Your-Code.html">
            
                <a href="16-Validating-Your-Code.html#测试驱动开发">
            
                    
                        <b>1.19.3.</b>
                    
                    测试驱动开发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.4" data-path="16-Validating-Your-Code.html">
            
                <a href="16-Validating-Your-Code.html#日志">
            
                    
                        <b>1.19.4.</b>
                    
                    日志
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.5" data-path="16-Validating-Your-Code.html">
            
                <a href="16-Validating-Your-Code.html#调试">
            
                    
                        <b>1.19.5.</b>
                    
                    调试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.6" data-path="16-Validating-Your-Code.html">
            
                <a href="16-Validating-Your-Code.html#基准测试">
            
                    
                        <b>1.19.6.</b>
                    
                    基准测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.7" data-path="16-Validating-Your-Code.html">
            
                <a href="16-Validating-Your-Code.html#分析和优化">
            
                    
                        <b>1.19.7.</b>
                    
                    分析和优化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.8" data-path="16-Validating-Your-Code.html">
            
                <a href="16-Validating-Your-Code.html#风格检测">
            
                    
                        <b>1.19.8.</b>
                    
                    风格检测
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.9" data-path="16-Validating-Your-Code.html">
            
                <a href="16-Validating-Your-Code.html#静态错误分析">
            
                    
                        <b>1.19.9.</b>
                    
                    静态错误分析
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.10" data-path="16-Validating-Your-Code.html">
            
                <a href="16-Validating-Your-Code.html#代码重审">
            
                    
                        <b>1.19.10.</b>
                    
                    代码重审
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.11" data-path="16-Validating-Your-Code.html">
            
                <a href="16-Validating-Your-Code.html#结对编程">
            
                    
                        <b>1.19.11.</b>
                    
                    结对编程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.12" data-path="16-Validating-Your-Code.html">
            
                <a href="16-Validating-Your-Code.html#重构">
            
                    
                        <b>1.19.12.</b>
                    
                    重构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.13" data-path="16-Validating-Your-Code.html">
            
                <a href="16-Validating-Your-Code.html#持续集成">
            
                    
                        <b>1.19.13.</b>
                    
                    持续集成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19.14" data-path="16-Validating-Your-Code.html">
            
                <a href="16-Validating-Your-Code.html#本章小结">
            
                    
                        <b>1.19.14.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="17-Files.html">
            
                <a href="17-Files.html">
            
                    
                        <b>1.20.</b>
                    
                    第十七章 文件
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.20.1" data-path="17-Files.html">
            
                <a href="17-Files.html#文件和目录路径">
            
                    
                        <b>1.20.1.</b>
                    
                    文件和目录路径
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.2" data-path="17-Files.html">
            
                <a href="17-Files.html#目录">
            
                    
                        <b>1.20.2.</b>
                    
                    目录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.3" data-path="17-Files.html">
            
                <a href="17-Files.html#文件系统">
            
                    
                        <b>1.20.3.</b>
                    
                    文件系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.4" data-path="17-Files.html">
            
                <a href="17-Files.html#路径监听">
            
                    
                        <b>1.20.4.</b>
                    
                    路径监听
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.5" data-path="17-Files.html">
            
                <a href="17-Files.html#文件查找">
            
                    
                        <b>1.20.5.</b>
                    
                    文件查找
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.6" data-path="17-Files.html">
            
                <a href="17-Files.html#文件读写">
            
                    
                        <b>1.20.6.</b>
                    
                    文件读写
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20.7" data-path="17-Files.html">
            
                <a href="17-Files.html#本章小结">
            
                    
                        <b>1.20.7.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.21" data-path="18-Strings.html">
            
                <a href="18-Strings.html">
            
                    
                        <b>1.21.</b>
                    
                    第十八章 字符串
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.21.1" data-path="18-Strings.html">
            
                <a href="18-Strings.html#字符串的不可变">
            
                    
                        <b>1.21.1.</b>
                    
                    字符串的不可变
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.2" data-path="18-Strings.html">
            
                <a href="18-Strings.html#重载和StringBuilder">
            
                    
                        <b>1.21.2.</b>
                    
                    重载和StringBuilder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.3" data-path="18-Strings.html">
            
                <a href="18-Strings.html#意外递归">
            
                    
                        <b>1.21.3.</b>
                    
                    意外递归
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.4" data-path="18-Strings.html">
            
                <a href="18-Strings.html#字符串操作">
            
                    
                        <b>1.21.4.</b>
                    
                    字符串操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.5" data-path="18-Strings.html">
            
                <a href="18-Strings.html#格式化输出">
            
                    
                        <b>1.21.5.</b>
                    
                    格式化输出
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.6" data-path="18-Strings.html">
            
                <a href="18-Strings.html#常规表达式">
            
                    
                        <b>1.21.6.</b>
                    
                    常规表达式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.7" data-path="18-Strings.html">
            
                <a href="18-Strings.html#扫描输入">
            
                    
                        <b>1.21.7.</b>
                    
                    扫描输入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.8" data-path="18-Strings.html">
            
                <a href="18-Strings.html#StringTokenizer类">
            
                    
                        <b>1.21.8.</b>
                    
                    StringTokenizer类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.21.9" data-path="18-Strings.html">
            
                <a href="18-Strings.html#本章小结">
            
                    
                        <b>1.21.9.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.22" data-path="19-Type-Information.html">
            
                <a href="19-Type-Information.html">
            
                    
                        <b>1.22.</b>
                    
                    第十九章 类型信息
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.22.1" data-path="19-Type-Information.html">
            
                <a href="19-Type-Information.html#运行时类型信息">
            
                    
                        <b>1.22.1.</b>
                    
                    运行时类型信息
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.2" data-path="19-Type-Information.html">
            
                <a href="19-Type-Information.html#类的对象">
            
                    
                        <b>1.22.2.</b>
                    
                    类的对象
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.3" data-path="19-Type-Information.html">
            
                <a href="19-Type-Information.html#类型转换检测">
            
                    
                        <b>1.22.3.</b>
                    
                    类型转换检测
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.4" data-path="19-Type-Information.html">
            
                <a href="19-Type-Information.html#注册工厂">
            
                    
                        <b>1.22.4.</b>
                    
                    注册工厂
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.5" data-path="19-Type-Information.html">
            
                <a href="19-Type-Information.html#类的等价比较">
            
                    
                        <b>1.22.5.</b>
                    
                    类的等价比较
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.6" data-path="19-Type-Information.html">
            
                <a href="19-Type-Information.html#反射运行时类信息">
            
                    
                        <b>1.22.6.</b>
                    
                    反射运行时类信息
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.7" data-path="19-Type-Information.html">
            
                <a href="19-Type-Information.html#动态代理">
            
                    
                        <b>1.22.7.</b>
                    
                    动态代理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.8" data-path="19-Type-Information.html">
            
                <a href="19-Type-Information.html#Optional类">
            
                    
                        <b>1.22.8.</b>
                    
                    Optional类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.9" data-path="19-Type-Information.html">
            
                <a href="19-Type-Information.html#接口和类型">
            
                    
                        <b>1.22.9.</b>
                    
                    接口和类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.22.10" data-path="19-Type-Information.html">
            
                <a href="19-Type-Information.html#本章小结">
            
                    
                        <b>1.22.10.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.23" data-path="20-Generics.html">
            
                <a href="20-Generics.html">
            
                    
                        <b>1.23.</b>
                    
                    第二十章 泛型
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.23.1" data-path="20-Generics.html">
            
                <a href="20-Generics.html#简单泛型">
            
                    
                        <b>1.23.1.</b>
                    
                    简单泛型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.2" data-path="20-Generics.html">
            
                <a href="20-Generics.html#泛型接口">
            
                    
                        <b>1.23.2.</b>
                    
                    泛型接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.3" data-path="20-Generics.html">
            
                <a href="20-Generics.html#泛型方法">
            
                    
                        <b>1.23.3.</b>
                    
                    泛型方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.4" data-path="20-Generics.html">
            
                <a href="20-Generics.html#复杂模型构建">
            
                    
                        <b>1.23.4.</b>
                    
                    复杂模型构建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.5" data-path="20-Generics.html">
            
                <a href="20-Generics.html#泛型擦除">
            
                    
                        <b>1.23.5.</b>
                    
                    泛型擦除
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.6" data-path="20-Generics.html">
            
                <a href="20-Generics.html#补偿擦除">
            
                    
                        <b>1.23.6.</b>
                    
                    补偿擦除
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.7" data-path="20-Generics.html">
            
                <a href="20-Generics.html#边界">
            
                    
                        <b>1.23.7.</b>
                    
                    边界
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.8" data-path="20-Generics.html">
            
                <a href="20-Generics.html#通配符">
            
                    
                        <b>1.23.8.</b>
                    
                    通配符
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.9" data-path="20-Generics.html">
            
                <a href="20-Generics.html#问题">
            
                    
                        <b>1.23.9.</b>
                    
                    问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.10" data-path="20-Generics.html">
            
                <a href="20-Generics.html#自我约束类型">
            
                    
                        <b>1.23.10.</b>
                    
                    自我约束类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.11" data-path="20-Generics.html">
            
                <a href="20-Generics.html#动态类型安全">
            
                    
                        <b>1.23.11.</b>
                    
                    动态类型安全
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.12" data-path="20-Generics.html">
            
                <a href="20-Generics.html#泛型异常">
            
                    
                        <b>1.23.12.</b>
                    
                    泛型异常
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.13" data-path="20-Generics.html">
            
                <a href="20-Generics.html#混入">
            
                    
                        <b>1.23.13.</b>
                    
                    混入
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.14" data-path="20-Generics.html">
            
                <a href="20-Generics.html#潜在类型">
            
                    
                        <b>1.23.14.</b>
                    
                    潜在类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.15" data-path="20-Generics.html">
            
                <a href="20-Generics.html#补偿不足">
            
                    
                        <b>1.23.15.</b>
                    
                    补偿不足
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.16" data-path="20-Generics.html">
            
                <a href="20-Generics.html#辅助潜在类型">
            
                    
                        <b>1.23.16.</b>
                    
                    辅助潜在类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.23.17" data-path="20-Generics.html">
            
                <a href="20-Generics.html#泛型的优劣">
            
                    
                        <b>1.23.17.</b>
                    
                    泛型的优劣
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.24" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html">
            
                    
                        <b>1.24.</b>
                    
                    第二十一章 数组
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.24.1" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#数组特性">
            
                    
                        <b>1.24.1.</b>
                    
                    数组特性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.2" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#一等对象">
            
                    
                        <b>1.24.2.</b>
                    
                    一等对象
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.3" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#返回数组">
            
                    
                        <b>1.24.3.</b>
                    
                    返回数组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.4" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#多维数组">
            
                    
                        <b>1.24.4.</b>
                    
                    多维数组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.5" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#泛型数组">
            
                    
                        <b>1.24.5.</b>
                    
                    泛型数组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.6" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#Arrays的fill方法">
            
                    
                        <b>1.24.6.</b>
                    
                    Arrays的fill方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.7" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#Arrays的setAll方法">
            
                    
                        <b>1.24.7.</b>
                    
                    Arrays的setAll方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.8" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#增量生成">
            
                    
                        <b>1.24.8.</b>
                    
                    增量生成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.9" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#随机生成">
            
                    
                        <b>1.24.9.</b>
                    
                    随机生成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.10" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#泛型和基本数组">
            
                    
                        <b>1.24.10.</b>
                    
                    泛型和基本数组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.11" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#数组元素修改">
            
                    
                        <b>1.24.11.</b>
                    
                    数组元素修改
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.12" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#数组并行">
            
                    
                        <b>1.24.12.</b>
                    
                    数组并行
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.13" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#Arrays工具类">
            
                    
                        <b>1.24.13.</b>
                    
                    Arrays工具类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.14" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#数组拷贝">
            
                    
                        <b>1.24.14.</b>
                    
                    数组拷贝
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.15" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#数组比较">
            
                    
                        <b>1.24.15.</b>
                    
                    数组比较
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.16" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#流和数组">
            
                    
                        <b>1.24.16.</b>
                    
                    流和数组
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.17" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#数组排序">
            
                    
                        <b>1.24.17.</b>
                    
                    数组排序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.18" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#binarySearch二分查找">
            
                    
                        <b>1.24.18.</b>
                    
                    binarySearch二分查找
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.19" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#parallelPrefix并行前缀">
            
                    
                        <b>1.24.19.</b>
                    
                    parallelPrefix并行前缀
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.24.20" data-path="21-Arrays.html">
            
                <a href="21-Arrays.html#本章小结">
            
                    
                        <b>1.24.20.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.25" data-path="22-Enumerations.html">
            
                <a href="22-Enumerations.html">
            
                    
                        <b>1.25.</b>
                    
                    第二十二章 枚举
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.25.1" data-path="22-Enumerations.html">
            
                <a href="22-Enumerations.html#基本功能">
            
                    
                        <b>1.25.1.</b>
                    
                    基本功能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.2" data-path="22-Enumerations.html">
            
                <a href="22-Enumerations.html#方法添加">
            
                    
                        <b>1.25.2.</b>
                    
                    方法添加
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.3" data-path="22-Enumerations.html">
            
                <a href="22-Enumerations.html#switch语句">
            
                    
                        <b>1.25.3.</b>
                    
                    switch语句
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.4" data-path="22-Enumerations.html">
            
                <a href="22-Enumerations.html#values方法">
            
                    
                        <b>1.25.4.</b>
                    
                    values方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.5" data-path="22-Enumerations.html">
            
                <a href="22-Enumerations.html#实现而非继承">
            
                    
                        <b>1.25.5.</b>
                    
                    实现而非继承
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.6" data-path="22-Enumerations.html">
            
                <a href="22-Enumerations.html#随机选择">
            
                    
                        <b>1.25.6.</b>
                    
                    随机选择
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.7" data-path="22-Enumerations.html">
            
                <a href="22-Enumerations.html#使用接口组织">
            
                    
                        <b>1.25.7.</b>
                    
                    使用接口组织
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.8" data-path="22-Enumerations.html">
            
                <a href="22-Enumerations.html#使用EnumSet替代Flags">
            
                    
                        <b>1.25.8.</b>
                    
                    使用EnumSet替代Flags
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.9" data-path="22-Enumerations.html">
            
                <a href="22-Enumerations.html#使用EnumMap">
            
                    
                        <b>1.25.9.</b>
                    
                    使用EnumMap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.10" data-path="22-Enumerations.html">
            
                <a href="22-Enumerations.html#常量特定方法">
            
                    
                        <b>1.25.10.</b>
                    
                    常量特定方法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.11" data-path="22-Enumerations.html">
            
                <a href="22-Enumerations.html#多次调度">
            
                    
                        <b>1.25.11.</b>
                    
                    多次调度
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.25.12" data-path="22-Enumerations.html">
            
                <a href="22-Enumerations.html#本章小结">
            
                    
                        <b>1.25.12.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.26" data-path="23-Annotations.html">
            
                <a href="23-Annotations.html">
            
                    
                        <b>1.26.</b>
                    
                    第二十三章 注解
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.26.1" data-path="23-Annotations.html">
            
                <a href="23-Annotations.html#基本语法">
            
                    
                        <b>1.26.1.</b>
                    
                    基本语法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.2" data-path="23-Annotations.html">
            
                <a href="23-Annotations.html#编写注解处理器">
            
                    
                        <b>1.26.2.</b>
                    
                    编写注解处理器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.3" data-path="23-Annotations.html">
            
                <a href="23-Annotations.html#使用javac处理注解">
            
                    
                        <b>1.26.3.</b>
                    
                    使用javac处理注解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.4" data-path="23-Annotations.html">
            
                <a href="23-Annotations.html#基于注解的单元测试">
            
                    
                        <b>1.26.4.</b>
                    
                    基于注解的单元测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.26.5" data-path="23-Annotations.html">
            
                <a href="23-Annotations.html#本章小结">
            
                    
                        <b>1.26.5.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.27" data-path="24-Concurrent-Programming.html">
            
                <a href="24-Concurrent-Programming.html">
            
                    
                        <b>1.27.</b>
                    
                    第二十四章 并发编程
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.27.1" data-path="24-Concurrent-Programming.html">
            
                <a href="24-Concurrent-Programming.html#术语问题">
            
                    
                        <b>1.27.1.</b>
                    
                    术语问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.2" data-path="24-Concurrent-Programming.html">
            
                <a href="24-Concurrent-Programming.html#并发的超能力">
            
                    
                        <b>1.27.2.</b>
                    
                    并发的超能力
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.3" data-path="24-Concurrent-Programming.html">
            
                <a href="24-Concurrent-Programming.html#针对速度">
            
                    
                        <b>1.27.3.</b>
                    
                    针对速度
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.4" data-path="24-Concurrent-Programming.html">
            
                <a href="24-Concurrent-Programming.html#四句格言">
            
                    
                        <b>1.27.4.</b>
                    
                    四句格言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.5" data-path="24-Concurrent-Programming.html">
            
                <a href="24-Concurrent-Programming.html#残酷的真相">
            
                    
                        <b>1.27.5.</b>
                    
                    残酷的真相
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.6" data-path="24-Concurrent-Programming.html">
            
                <a href="24-Concurrent-Programming.html#本章其余部分">
            
                    
                        <b>1.27.6.</b>
                    
                    本章其余部分
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.7" data-path="24-Concurrent-Programming.html">
            
                <a href="24-Concurrent-Programming.html#并行流">
            
                    
                        <b>1.27.7.</b>
                    
                    并行流
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.8" data-path="24-Concurrent-Programming.html">
            
                <a href="24-Concurrent-Programming.html#创建和运行任务">
            
                    
                        <b>1.27.8.</b>
                    
                    创建和运行任务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.9" data-path="24-Concurrent-Programming.html">
            
                <a href="24-Concurrent-Programming.html#终止耗时任务">
            
                    
                        <b>1.27.9.</b>
                    
                    终止耗时任务
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.10" data-path="24-Concurrent-Programming.html">
            
                <a href="24-Concurrent-Programming.html#CompletableFuture类">
            
                    
                        <b>1.27.10.</b>
                    
                    CompletableFuture类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.11" data-path="24-Concurrent-Programming.html">
            
                <a href="24-Concurrent-Programming.html#死锁">
            
                    
                        <b>1.27.11.</b>
                    
                    死锁
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.12" data-path="24-Concurrent-Programming.html">
            
                <a href="24-Concurrent-Programming.html#构造函数非线程安全">
            
                    
                        <b>1.27.12.</b>
                    
                    构造函数非线程安全
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.13" data-path="24-Concurrent-Programming.html">
            
                <a href="24-Concurrent-Programming.html#复杂性和代价">
            
                    
                        <b>1.27.13.</b>
                    
                    复杂性和代价
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.27.14" data-path="24-Concurrent-Programming.html">
            
                <a href="24-Concurrent-Programming.html#本章小结">
            
                    
                        <b>1.27.14.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.28" data-path="25-Patterns.html">
            
                <a href="25-Patterns.html">
            
                    
                        <b>1.28.</b>
                    
                    第二十五章 设计模式
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.28.1" data-path="25-Patterns.html">
            
                <a href="25-Patterns.html#概念">
            
                    
                        <b>1.28.1.</b>
                    
                    概念
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28.2" data-path="25-Patterns.html">
            
                <a href="25-Patterns.html#构建型">
            
                    
                        <b>1.28.2.</b>
                    
                    构建型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28.3" data-path="25-Patterns.html">
            
                <a href="25-Patterns.html#面向实施">
            
                    
                        <b>1.28.3.</b>
                    
                    面向实施
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28.4" data-path="25-Patterns.html">
            
                <a href="25-Patterns.html#工厂模式">
            
                    
                        <b>1.28.4.</b>
                    
                    工厂模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28.5" data-path="25-Patterns.html">
            
                <a href="25-Patterns.html#函数对象">
            
                    
                        <b>1.28.5.</b>
                    
                    函数对象
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28.6" data-path="25-Patterns.html">
            
                <a href="25-Patterns.html#接口改变">
            
                    
                        <b>1.28.6.</b>
                    
                    接口改变
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28.7" data-path="25-Patterns.html">
            
                <a href="25-Patterns.html#解释器">
            
                    
                        <b>1.28.7.</b>
                    
                    解释器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28.8" data-path="25-Patterns.html">
            
                <a href="25-Patterns.html#回调">
            
                    
                        <b>1.28.8.</b>
                    
                    回调
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28.9" data-path="25-Patterns.html">
            
                <a href="25-Patterns.html#多次调度">
            
                    
                        <b>1.28.9.</b>
                    
                    多次调度
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28.10" data-path="25-Patterns.html">
            
                <a href="25-Patterns.html#模式重构">
            
                    
                        <b>1.28.10.</b>
                    
                    模式重构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28.11" data-path="25-Patterns.html">
            
                <a href="25-Patterns.html#抽象用法">
            
                    
                        <b>1.28.11.</b>
                    
                    抽象用法
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28.12" data-path="25-Patterns.html">
            
                <a href="25-Patterns.html#多次派遣">
            
                    
                        <b>1.28.12.</b>
                    
                    多次派遣
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28.13" data-path="25-Patterns.html">
            
                <a href="25-Patterns.html#访问者模式">
            
                    
                        <b>1.28.13.</b>
                    
                    访问者模式
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28.14" data-path="25-Patterns.html">
            
                <a href="25-Patterns.html#RTTI的优劣">
            
                    
                        <b>1.28.14.</b>
                    
                    RTTI的优劣
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.28.15" data-path="25-Patterns.html">
            
                <a href="25-Patterns.html#本章小结">
            
                    
                        <b>1.28.15.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.29" data-path="Appendix-Supplements.html">
            
                <a href="Appendix-Supplements.html">
            
                    
                        <b>1.29.</b>
                    
                    附录:补充
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.29.1" data-path="Appendix-Supplements.html">
            
                <a href="Appendix-Supplements.html#可下载的补充">
            
                    
                        <b>1.29.1.</b>
                    
                    可下载的补充
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.2" data-path="Appendix-Supplements.html">
            
                <a href="Appendix-Supplements.html#通过Thinking-in-C来巩固Java基础">
            
                    
                        <b>1.29.2.</b>
                    
                    通过Thinking-in-C来巩固Java基础
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.29.3" data-path="Appendix-Supplements.html">
            
                <a href="Appendix-Supplements.html#动手实践">
            
                    
                        <b>1.29.3.</b>
                    
                    动手实践
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.30" data-path="Appendix-Programming-Guidelines.html">
            
                <a href="Appendix-Programming-Guidelines.html">
            
                    
                        <b>1.30.</b>
                    
                    附录:编程指南
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.30.1" data-path="Appendix-Programming-Guidelines.html">
            
                <a href="Appendix-Programming-Guidelines.html#设计">
            
                    
                        <b>1.30.1.</b>
                    
                    设计
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.30.2" data-path="Appendix-Programming-Guidelines.html">
            
                <a href="Appendix-Programming-Guidelines.html#实现">
            
                    
                        <b>1.30.2.</b>
                    
                    实现
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.31" data-path="Appendix-Javadoc.html">
            
                <a href="Appendix-Javadoc.html">
            
                    
                        <b>1.31.</b>
                    
                    附录:文档注释
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.32" data-path="Appendix-Passing-and-Returning-Objects.html">
            
                <a href="Appendix-Passing-and-Returning-Objects.html">
            
                    
                        <b>1.32.</b>
                    
                    附录:对象传递和返回
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.32.1" data-path="Appendix-Passing-and-Returning-Objects.html">
            
                <a href="Appendix-Passing-and-Returning-Objects.html#传递引用">
            
                    
                        <b>1.32.1.</b>
                    
                    传递引用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.32.2" data-path="Appendix-Passing-and-Returning-Objects.html">
            
                <a href="Appendix-Passing-and-Returning-Objects.html#本地拷贝">
            
                    
                        <b>1.32.2.</b>
                    
                    本地拷贝
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.32.3" data-path="Appendix-Passing-and-Returning-Objects.html">
            
                <a href="Appendix-Passing-and-Returning-Objects.html#控制克隆">
            
                    
                        <b>1.32.3.</b>
                    
                    控制克隆
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.32.4" data-path="Appendix-Passing-and-Returning-Objects.html">
            
                <a href="Appendix-Passing-and-Returning-Objects.html#不可变类">
            
                    
                        <b>1.32.4.</b>
                    
                    不可变类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.32.5" data-path="Appendix-Passing-and-Returning-Objects.html">
            
                <a href="Appendix-Passing-and-Returning-Objects.html#本章小结">
            
                    
                        <b>1.32.5.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.33" data-path="Appendix-IO-Streams.html">
            
                <a href="Appendix-IO-Streams.html">
            
                    
                        <b>1.33.</b>
                    
                    附录:流式IO
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.33.1" data-path="Appendix-IO-Streams.html">
            
                <a href="Appendix-IO-Streams.html#输入流类型">
            
                    
                        <b>1.33.1.</b>
                    
                    输入流类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.33.2" data-path="Appendix-IO-Streams.html">
            
                <a href="Appendix-IO-Streams.html#输出流类型">
            
                    
                        <b>1.33.2.</b>
                    
                    输出流类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.33.3" data-path="Appendix-IO-Streams.html">
            
                <a href="Appendix-IO-Streams.html#添加属性和有用的接口">
            
                    
                        <b>1.33.3.</b>
                    
                    添加属性和有用的接口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.33.4" data-path="Appendix-IO-Streams.html">
            
                <a href="Appendix-IO-Streams.html#Reader和Writer">
            
                    
                        <b>1.33.4.</b>
                    
                    Reader和Writer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.33.5" data-path="Appendix-IO-Streams.html">
            
                <a href="Appendix-IO-Streams.html#RandomAccessFile类">
            
                    
                        <b>1.33.5.</b>
                    
                    RandomAccessFile类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.33.6" data-path="Appendix-IO-Streams.html">
            
                <a href="Appendix-IO-Streams.html#IO流典型用途">
            
                    
                        <b>1.33.6.</b>
                    
                    IO流典型用途
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.33.7" data-path="Appendix-IO-Streams.html">
            
                <a href="Appendix-IO-Streams.html#本章小结">
            
                    
                        <b>1.33.7.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.34" data-path="Appendix-Standard-IO.html">
            
                <a href="Appendix-Standard-IO.html">
            
                    
                        <b>1.34.</b>
                    
                    附录:标准IO
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.34.1" data-path="Appendix-Standard-IO.html">
            
                <a href="Appendix-Standard-IO.html#执行控制">
            
                    
                        <b>1.34.1.</b>
                    
                    执行控制
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.35" data-path="Appendix-New-IO.html">
            
                <a href="Appendix-New-IO.html">
            
                    
                        <b>1.35.</b>
                    
                    附录:新IO
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.35.1" data-path="Appendix-New-IO.html">
            
                <a href="Appendix-New-IO.html#ByteBuffer">
            
                    
                        <b>1.35.1.</b>
                    
                    ByteBuffer
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.35.2" data-path="Appendix-New-IO.html">
            
                <a href="Appendix-New-IO.html#数据转换">
            
                    
                        <b>1.35.2.</b>
                    
                    转换数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.35.3" data-path="Appendix-New-IO.html">
            
                <a href="Appendix-New-IO.html#基本类型获取">
            
                    
                        <b>1.35.3.</b>
                    
                    获取原始类型
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.35.4" data-path="Appendix-New-IO.html">
            
                <a href="Appendix-New-IO.html#视图缓冲区">
            
                    
                        <b>1.35.4.</b>
                    
                    视图缓冲区
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.35.5" data-path="Appendix-New-IO.html">
            
                <a href="Appendix-New-IO.html#缓冲区数据操作">
            
                    
                        <b>1.35.5.</b>
                    
                    使用缓冲区进行数据操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.35.6" data-path="Appendix-New-IO.html">
            
                <a href="Appendix-New-IO.html#内存映射文件">
            
                    
                        <b>1.35.6.</b>
                    
                    内存映射文件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.35.7" data-path="Appendix-New-IO.html">
            
                <a href="Appendix-New-IO.html#文件锁定">
            
                    
                        <b>1.35.7.</b>
                    
                    文件锁定
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.36" data-path="Appendix-Understanding-equals-and-hashCode.html">
            
                <a href="Appendix-Understanding-equals-and-hashCode.html">
            
                    
                        <b>1.36.</b>
                    
                    附录:理解equals和hashCode方法
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.36.1" data-path="Appendix-Understanding-equals-and-hashCode.html">
            
                <a href="Appendix-Understanding-equals-and-hashCode.html#equals典范">
            
                    
                        <b>1.36.1.</b>
                    
                    equals典范
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.36.2" data-path="Appendix-Understanding-equals-and-hashCode.html">
            
                <a href="Appendix-Understanding-equals-and-hashCode.html#哈希和哈希码">
            
                    
                        <b>1.36.2.</b>
                    
                    哈希和哈希码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.36.3" data-path="Appendix-Understanding-equals-and-hashCode.html">
            
                <a href="Appendix-Understanding-equals-and-hashCode.html#调整HashMap">
            
                    
                        <b>1.36.3.</b>
                    
                    调整HashMap
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.37" data-path="Appendix-Collection-Topics.html">
            
                <a href="Appendix-Collection-Topics.html">
            
                    
                        <b>1.37.</b>
                    
                    附录:集合主题
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.37.1" data-path="Appendix-Collection-Topics.html">
            
                <a href="Appendix-Collection-Topics.html#示例数据">
            
                    
                        <b>1.37.1.</b>
                    
                    示例数据
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.2" data-path="Appendix-Collection-Topics.html">
            
                <a href="Appendix-Collection-Topics.html#List行为">
            
                    
                        <b>1.37.2.</b>
                    
                    List行为
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.3" data-path="Appendix-Collection-Topics.html">
            
                <a href="Appendix-Collection-Topics.html#Set行为">
            
                    
                        <b>1.37.3.</b>
                    
                    Set行为
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.4" data-path="Appendix-Collection-Topics.html">
            
                <a href="Appendix-Collection-Topics.html#在Map中使用函数式操作">
            
                    
                        <b>1.37.4.</b>
                    
                    在Map中使用函数式操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.5" data-path="Appendix-Collection-Topics.html">
            
                <a href="Appendix-Collection-Topics.html#选择Map片段">
            
                    
                        <b>1.37.5.</b>
                    
                    选择Map片段
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.6" data-path="Appendix-Collection-Topics.html">
            
                <a href="Appendix-Collection-Topics.html#填充集合">
            
                    
                        <b>1.37.6.</b>
                    
                    填充集合
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.7" data-path="Appendix-Collection-Topics.html">
            
                <a href="Appendix-Collection-Topics.html#使用享元（Flyweight）自定义Collection和Map">
            
                    
                        <b>1.37.7.</b>
                    
                    使用享元（Flyweight）自定义Collection和Map
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.8" data-path="Appendix-Collection-Topics.html">
            
                <a href="Appendix-Collection-Topics.html#集合功能">
            
                    
                        <b>1.37.8.</b>
                    
                    集合功能
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.9" data-path="Appendix-Collection-Topics.html">
            
                <a href="Appendix-Collection-Topics.html#可选操作">
            
                    
                        <b>1.37.9.</b>
                    
                    可选操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.10" data-path="Appendix-Collection-Topics.html">
            
                <a href="Appendix-Collection-Topics.html#Set和存储顺序">
            
                    
                        <b>1.37.10.</b>
                    
                    Set和存储顺序
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.11" data-path="Appendix-Collection-Topics.html">
            
                <a href="Appendix-Collection-Topics.html#队列">
            
                    
                        <b>1.37.11.</b>
                    
                    队列
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.12" data-path="Appendix-Collection-Topics.html">
            
                <a href="Appendix-Collection-Topics.html#理解Map">
            
                    
                        <b>1.37.12.</b>
                    
                    理解Map
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.13" data-path="Appendix-Collection-Topics.html">
            
                <a href="Appendix-Collection-Topics.html#集合工具类">
            
                    
                        <b>1.37.13.</b>
                    
                    集合工具类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.14" data-path="Appendix-Collection-Topics.html">
            
                <a href="Appendix-Collection-Topics.html#持有引用">
            
                    
                        <b>1.37.14.</b>
                    
                    持有引用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.15" data-path="Appendix-Collection-Topics.html">
            
                <a href="Appendix-Collection-Topics.html#避免旧式类库">
            
                    
                        <b>1.37.15.</b>
                    
                    Java 1.0 / 1.1 的集合类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.37.16" data-path="Appendix-Collection-Topics.html">
            
                <a href="Appendix-Collection-Topics.html#本章小结">
            
                    
                        <b>1.37.16.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.38" data-path="Appendix-Low-Level-Concurrency.html">
            
                <a href="Appendix-Low-Level-Concurrency.html">
            
                    
                        <b>1.38.</b>
                    
                    附录:并发底层原理
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.38.1" data-path="Appendix-Low-Level-Concurrency.html">
            
                <a href="Appendix-Low-Level-Concurrency.html#线程">
            
                    
                        <b>1.38.1.</b>
                    
                    线程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.38.2" data-path="Appendix-Low-Level-Concurrency.html">
            
                <a href="Appendix-Low-Level-Concurrency.html#异常捕获">
            
                    
                        <b>1.38.2.</b>
                    
                    异常捕获
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.38.3" data-path="Appendix-Low-Level-Concurrency.html">
            
                <a href="Appendix-Low-Level-Concurrency.html#资源共享">
            
                    
                        <b>1.38.3.</b>
                    
                    资源共享
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.38.4" data-path="Appendix-Low-Level-Concurrency.html">
            
                <a href="Appendix-Low-Level-Concurrency.html#volatile关键字">
            
                    
                        <b>1.38.4.</b>
                    
                    volatile关键字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.38.5" data-path="Appendix-Low-Level-Concurrency.html">
            
                <a href="Appendix-Low-Level-Concurrency.html#原子性">
            
                    
                        <b>1.38.5.</b>
                    
                    原子性
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.38.6" data-path="Appendix-Low-Level-Concurrency.html">
            
                <a href="Appendix-Low-Level-Concurrency.html#临界区">
            
                    
                        <b>1.38.6.</b>
                    
                    临界区
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.38.7" data-path="Appendix-Low-Level-Concurrency.html">
            
                <a href="Appendix-Low-Level-Concurrency.html#库组件">
            
                    
                        <b>1.38.7.</b>
                    
                    库组件
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.38.8" data-path="Appendix-Low-Level-Concurrency.html">
            
                <a href="Appendix-Low-Level-Concurrency.html#本章小结">
            
                    
                        <b>1.38.8.</b>
                    
                    本章小结
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.39" data-path="Appendix-Data-Compression.html">
            
                <a href="Appendix-Data-Compression.html">
            
                    
                        <b>1.39.</b>
                    
                    附录:数据压缩
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.39.1" data-path="Appendix-Data-Compression.html">
            
                <a href="Appendix-Data-Compression.html#使用Gzip简单压缩">
            
                    
                        <b>1.39.1.</b>
                    
                    使用Gzip简单压缩
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.39.2" data-path="Appendix-Data-Compression.html">
            
                <a href="Appendix-Data-Compression.html#使用zip多文件存储">
            
                    
                        <b>1.39.2.</b>
                    
                    使用zip多文件存储
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.39.3" data-path="Appendix-Data-Compression.html">
            
                <a href="Appendix-Data-Compression.html#Java的jar">
            
                    
                        <b>1.39.3.</b>
                    
                    Java的jar
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.40" data-path="Appendix-Object-Serialization.html">
            
                <a href="Appendix-Object-Serialization.html">
            
                    
                        <b>1.40.</b>
                    
                    附录:对象序列化
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.40.1" data-path="Appendix-Object-Serialization.html">
            
                <a href="Appendix-Object-Serialization.html#查找类">
            
                    
                        <b>1.40.1.</b>
                    
                    查找类
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.40.2" data-path="Appendix-Object-Serialization.html">
            
                <a href="Appendix-Object-Serialization.html#控制序列化">
            
                    
                        <b>1.40.2.</b>
                    
                    控制序列化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.40.3" data-path="Appendix-Object-Serialization.html">
            
                <a href="Appendix-Object-Serialization.html#使用持久化">
            
                    
                        <b>1.40.3.</b>
                    
                    使用持久化
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.41" data-path="Appendix-Benefits-and-Costs-of-Static-Type-Checking.html">
            
                <a href="Appendix-Benefits-and-Costs-of-Static-Type-Checking.html">
            
                    
                        <b>1.41.</b>
                    
                    附录:静态语言类型检查
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.41.1" data-path="Appendix-Benefits-and-Costs-of-Static-Type-Checking.html">
            
                <a href="Appendix-Benefits-and-Costs-of-Static-Type-Checking.html#前言">
            
                    
                        <b>1.41.1.</b>
                    
                    前言
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.41.2" data-path="Appendix-Benefits-and-Costs-of-Static-Type-Checking.html">
            
                <a href="Appendix-Benefits-and-Costs-of-Static-Type-Checking.html#静态类型检查和测试">
            
                    
                        <b>1.41.2.</b>
                    
                    静态类型检查和测试
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.41.3" data-path="Appendix-Benefits-and-Costs-of-Static-Type-Checking.html">
            
                <a href="Appendix-Benefits-and-Costs-of-Static-Type-Checking.html#如何提升打字">
            
                    
                        <b>1.41.3.</b>
                    
                    如何提升打字
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.41.4" data-path="Appendix-Benefits-and-Costs-of-Static-Type-Checking.html">
            
                <a href="Appendix-Benefits-and-Costs-of-Static-Type-Checking.html#生产力的成本">
            
                    
                        <b>1.41.4.</b>
                    
                    生产力的成本
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.41.5" data-path="Appendix-Benefits-and-Costs-of-Static-Type-Checking.html">
            
                <a href="Appendix-Benefits-and-Costs-of-Static-Type-Checking.html#静态和动态">
            
                    
                        <b>1.41.5.</b>
                    
                    静态和动态
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.42" data-path="Appendix-The-Positive-Legacy-of-C-plus-plus-and-Java.html">
            
                <a href="Appendix-The-Positive-Legacy-of-C-plus-plus-and-Java.html">
            
                    
                        <b>1.42.</b>
                    
                    附录:C++和Java的优良传统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.43" data-path="Appendix-Becoming-a-Programmer.html">
            
                <a href="Appendix-Becoming-a-Programmer.html">
            
                    
                        <b>1.43.</b>
                    
                    附录:成为一名程序员
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.43.1" data-path="Appendix-Becoming-a-Programmer.html">
            
                <a href="Appendix-Becoming-a-Programmer.html#如何开始">
            
                    
                        <b>1.43.1.</b>
                    
                    如何开始
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.43.2" data-path="Appendix-Becoming-a-Programmer.html">
            
                <a href="Appendix-Becoming-a-Programmer.html#码农生涯">
            
                    
                        <b>1.43.2.</b>
                    
                    码农生涯
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.43.3" data-path="Appendix-Becoming-a-Programmer.html">
            
                <a href="Appendix-Becoming-a-Programmer.html#百分之五的神话">
            
                    
                        <b>1.43.3.</b>
                    
                    百分之五的神话
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.43.4" data-path="Appendix-Becoming-a-Programmer.html">
            
                <a href="Appendix-Becoming-a-Programmer.html#重在动手">
            
                    
                        <b>1.43.4.</b>
                    
                    重在动手
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.43.5" data-path="Appendix-Becoming-a-Programmer.html">
            
                <a href="Appendix-Becoming-a-Programmer.html#像打字般编程">
            
                    
                        <b>1.43.5.</b>
                    
                    像打字般编程
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.43.6" data-path="Appendix-Becoming-a-Programmer.html">
            
                <a href="Appendix-Becoming-a-Programmer.html#做你喜欢的事">
            
                    
                        <b>1.43.6.</b>
                    
                    做你喜欢的事
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.44" data-path="GLOSSARY.html">
            
                <a href="GLOSSARY.html">
            
                    
                        <b>1.44.</b>
                    
                    词汇表
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >附录:集合主题</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <div id="anchor-navigation-ex-navbar"><i class="fa fa-navicon"></i><ul><li><span class="title-icon "></span><a href="#&#x9644;&#x5F55;&#x96C6;&#x5408;&#x4E3B;&#x9898;"><b>1. </b>&#x9644;&#x5F55;:&#x96C6;&#x5408;&#x4E3B;&#x9898;</a></li><ul><li><span class="title-icon "></span><a href="#&#x793A;&#x4F8B;&#x6570;&#x636E;"><b>1.1. </b>&#x793A;&#x4F8B;&#x6570;&#x636E;</a></li><li><span class="title-icon "></span><a href="#list&#x884C;&#x4E3A;"><b>1.2. </b>List&#x884C;&#x4E3A;</a></li><li><span class="title-icon "></span><a href="#set&#x884C;&#x4E3A;"><b>1.3. </b>Set&#x884C;&#x4E3A;</a></li><li><span class="title-icon "></span><a href="#&#x5728;map&#x4E2D;&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x5F0F;&#x64CD;&#x4F5C;"><b>1.4. </b>&#x5728;Map&#x4E2D;&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x5F0F;&#x64CD;&#x4F5C;</a></li><li><span class="title-icon "></span><a href="#&#x9009;&#x62E9;map&#x7247;&#x6BB5;"><b>1.5. </b>&#x9009;&#x62E9;Map&#x7247;&#x6BB5;</a></li><li><span class="title-icon "></span><a href="#&#x586B;&#x5145;&#x96C6;&#x5408;"><b>1.6. </b>&#x586B;&#x5145;&#x96C6;&#x5408;</a></li><ul><li><span class="title-icon "></span><a href="#&#x4F7F;&#x7528;-suppliers-&#x586B;&#x5145;&#x96C6;&#x5408;"><b>1.6.1. </b>&#x4F7F;&#x7528; Suppliers &#x586B;&#x5145;&#x96C6;&#x5408;</a></li><li><span class="title-icon "></span><a href="#map-suppliers"><b>1.6.2. </b>Map Suppliers</a></li></ul><li><span class="title-icon "></span><a href="#&#x4F7F;&#x7528;&#x4EAB;&#x5143;&#xFF08;flyweight&#xFF09;&#x81EA;&#x5B9A;&#x4E49;collection&#x548C;map"><b>1.7. </b>&#x4F7F;&#x7528;&#x4EAB;&#x5143;&#xFF08;Flyweight&#xFF09;&#x81EA;&#x5B9A;&#x4E49;Collection&#x548C;Map</a></li><li><span class="title-icon "></span><a href="#&#x96C6;&#x5408;&#x529F;&#x80FD;"><b>1.8. </b>&#x96C6;&#x5408;&#x529F;&#x80FD;</a></li><li><span class="title-icon "></span><a href="#&#x53EF;&#x9009;&#x64CD;&#x4F5C;"><b>1.9. </b>&#x53EF;&#x9009;&#x64CD;&#x4F5C;</a></li><ul><li><span class="title-icon "></span><a href="#&#x4E0D;&#x652F;&#x6301;&#x7684;&#x64CD;&#x4F5C;"><b>1.9.1. </b>&#x4E0D;&#x652F;&#x6301;&#x7684;&#x64CD;&#x4F5C;</a></li></ul><li><span class="title-icon "></span><a href="#set&#x548C;&#x5B58;&#x50A8;&#x987A;&#x5E8F;"><b>1.10. </b>Set&#x548C;&#x5B58;&#x50A8;&#x987A;&#x5E8F;</a></li><ul><li><span class="title-icon "></span><a href="#sortedset"><b>1.10.1. </b>SortedSet</a></li></ul><li><span class="title-icon "></span><a href="#&#x961F;&#x5217;"><b>1.11. </b>&#x961F;&#x5217;</a></li><ul><li><span class="title-icon "></span><a href="#&#x4F18;&#x5148;&#x7EA7;&#x961F;&#x5217;"><b>1.11.1. </b>&#x4F18;&#x5148;&#x7EA7;&#x961F;&#x5217;</a></li><li><span class="title-icon "></span><a href="#&#x53CC;&#x7AEF;&#x961F;&#x5217;"><b>1.11.2. </b>&#x53CC;&#x7AEF;&#x961F;&#x5217;</a></li></ul><li><span class="title-icon "></span><a href="#&#x7406;&#x89E3;map"><b>1.12. </b>&#x7406;&#x89E3;Map</a></li><ul><li><span class="title-icon "></span><a href="#&#x6027;&#x80FD;"><b>1.12.1. </b>&#x6027;&#x80FD;</a></li><li><span class="title-icon "></span><a href="#sortedmap"><b>1.12.2. </b>SortedMap</a></li><li><span class="title-icon "></span><a href="#linkedhashmap"><b>1.12.3. </b>LinkedHashMap</a></li></ul><li><span class="title-icon "></span><a href="#&#x96C6;&#x5408;&#x5DE5;&#x5177;&#x7C7B;"><b>1.13. </b>&#x96C6;&#x5408;&#x5DE5;&#x5177;&#x7C7B;</a></li><ul><li><span class="title-icon "></span><a href="#&#x6392;&#x5E8F;&#x548C;&#x641C;&#x7D22;&#x5217;&#x8868;"><b>1.13.1. </b>&#x6392;&#x5E8F;&#x548C;&#x641C;&#x7D22;&#x5217;&#x8868;</a></li><li><span class="title-icon "></span><a href="#&#x521B;&#x5EFA;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684;-collection-&#x6216;-map"><b>1.13.2. </b>&#x521B;&#x5EFA;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684; Collection &#x6216; Map</a></li><li><span class="title-icon "></span><a href="#&#x540C;&#x6B65;-collection-&#x6216;-map"><b>1.13.3. </b>&#x540C;&#x6B65; Collection &#x6216; Map</a></li></ul><li><span class="title-icon "></span><a href="#&#x6301;&#x6709;&#x5F15;&#x7528;"><b>1.14. </b>&#x6301;&#x6709;&#x5F15;&#x7528;</a></li><ul><li><span class="title-icon "></span><a href="#weakhashmap"><b>1.14.1. </b>WeakHashMap</a></li></ul><li><span class="title-icon "></span><a href="#java-10--11-&#x7684;&#x96C6;&#x5408;&#x7C7B;"><b>1.15. </b>Java 1.0 / 1.1 &#x7684;&#x96C6;&#x5408;&#x7C7B;</a></li><ul><li><span class="title-icon "></span><a href="#vector-&#x548C;-enumeration"><b>1.15.1. </b>Vector &#x548C; Enumeration</a></li><li><span class="title-icon "></span><a href="#hashtable"><b>1.15.2. </b>Hashtable</a></li><li><span class="title-icon "></span><a href="#stack"><b>1.15.3. </b>Stack</a></li><li><span class="title-icon "></span><a href="#bitset"><b>1.15.4. </b>BitSet</a></li></ul><li><span class="title-icon "></span><a href="#&#x672C;&#x7AE0;&#x5C0F;&#x7ED3;"><b>1.16. </b>&#x672C;&#x7AE0;&#x5C0F;&#x7ED3;</a></li></ul></ul></div><a href="#&#x9644;&#x5F55;&#x96C6;&#x5408;&#x4E3B;&#x9898;" id="anchorNavigationExGoTop"><i class="fa fa-arrow-up"></i></a><p>[TOC]</p>
<!-- Appendix: Collection Topics -->
<h1 id="&#x9644;&#x5F55;&#x96C6;&#x5408;&#x4E3B;&#x9898;"><a name="&#x9644;&#x5F55;&#x96C6;&#x5408;&#x4E3B;&#x9898;" class="anchor-navigation-ex-anchor" href="#&#x9644;&#x5F55;&#x96C6;&#x5408;&#x4E3B;&#x9898;"><i class="fa fa-link" aria-hidden="true"></i></a>1. &#x9644;&#x5F55;:&#x96C6;&#x5408;&#x4E3B;&#x9898;</h1>
<blockquote>
<p>&#x672C;&#x9644;&#x5F55;&#x662F;&#x4E00;&#x4E9B;&#x6BD4;<a href="">&#x7B2C;&#x5341;&#x4E8C;&#x7AE0; &#x96C6;&#x5408;</a>&#x4E2D;&#x4ECB;&#x7ECD;&#x7684;&#x66F4;&#x9AD8;&#x7EA7;&#x7684;&#x5185;&#x5BB9;&#x3002;</p>
</blockquote>
<!-- Sample Data -->
<h2 id="&#x793A;&#x4F8B;&#x6570;&#x636E;"><a name="&#x793A;&#x4F8B;&#x6570;&#x636E;" class="anchor-navigation-ex-anchor" href="#&#x793A;&#x4F8B;&#x6570;&#x636E;"><i class="fa fa-link" aria-hidden="true"></i></a>1.1. &#x793A;&#x4F8B;&#x6570;&#x636E;</h2>
<p>&#x8FD9;&#x91CC;&#x521B;&#x5EFA;&#x4E00;&#x4E9B;&#x6837;&#x672C;&#x6570;&#x636E;&#x7528;&#x4E8E;&#x96C6;&#x5408;&#x793A;&#x4F8B;&#x3002; &#x4EE5;&#x4E0B;&#x6570;&#x636E;&#x5C06;&#x989C;&#x8272;&#x540D;&#x79F0;&#x4E0E;HTML&#x989C;&#x8272;&#x7684;RGB&#x503C;&#x76F8;&#x5173;&#x8054;&#x3002;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x6BCF;&#x4E2A;&#x952E;&#x548C;&#x503C;&#x90FD;&#x662F;&#x552F;&#x4E00;&#x7684;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// onjava/HTMLColors.java</span>
<span class="token comment">// Sample data for collection examples</span>
<span class="token keyword">package</span> <span class="token namespace">onjava</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HTMLColors</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> ARRAY <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token punctuation">{</span> <span class="token number">0xF0F8FF</span><span class="token punctuation">,</span> <span class="token string">&quot;AliceBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFAEBD7</span><span class="token punctuation">,</span> <span class="token string">&quot;AntiqueWhite&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x7FFFD4</span><span class="token punctuation">,</span> <span class="token string">&quot;Aquamarine&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF0FFFF</span><span class="token punctuation">,</span> <span class="token string">&quot;Azure&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF5F5DC</span><span class="token punctuation">,</span> <span class="token string">&quot;Beige&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFE4C4</span><span class="token punctuation">,</span> <span class="token string">&quot;Bisque&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x000000</span><span class="token punctuation">,</span> <span class="token string">&quot;Black&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFEBCD</span><span class="token punctuation">,</span> <span class="token string">&quot;BlanchedAlmond&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x0000FF</span><span class="token punctuation">,</span> <span class="token string">&quot;Blue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x8A2BE2</span><span class="token punctuation">,</span> <span class="token string">&quot;BlueViolet&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xA52A2A</span><span class="token punctuation">,</span> <span class="token string">&quot;Brown&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xDEB887</span><span class="token punctuation">,</span> <span class="token string">&quot;BurlyWood&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x5F9EA0</span><span class="token punctuation">,</span> <span class="token string">&quot;CadetBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x7FFF00</span><span class="token punctuation">,</span> <span class="token string">&quot;Chartreuse&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xD2691E</span><span class="token punctuation">,</span> <span class="token string">&quot;Chocolate&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFF7F50</span><span class="token punctuation">,</span> <span class="token string">&quot;Coral&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x6495ED</span><span class="token punctuation">,</span> <span class="token string">&quot;CornflowerBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFF8DC</span><span class="token punctuation">,</span> <span class="token string">&quot;Cornsilk&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xDC143C</span><span class="token punctuation">,</span> <span class="token string">&quot;Crimson&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x00FFFF</span><span class="token punctuation">,</span> <span class="token string">&quot;Cyan&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x00008B</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x008B8B</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkCyan&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xB8860B</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkGoldenRod&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xA9A9A9</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkGray&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x006400</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xBDB76B</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkKhaki&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x8B008B</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkMagenta&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x556B2F</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkOliveGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFF8C00</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkOrange&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x9932CC</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkOrchid&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x8B0000</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkRed&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xE9967A</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkSalmon&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x8FBC8F</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkSeaGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x483D8B</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkSlateBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x2F4F4F</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkSlateGray&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x00CED1</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkTurquoise&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x9400D3</span><span class="token punctuation">,</span> <span class="token string">&quot;DarkViolet&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFF1493</span><span class="token punctuation">,</span> <span class="token string">&quot;DeepPink&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x00BFFF</span><span class="token punctuation">,</span> <span class="token string">&quot;DeepSkyBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x696969</span><span class="token punctuation">,</span> <span class="token string">&quot;DimGray&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x1E90FF</span><span class="token punctuation">,</span> <span class="token string">&quot;DodgerBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xB22222</span><span class="token punctuation">,</span> <span class="token string">&quot;FireBrick&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFFAF0</span><span class="token punctuation">,</span> <span class="token string">&quot;FloralWhite&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x228B22</span><span class="token punctuation">,</span> <span class="token string">&quot;ForestGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xDCDCDC</span><span class="token punctuation">,</span> <span class="token string">&quot;Gainsboro&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF8F8FF</span><span class="token punctuation">,</span> <span class="token string">&quot;GhostWhite&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFD700</span><span class="token punctuation">,</span> <span class="token string">&quot;Gold&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xDAA520</span><span class="token punctuation">,</span> <span class="token string">&quot;GoldenRod&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x808080</span><span class="token punctuation">,</span> <span class="token string">&quot;Gray&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x008000</span><span class="token punctuation">,</span> <span class="token string">&quot;Green&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xADFF2F</span><span class="token punctuation">,</span> <span class="token string">&quot;GreenYellow&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF0FFF0</span><span class="token punctuation">,</span> <span class="token string">&quot;HoneyDew&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFF69B4</span><span class="token punctuation">,</span> <span class="token string">&quot;HotPink&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xCD5C5C</span><span class="token punctuation">,</span> <span class="token string">&quot;IndianRed&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x4B0082</span><span class="token punctuation">,</span> <span class="token string">&quot;Indigo&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFFFF0</span><span class="token punctuation">,</span> <span class="token string">&quot;Ivory&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF0E68C</span><span class="token punctuation">,</span> <span class="token string">&quot;Khaki&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xE6E6FA</span><span class="token punctuation">,</span> <span class="token string">&quot;Lavender&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFF0F5</span><span class="token punctuation">,</span> <span class="token string">&quot;LavenderBlush&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x7CFC00</span><span class="token punctuation">,</span> <span class="token string">&quot;LawnGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFFACD</span><span class="token punctuation">,</span> <span class="token string">&quot;LemonChiffon&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xADD8E6</span><span class="token punctuation">,</span> <span class="token string">&quot;LightBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF08080</span><span class="token punctuation">,</span> <span class="token string">&quot;LightCoral&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xE0FFFF</span><span class="token punctuation">,</span> <span class="token string">&quot;LightCyan&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFAFAD2</span><span class="token punctuation">,</span> <span class="token string">&quot;LightGoldenRodYellow&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xD3D3D3</span><span class="token punctuation">,</span> <span class="token string">&quot;LightGray&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x90EE90</span><span class="token punctuation">,</span> <span class="token string">&quot;LightGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFB6C1</span><span class="token punctuation">,</span> <span class="token string">&quot;LightPink&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFA07A</span><span class="token punctuation">,</span> <span class="token string">&quot;LightSalmon&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x20B2AA</span><span class="token punctuation">,</span> <span class="token string">&quot;LightSeaGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x87CEFA</span><span class="token punctuation">,</span> <span class="token string">&quot;LightSkyBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x778899</span><span class="token punctuation">,</span> <span class="token string">&quot;LightSlateGray&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xB0C4DE</span><span class="token punctuation">,</span> <span class="token string">&quot;LightSteelBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFFFE0</span><span class="token punctuation">,</span> <span class="token string">&quot;LightYellow&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x00FF00</span><span class="token punctuation">,</span> <span class="token string">&quot;Lime&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x32CD32</span><span class="token punctuation">,</span> <span class="token string">&quot;LimeGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFAF0E6</span><span class="token punctuation">,</span> <span class="token string">&quot;Linen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFF00FF</span><span class="token punctuation">,</span> <span class="token string">&quot;Magenta&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x800000</span><span class="token punctuation">,</span> <span class="token string">&quot;Maroon&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x66CDAA</span><span class="token punctuation">,</span> <span class="token string">&quot;MediumAquaMarine&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x0000CD</span><span class="token punctuation">,</span> <span class="token string">&quot;MediumBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xBA55D3</span><span class="token punctuation">,</span> <span class="token string">&quot;MediumOrchid&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x9370DB</span><span class="token punctuation">,</span> <span class="token string">&quot;MediumPurple&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x3CB371</span><span class="token punctuation">,</span> <span class="token string">&quot;MediumSeaGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x7B68EE</span><span class="token punctuation">,</span> <span class="token string">&quot;MediumSlateBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x00FA9A</span><span class="token punctuation">,</span> <span class="token string">&quot;MediumSpringGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x48D1CC</span><span class="token punctuation">,</span> <span class="token string">&quot;MediumTurquoise&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xC71585</span><span class="token punctuation">,</span> <span class="token string">&quot;MediumVioletRed&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x191970</span><span class="token punctuation">,</span> <span class="token string">&quot;MidnightBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF5FFFA</span><span class="token punctuation">,</span> <span class="token string">&quot;MintCream&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFE4E1</span><span class="token punctuation">,</span> <span class="token string">&quot;MistyRose&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFE4B5</span><span class="token punctuation">,</span> <span class="token string">&quot;Moccasin&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFDEAD</span><span class="token punctuation">,</span> <span class="token string">&quot;NavajoWhite&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x000080</span><span class="token punctuation">,</span> <span class="token string">&quot;Navy&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFDF5E6</span><span class="token punctuation">,</span> <span class="token string">&quot;OldLace&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x808000</span><span class="token punctuation">,</span> <span class="token string">&quot;Olive&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x6B8E23</span><span class="token punctuation">,</span> <span class="token string">&quot;OliveDrab&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFA500</span><span class="token punctuation">,</span> <span class="token string">&quot;Orange&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFF4500</span><span class="token punctuation">,</span> <span class="token string">&quot;OrangeRed&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xDA70D6</span><span class="token punctuation">,</span> <span class="token string">&quot;Orchid&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xEEE8AA</span><span class="token punctuation">,</span> <span class="token string">&quot;PaleGoldenRod&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x98FB98</span><span class="token punctuation">,</span> <span class="token string">&quot;PaleGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xAFEEEE</span><span class="token punctuation">,</span> <span class="token string">&quot;PaleTurquoise&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xDB7093</span><span class="token punctuation">,</span> <span class="token string">&quot;PaleVioletRed&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFEFD5</span><span class="token punctuation">,</span> <span class="token string">&quot;PapayaWhip&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFDAB9</span><span class="token punctuation">,</span> <span class="token string">&quot;PeachPuff&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xCD853F</span><span class="token punctuation">,</span> <span class="token string">&quot;Peru&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFC0CB</span><span class="token punctuation">,</span> <span class="token string">&quot;Pink&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xDDA0DD</span><span class="token punctuation">,</span> <span class="token string">&quot;Plum&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xB0E0E6</span><span class="token punctuation">,</span> <span class="token string">&quot;PowderBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x800080</span><span class="token punctuation">,</span> <span class="token string">&quot;Purple&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFF0000</span><span class="token punctuation">,</span> <span class="token string">&quot;Red&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xBC8F8F</span><span class="token punctuation">,</span> <span class="token string">&quot;RosyBrown&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x4169E1</span><span class="token punctuation">,</span> <span class="token string">&quot;RoyalBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x8B4513</span><span class="token punctuation">,</span> <span class="token string">&quot;SaddleBrown&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFA8072</span><span class="token punctuation">,</span> <span class="token string">&quot;Salmon&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF4A460</span><span class="token punctuation">,</span> <span class="token string">&quot;SandyBrown&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x2E8B57</span><span class="token punctuation">,</span> <span class="token string">&quot;SeaGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFF5EE</span><span class="token punctuation">,</span> <span class="token string">&quot;SeaShell&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xA0522D</span><span class="token punctuation">,</span> <span class="token string">&quot;Sienna&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xC0C0C0</span><span class="token punctuation">,</span> <span class="token string">&quot;Silver&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x87CEEB</span><span class="token punctuation">,</span> <span class="token string">&quot;SkyBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x6A5ACD</span><span class="token punctuation">,</span> <span class="token string">&quot;SlateBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x708090</span><span class="token punctuation">,</span> <span class="token string">&quot;SlateGray&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFFAFA</span><span class="token punctuation">,</span> <span class="token string">&quot;Snow&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x00FF7F</span><span class="token punctuation">,</span> <span class="token string">&quot;SpringGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x4682B4</span><span class="token punctuation">,</span> <span class="token string">&quot;SteelBlue&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xD2B48C</span><span class="token punctuation">,</span> <span class="token string">&quot;Tan&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x008080</span><span class="token punctuation">,</span> <span class="token string">&quot;Teal&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xD8BFD8</span><span class="token punctuation">,</span> <span class="token string">&quot;Thistle&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFF6347</span><span class="token punctuation">,</span> <span class="token string">&quot;Tomato&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x40E0D0</span><span class="token punctuation">,</span> <span class="token string">&quot;Turquoise&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xEE82EE</span><span class="token punctuation">,</span> <span class="token string">&quot;Violet&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF5DEB3</span><span class="token punctuation">,</span> <span class="token string">&quot;Wheat&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFFFFF</span><span class="token punctuation">,</span> <span class="token string">&quot;White&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xF5F5F5</span><span class="token punctuation">,</span> <span class="token string">&quot;WhiteSmoke&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0xFFFF00</span><span class="token punctuation">,</span> <span class="token string">&quot;Yellow&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span> <span class="token number">0x9ACD32</span><span class="token punctuation">,</span> <span class="token string">&quot;YellowGreen&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> MAP <span class="token operator">=</span>
    <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>ARRAY<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span>
        element <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span>element<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        element <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>element<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span>v1<span class="token punctuation">,</span> v2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span> <span class="token comment">// Merge function</span>
          <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token class-name">LinkedHashMap</span><span class="token operator">::</span><span class="token keyword">new</span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Inversion only works if values are unique:</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">,</span> <span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">,</span> <span class="token class-name">K</span><span class="token punctuation">&gt;</span></span>
  <span class="token function">invert</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> map<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span>
        <span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token operator">::</span><span class="token function">getValue</span><span class="token punctuation">,</span>
        <span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token operator">::</span><span class="token function">getKey</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span>v1<span class="token punctuation">,</span> v2<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
          <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">IllegalStateException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token class-name">LinkedHashMap</span><span class="token operator">::</span><span class="token keyword">new</span>
      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span>
    INVMAP <span class="token operator">=</span> <span class="token function">invert</span><span class="token punctuation">(</span>MAP<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// Look up RGB value given a name:</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Integer</span> <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token class-name">String</span> colorName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> INVMAP<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>colorName<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> LIST <span class="token operator">=</span>
    <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>ARRAY<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> RGBLIST <span class="token operator">=</span>
    <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>ARRAY<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">-&gt;</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span>
  <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>
      <span class="token string">&quot;0x%06X: %s%n&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span>
  <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> m<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    m<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>e <span class="token operator">-&gt;</span> <span class="token function">show</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> m<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span>
  <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> lst<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    lst<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">show</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> lst<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span>lst<span class="token punctuation">,</span> lst<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span>
  <span class="token keyword">void</span> <span class="token function">showrgb</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> lst<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    lst<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>n <span class="token operator">-&gt;</span> <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;0x%06X%n&quot;</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">showrgb</span><span class="token punctuation">(</span><span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> lst<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">showrgb</span><span class="token punctuation">(</span>lst<span class="token punctuation">,</span> lst<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span>
  <span class="token keyword">void</span> <span class="token function">showInv</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> m<span class="token punctuation">,</span> <span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    m<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>e <span class="token operator">-&gt;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span>
          <span class="token string">&quot;%-20s  0x%06X%n&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">showInv</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> m<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">showInv</span><span class="token punctuation">(</span>m<span class="token punctuation">,</span> m<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;******************************&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>MAP</strong> &#x662F;&#x4F7F;&#x7528;Streams&#xFF08;<a href="">&#x7B2C;&#x5341;&#x56DB;&#x7AE0; &#x6D41;&#x5F0F;&#x7F16;&#x7A0B;</a>&#xFF09;&#x521B;&#x5EFA;&#x7684;&#x3002; &#x4E8C;&#x7EF4;&#x6570;&#x7EC4; <strong>ARRAY</strong> &#x4F5C;&#x4E3A;&#x6D41;&#x4F20;&#x8F93;&#x5230; <strong>Map</strong> &#x4E2D;&#xFF0C;&#x4F46;&#x8BF7;&#x6CE8;&#x610F;&#x6211;&#x4EEC;&#x4E0D;&#x4EC5;&#x4EC5;&#x662F;&#x4F7F;&#x7528;&#x7B80;&#x5355;&#x7248;&#x672C;&#x7684; <code>Collectors.toMap()</code> &#x3002; &#x90A3;&#x4E2A;&#x7248;&#x672C;&#x751F;&#x6210;&#x4E00;&#x4E2A; <strong>HashMap</strong> &#xFF0C;&#x5B83;&#x4F7F;&#x7528;&#x6563;&#x5217;&#x51FD;&#x6570;&#x6765;&#x63A7;&#x5236;&#x5BF9;&#x952E;&#x7684;&#x6392;&#x5E8F;&#x3002; &#x4E3A;&#x4E86;&#x4FDD;&#x7559;&#x539F;&#x6765;&#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x6211;&#x4EEC;&#x5FC5;&#x987B;&#x5C06;&#x952E;&#x503C;&#x5BF9;&#x76F4;&#x63A5;&#x653E;&#x5165; <strong>TreeMap</strong> &#x4E2D;&#xFF0C;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4F7F;&#x7528;&#x66F4;&#x590D;&#x6742;&#x7684; <code>Collectors.toMap()</code> &#x7248;&#x672C;&#x3002;&#x8FD9;&#x9700;&#x8981;&#x4E24;&#x4E2A;&#x51FD;&#x6570;&#x4ECE;&#x6BCF;&#x4E2A;&#x6D41;&#x5143;&#x7D20;&#x4E2D;&#x63D0;&#x53D6;&#x952E;&#x548C;&#x503C;&#xFF0C;&#x5C31;&#x50CF;&#x7B80;&#x5355;&#x7248;&#x672C;&#x7684;<code>Collectors.toMap()</code> &#x4E00;&#x6837;&#x3002; &#x7136;&#x540E;&#x5B83;&#x9700;&#x8981;&#x4E00;&#x4E2A;<em>&#x5408;&#x5E76;&#x51FD;&#x6570;</em>&#xFF08;merge function&#xFF09;&#xFF0C;&#x5B83;&#x89E3;&#x51B3;&#x4E86;&#x4E0E;&#x540C;&#x4E00;&#x4E2A;&#x952E;&#x76F8;&#x5173;&#x7684;&#x4E24;&#x4E2A;&#x503C;&#x4E4B;&#x95F4;&#x7684;&#x51B2;&#x7A81;&#x3002;&#x8FD9;&#x91CC;&#x7684;&#x6570;&#x636E;&#x5DF2;&#x7ECF;&#x9884;&#x5148;&#x5BA1;&#x67E5;&#x8FC7;&#xFF0C;&#x56E0;&#x6B64;&#x7EDD;&#x4E0D;&#x4F1A;&#x53D1;&#x751F;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x7684;&#x8BDD;&#xFF0C;&#x8FD9;&#x91CC;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;&#x6700;&#x540E;&#xFF0C;&#x4F20;&#x9012;&#x751F;&#x6210;&#x6240;&#x9700;&#x7C7B;&#x578B;&#x7684;&#x7A7A;map&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x7136;&#x540E;&#x7528;&#x6D41;&#x6765;&#x586B;&#x5145;&#x5B83;&#x3002;</p>
<p><code>rgb()</code> &#x65B9;&#x6CD5;&#x662F;&#x4E00;&#x4E2A;&#x4FBF;&#x6377;&#x51FD;&#x6570;&#xFF08;convenience function&#xFF09;&#xFF0C;&#x5B83;&#x63A5;&#x53D7;&#x989C;&#x8272;&#x540D;&#x79F0; <strong>String</strong> &#x53C2;&#x6570;&#x5E76;&#x751F;&#x6210;&#x5176;&#x6570;&#x5B57;RGB&#x503C;&#x3002;&#x4E3A;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x53CD;&#x8F6C;&#x7248;&#x672C;&#x7684; <strong>COLORS</strong> &#xFF0C;&#x5B83;&#x63A5;&#x53D7;&#x4E00;&#x4E2A; <strong>String</strong>&#x952E;&#x5E76;&#x67E5;&#x627E;RGB&#x7684; <strong>Integer</strong> &#x503C;&#x3002; &#x8FD9;&#x662F;&#x901A;&#x8FC7; <code>invert()</code> &#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x4EFB;&#x4F55; <strong>COLORS</strong> &#x503C;&#x4E0D;&#x552F;&#x4E00;&#xFF0C;&#x5219;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;</p>
<p>&#x6211;&#x4EEC;&#x8FD8;&#x521B;&#x5EFA;&#x5305;&#x542B;&#x6240;&#x6709;&#x540D;&#x79F0;&#x7684; <strong>LIST</strong> &#xFF0C;&#x4EE5;&#x53CA;&#x5305;&#x542B;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x8868;&#x793A;&#x6CD5;&#x7684;RGB&#x503C;&#x7684; <strong>RGBLIST</strong> &#x3002;</p>
<p>&#x7B2C;&#x4E00;&#x4E2A; <code>show()</code> &#x65B9;&#x6CD5;&#x63A5;&#x53D7;&#x4E00;&#x4E2A; <strong>Map.Entry</strong> &#x5E76;&#x663E;&#x793A;&#x4EE5;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x8868;&#x793A;&#x7684;&#x952E;&#xFF0C;&#x4EE5;&#x4FBF;&#x8F7B;&#x677E;&#x5730;&#x5BF9;&#x539F;&#x59CB; <strong>ARRAY</strong> &#x8FDB;&#x884C;&#x53CC;&#x91CD;&#x68C0;&#x67E5;&#x3002; &#x540D;&#x79F0;&#x4EE5; <strong>show</strong> &#x5F00;&#x5934;&#x7684;&#x6BCF;&#x4E2A;&#x65B9;&#x6CD5;&#x90FD;&#x4F1A;&#x91CD;&#x8F7D;&#x4E24;&#x4E2A;&#x7248;&#x672C;&#xFF0C;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#x91C7;&#x7528; <strong>count</strong> &#x53C2;&#x6570;&#x6765;&#x6307;&#x793A;&#x8981;&#x663E;&#x793A;&#x7684;&#x5143;&#x7D20;&#x6570;&#x91CF;&#xFF0C;&#x7B2C;&#x4E8C;&#x4E2A;&#x7248;&#x672C;&#x663E;&#x793A;&#x5E8F;&#x5217;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5143;&#x7D20;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x662F;&#x4E00;&#x4E2A;&#x57FA;&#x672C;&#x7684;&#x6D4B;&#x8BD5;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/HTMLColorTest.java</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token class-name">HTMLColors</span><span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">HTMLColorTest</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> DISPLAY_SIZE <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span>MAP<span class="token punctuation">,</span> DISPLAY_SIZE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">showInv</span><span class="token punctuation">(</span>INVMAP<span class="token punctuation">,</span> DISPLAY_SIZE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>LIST<span class="token punctuation">,</span> DISPLAY_SIZE<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">showrgb</span><span class="token punctuation">(</span>RGBLIST<span class="token punctuation">,</span> DISPLAY_SIZE<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
0xF0F8FF: AliceBlue
0xFAEBD7: AntiqueWhite
0x7FFFD4: Aquamarine
0xF0FFFF: Azure
0xF5F5DC: Beige
0xFFE4C4: Bisque
0x000000: Black
0xFFEBCD: BlanchedAlmond
0x0000FF: Blue
0x8A2BE2: BlueViolet
0xA52A2A: Brown
0xDEB887: BurlyWood
0x5F9EA0: CadetBlue
0x7FFF00: Chartreuse
0xD2691E: Chocolate
0xFF7F50: Coral
0x6495ED: CornflowerBlue
0xFFF8DC: Cornsilk
0xDC143C: Crimson
0x00FFFF: Cyan
******************************
AliceBlue             0xF0F8FF
AntiqueWhite          0xFAEBD7
Aquamarine            0x7FFFD4
Azure                 0xF0FFFF
Beige                 0xF5F5DC
Bisque                0xFFE4C4
Black                 0x000000
BlanchedAlmond        0xFFEBCD
Blue                  0x0000FF
BlueViolet            0x8A2BE2
Brown                 0xA52A2A
BurlyWood             0xDEB887
CadetBlue             0x5F9EA0
Chartreuse            0x7FFF00
Chocolate             0xD2691E
Coral                 0xFF7F50
CornflowerBlue        0x6495ED
Cornsilk              0xFFF8DC
Crimson               0xDC143C
Cyan                  0x00FFFF
******************************
AliceBlue
AntiqueWhite
Aquamarine
Azure
Beige
Bisque
Black
BlanchedAlmond
Blue
BlueViolet
Brown
BurlyWood
CadetBlue
Chartreuse
Chocolate
Coral
CornflowerBlue
Cornsilk
Crimson
Cyan
******************************
0xF0F8FF
0xFAEBD7
0x7FFFD4
0xF0FFFF
0xF5F5DC
0xFFE4C4
0x000000
0xFFEBCD
0x0000FF
0x8A2BE2
0xA52A2A
0xDEB887
0x5F9EA0
0x7FFF00
0xD2691E
0xFF7F50
0x6495ED
0xFFF8DC
0xDC143C
0x00FFFF
*/</span>
</code></pre>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x4F7F;&#x7528; <strong>LinkedHashMap</strong> &#x786E;&#x5B9E;&#x80FD;&#x591F;&#x4FDD;&#x7559; <strong>HTMLColors.ARRAY</strong> &#x7684;&#x987A;&#x5E8F;&#x3002;</p>
<!-- List Behavior -->
<h2 id="list&#x884C;&#x4E3A;"><a name="list&#x884C;&#x4E3A;" class="anchor-navigation-ex-anchor" href="#list&#x884C;&#x4E3A;"><i class="fa fa-link" aria-hidden="true"></i></a>1.2. List&#x884C;&#x4E3A;</h2>
<p><strong>Lists</strong> &#x662F;&#x5B58;&#x50A8;&#x548C;&#x68C0;&#x7D22;&#x5BF9;&#x8C61;&#xFF08;&#x6B21;&#x4E8E;&#x6570;&#x7EC4;&#xFF09;&#x7684;&#x6700;&#x57FA;&#x672C;&#x65B9;&#x6CD5;&#x3002;&#x57FA;&#x672C;&#x5217;&#x8868;&#x64CD;&#x4F5C;&#x5305;&#x62EC;&#xFF1A;</p>
<ul>
<li><code>add()</code> &#x7528;&#x4E8E;&#x63D2;&#x5165;&#x5143;&#x7D20;</li>
<li><code>get()</code> &#x7528;&#x4E8E;&#x968F;&#x673A;&#x8BBF;&#x95EE;&#x5143;&#x7D20;</li>
<li><code>iterator()</code> &#x83B7;&#x53D6;&#x5E8F;&#x5217;&#x4E0A;&#x7684;&#x4E00;&#x4E2A; <strong>Iterator</strong></li>
<li><code>stream()</code> &#x751F;&#x6210;&#x5143;&#x7D20;&#x7684;&#x4E00;&#x4E2A; <strong>Stream</strong></li>
</ul>
<p>&#x5217;&#x8868;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x59CB;&#x7EC8;&#x4FDD;&#x7559;&#x5143;&#x7D20;&#x7684;&#x6DFB;&#x52A0;&#x987A;&#x5E8F;&#x3002;</p>
<p>&#x4EE5;&#x4E0B;&#x793A;&#x4F8B;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x5404;&#x81EA;&#x6DB5;&#x76D6;&#x4E86;&#x4E00;&#x7EC4;&#x4E0D;&#x540C;&#x7684;&#x884C;&#x4E3A;&#xFF1A;&#x6BCF;&#x4E2A; <strong>List</strong> &#x53EF;&#x4EE5;&#x6267;&#x884C;&#x7684;&#x64CD;&#x4F5C;&#xFF08; <code>basicTest()</code> &#xFF09;&#xFF0C;&#x4F7F;&#x7528; <strong>Iterator</strong> &#xFF08; <code>iterMotion()</code> &#xFF09;&#x904D;&#x5386;&#x5E8F;&#x5217;&#xFF0C;&#x4F7F;&#x7528; <strong>Iterator</strong> &#xFF08; <code>iterManipulation()</code> &#xFF09;&#x66F4;&#x6539;&#x5185;&#x5BB9;&#xFF0C;&#x67E5;&#x770B; <strong>List</strong> &#x64CD;&#x4F5C;&#xFF08; <code>testVisual()</code> &#xFF09;&#x7684;&#x6548;&#x679C;&#xFF0C;&#x4EE5;&#x53CA;&#x4EC5;&#x53EF;&#x7528;&#x4E8E; <strong>LinkedLists</strong> &#x7684;&#x64CD;&#x4F5C;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/ListOps.java</span>
<span class="token comment">// Things you can do with Lists</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token class-name">HTMLColors</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ListOps</span> <span class="token punctuation">{</span>
  <span class="token comment">// Create a short list for testing:</span>
  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> LIST <span class="token operator">=</span>
    <span class="token class-name">HTMLColors</span><span class="token punctuation">.</span>LIST<span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">boolean</span> b<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> s<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">ListIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> lit<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">basicTest</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    a<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;x&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Add at location 1</span>
    a<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;x&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Add at end</span>
    <span class="token comment">// Add a collection:</span>
    a<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>LIST<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Add a collection starting at location 3:</span>
    a<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> LIST<span class="token punctuation">)</span><span class="token punctuation">;</span>
    b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Is it in there?</span>
    <span class="token comment">// Is the entire collection in there?</span>
    b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">containsAll</span><span class="token punctuation">(</span>LIST<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Lists allow random access, which is cheap</span>
    <span class="token comment">// for ArrayList, expensive for LinkedList:</span>
    s <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Get (typed) object at location 1</span>
    i <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Tell index of object</span>
    b <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Any elements inside?</span>
    it <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Ordinary Iterator</span>
    lit <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ListIterator</span>
    lit <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Start at location 3</span>
    i <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Last match</span>
    a<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Remove location 1</span>
    a<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Remove this object</span>
    a<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;y&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Set location 1 to &quot;y&quot;</span>
    <span class="token comment">// Keep everything that&apos;s in the argument</span>
    <span class="token comment">// (the intersection of the two sets):</span>
    a<span class="token punctuation">.</span><span class="token function">retainAll</span><span class="token punctuation">(</span>LIST<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Remove everything that&apos;s in the argument:</span>
    a<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>LIST<span class="token punctuation">)</span><span class="token punctuation">;</span>
    i <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// How big is it?</span>
    a<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Remove all elements</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">iterMotion</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ListIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    b <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    b <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">hasPrevious</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    i <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">nextIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    s <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">previous</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    i <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">previousIndex</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">iterManipulation</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ListIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    it<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;47&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Must move to an element after add():</span>
    it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Remove the element after the new one:</span>
    it<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Must move to an element after remove():</span>
    it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Change the element after the deleted one:</span>
    it<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;47&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testVisual</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> a<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> b <span class="token operator">=</span> LIST<span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;b = &quot;</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    a<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    a<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Insert, remove, and replace elements</span>
    <span class="token comment">// using a ListIterator:</span>
    <span class="token class-name">ListIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> x <span class="token operator">=</span>
      a<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    x<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    x<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    x<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;47&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Traverse the list backwards:</span>
    x <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">hasPrevious</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>x<span class="token punctuation">.</span><span class="token function">previous</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;testVisual finished&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// There are some things that only LinkedLists can do:</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">testLinkedList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> ll <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ll<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>LIST<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ll<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Treat it like a stack, pushing:</span>
    ll<span class="token punctuation">.</span><span class="token function">addFirst</span><span class="token punctuation">(</span><span class="token string">&quot;one&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    ll<span class="token punctuation">.</span><span class="token function">addFirst</span><span class="token punctuation">(</span><span class="token string">&quot;two&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ll<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Like &quot;peeking&quot; at the top of a stack:</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ll<span class="token punctuation">.</span><span class="token function">getFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Like popping a stack:</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ll<span class="token punctuation">.</span><span class="token function">removeFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ll<span class="token punctuation">.</span><span class="token function">removeFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Treat it like a queue, pulling elements</span>
    <span class="token comment">// off the tail end:</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ll<span class="token punctuation">.</span><span class="token function">removeLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>ll<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Make and fill a new list each time:</span>
    <span class="token function">basicTest</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>LIST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">basicTest</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>LIST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">iterMotion</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>LIST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">iterMotion</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>LIST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">iterManipulation</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>LIST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">iterManipulation</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>LIST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">testVisual</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>LIST<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">testLinkedList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet]
b = [AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet]
[AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet,
AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet,
AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet]
[AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet,
AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige, one,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet,
AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet]
Bisque
Black
[AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet,
AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige, one,
47, BlanchedAlmond, Blue, BlueViolet, AliceBlue,
AntiqueWhite, Aquamarine, Azure, Beige, Bisque, Black,
BlanchedAlmond, Blue, BlueViolet]
BlueViolet Blue BlanchedAlmond Black Bisque Beige Azure
Aquamarine AntiqueWhite AliceBlue BlueViolet Blue
BlanchedAlmond 47 one Beige Azure Aquamarine
AntiqueWhite AliceBlue BlueViolet Blue BlanchedAlmond
Black Bisque Beige Azure Aquamarine AntiqueWhite
AliceBlue
testVisual finished
[AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue, BlueViolet]
[two, one, AliceBlue, AntiqueWhite, Aquamarine, Azure,
Beige, Bisque, Black, BlanchedAlmond, Blue, BlueViolet]
two
two
one
BlueViolet
[AliceBlue, AntiqueWhite, Aquamarine, Azure, Beige,
Bisque, Black, BlanchedAlmond, Blue]
*/</span>
</code></pre>
<p>&#x5728; <code>basicTest()</code> &#x548C; <code>iterMotion()</code> &#x4E2D;&#xFF0C;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x662F;&#x4E3A;&#x4E86;&#x5C55;&#x793A;&#x6B63;&#x786E;&#x7684;&#x8BED;&#x6CD5;&#xFF0C;&#x5C3D;&#x7BA1;&#x83B7;&#x53D6;&#x4E86;&#x8FD4;&#x56DE;&#x503C;&#xFF0C;&#x4F46;&#x4E0D;&#x4F1A;&#x4F7F;&#x7528;&#x5B83;&#x3002;&#x5728;&#x67D0;&#x4E9B;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x6839;&#x672C;&#x4E0D;&#x4F1A;&#x53BB;&#x83B7;&#x53D6;&#x8FD4;&#x56DE;&#x503C;&#x3002;&#x5728;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x4E4B;&#x524D;&#xFF0C;&#x8BF7;&#x67E5;&#x770B;JDK&#x6587;&#x6863;&#x4E2D;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x7684;&#x5B8C;&#x6574;&#x7528;&#x6CD5;&#x3002;</p>
<!-- Set Behavior -->
<h2 id="set&#x884C;&#x4E3A;"><a name="set&#x884C;&#x4E3A;" class="anchor-navigation-ex-anchor" href="#set&#x884C;&#x4E3A;"><i class="fa fa-link" aria-hidden="true"></i></a>1.3. Set&#x884C;&#x4E3A;</h2>
<p><strong>Set</strong> &#x7684;&#x4E3B;&#x8981;&#x7528;&#x5904;&#x662F;&#x6D4B;&#x8BD5;&#x6210;&#x5458;&#x8EAB;&#x4EFD;&#xFF0C;&#x4E0D;&#x8FC7;&#x4E5F;&#x53EF;&#x4EE5;&#x5C06;&#x5176;&#x7528;&#x4F5C;&#x5220;&#x9664;&#x91CD;&#x590D;&#x5143;&#x7D20;&#x7684;&#x5DE5;&#x5177;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x5173;&#x5FC3;&#x5143;&#x7D20;&#x987A;&#x5E8F;&#x6216;&#x5E76;&#x53D1;&#x6027;&#xFF0C; <strong>HashSet</strong> &#x603B;&#x662F;&#x6700;&#x597D;&#x7684;&#x9009;&#x62E9;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x662F;&#x4E13;&#x95E8;&#x4E3A;&#x4E86;&#x5FEB;&#x901F;&#x67E5;&#x627E;&#x800C;&#x8BBE;&#x8BA1;&#x7684;&#xFF08;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x4E86;&#x5728;<a href="">&#x9644;&#x5F55;&#xFF1A;&#x7406;&#x89E3;equals&#x548C;hashCode&#x65B9;&#x6CD5;</a>&#x7AE0;&#x8282;&#x4E2D;&#x63A2;&#x8BA8;&#x7684;&#x6563;&#x5217;&#x51FD;&#x6570;&#xFF09;&#x3002;</p>
<p>&#x5176;&#x5B83;&#x7684; <strong>Set</strong> &#x5B9E;&#x73B0;&#x4EA7;&#x751F;&#x4E0D;&#x540C;&#x7684;&#x6392;&#x5E8F;&#x884C;&#x4E3A;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/SetOrder.java</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token class-name">HTMLColors</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SetOrder</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> sets <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;java.util.HashSet&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;java.util.TreeSet&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;java.util.concurrent.ConcurrentSkipListSet&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;java.util.LinkedHashSet&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;java.util.concurrent.CopyOnWriteArraySet&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> RLIST <span class="token operator">=</span>
    <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">HTMLColors</span><span class="token punctuation">.</span>LIST<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">static</span> <span class="token punctuation">{</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span>RLIST<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span>
  <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">String</span> type<span class="token operator">:</span> sets<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">&quot;[-&gt; %s &lt;-]%n&quot;</span><span class="token punctuation">,</span>
        type<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span>type<span class="token punctuation">.</span><span class="token function">lastIndexOf</span><span class="token punctuation">(</span><span class="token string">&apos;.&apos;</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">&quot;unchecked&quot;</span><span class="token punctuation">)</span>
      <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> set <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>
        <span class="token class-name">Class</span><span class="token punctuation">.</span><span class="token function">forName</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      set<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>RLIST<span class="token punctuation">)</span><span class="token punctuation">;</span>
      set<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[-&gt; HashSet &lt;-]
MediumOrchid
PaleGoldenRod
Sienna
LightSlateGray
DarkSeaGreen
Black
Gainsboro
Orange
LightCoral
DodgerBlue
[-&gt; TreeSet &lt;-]
AliceBlue
AntiqueWhite
Aquamarine
Azure
Beige
Bisque
Black
BlanchedAlmond
Blue
BlueViolet
[-&gt; ConcurrentSkipListSet &lt;-]
AliceBlue
AntiqueWhite
Aquamarine
Azure
Beige
Bisque
Black
BlanchedAlmond
Blue
BlueViolet
[-&gt; LinkedHashSet &lt;-]
YellowGreen
Yellow
WhiteSmoke
White
Wheat
Violet
Turquoise
Tomato
Thistle
Teal
[-&gt; CopyOnWriteArraySet &lt;-]
YellowGreen
Yellow
WhiteSmoke
White
Wheat
Violet
Turquoise
Tomato
Thistle
Teal
*/</span>
</code></pre>
<p>&#x8FD9;&#x91CC;&#x9700;&#x8981;&#x4F7F;&#x7528; <strong>@SuppressWarnings(&#x201C;unchecked&#x201D;)</strong> &#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x91CC;&#x5C06;&#x4E00;&#x4E2A; <strong>String</strong> &#xFF08;&#x53EF;&#x80FD;&#x662F;&#x4EFB;&#x4F55;&#x4E1C;&#x897F;&#xFF09;&#x4F20;&#x9012;&#x7ED9;&#x4E86; <code>Class.forName(type).newInstance()</code> &#x3002;&#x7F16;&#x8BD1;&#x5668;&#x5E76;&#x4E0D;&#x80FD;&#x4FDD;&#x8BC1;&#x8FD9;&#x662F;&#x4E00;&#x6B21;&#x6210;&#x529F;&#x7684;&#x64CD;&#x4F5C;&#x3002;</p>
<p><strong>RLIST</strong> &#x662F; <strong>HTMLColors.LIST</strong> &#x7684;&#x53CD;&#x8F6C;&#x7248;&#x672C;&#x3002;&#x56E0;&#x4E3A; <code>Collections.reverse()</code> &#x662F;&#x901A;&#x8FC7;&#x4FEE;&#x6539;&#x53C2;&#x6570;&#x6765;&#x6267;&#x884C;&#x53CD;&#x5411;&#x64CD;&#x4F5C;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x8FD4;&#x56DE;&#x5305;&#x542B;&#x53CD;&#x5411;&#x5143;&#x7D20;&#x7684;&#x65B0; <strong>List</strong> &#xFF0C;&#x6240;&#x4EE5;&#x8BE5;&#x8C03;&#x7528;&#x5728; <strong>static</strong> &#x5757;&#x5185;&#x6267;&#x884C;&#x3002;  <strong>RLIST</strong> &#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x6211;&#x4EEC;&#x610F;&#x5916;&#x5730;&#x8BA4;&#x4E3A; <strong>Set</strong> &#x5BF9;&#x5176;&#x7ED3;&#x679C;&#x8FDB;&#x884C;&#x4E86;&#x6392;&#x5E8F;&#x3002;</p>
<p><strong>HashSet</strong> &#x7684;&#x8F93;&#x51FA;&#x7ED3;&#x679C;&#x4F3C;&#x4E4E;&#x6CA1;&#x6709;&#x53EF;&#x8FA8;&#x522B;&#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x662F;&#x57FA;&#x4E8E;&#x6563;&#x5217;&#x51FD;&#x6570;&#x7684;&#x3002; <strong>TreeSet</strong> &#x548C; <strong>ConcurrentSkipListSet</strong> &#x90FD;&#x5BF9;&#x5B83;&#x4EEC;&#x7684;&#x5143;&#x7D20;&#x8FDB;&#x884C;&#x4E86;&#x6392;&#x5E8F;&#xFF0C;&#x5B83;&#x4EEC;&#x90FD;&#x5B9E;&#x73B0;&#x4E86; <strong>SortedSet</strong> &#x63A5;&#x53E3;&#x6765;&#x6807;&#x8BC6;&#x8FD9;&#x4E2A;&#x7279;&#x70B9;&#x3002;&#x56E0;&#x4E3A;&#x5B9E;&#x73B0;&#x8BE5;&#x63A5;&#x53E3;&#x7684; <strong>Set</strong> &#x6309;&#x987A;&#x5E8F;&#x6392;&#x5217;&#xFF0C;&#x6240;&#x4EE5;&#x8BE5;&#x63A5;&#x53E3;&#x8FD8;&#x6709;&#x4E00;&#x4E9B;&#x5176;&#x4ED6;&#x7684;&#x53EF;&#x7528;&#x64CD;&#x4F5C;&#x3002; <strong>LinkedHashSet</strong> &#x548C; <strong>CopyOnWriteArraySet</strong> &#x5C3D;&#x7BA1;&#x6CA1;&#x6709;&#x7528;&#x4E8E;&#x6807;&#x8BC6;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x4F46;&#x5B83;&#x4EEC;&#x8FD8;&#x662F;&#x4FDD;&#x7559;&#x4E86;&#x5143;&#x7D20;&#x7684;&#x63D2;&#x5165;&#x987A;&#x5E8F;&#x3002;</p>
<p><strong>ConcurrentSkipListSet</strong> &#x548C; <strong>CopyOnWriteArraySet</strong> &#x662F;&#x7EBF;&#x7A0B;&#x5B89;&#x5168;&#x7684;&#x3002;</p>
<p>&#x5728;&#x9644;&#x5F55;&#x7684;&#x6700;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5C06;&#x4E86;&#x89E3;&#x5728;&#x975E; <strong>HashSet</strong> &#x5B9E;&#x73B0;&#x7684; <strong>Set</strong> &#x4E0A;&#x6DFB;&#x52A0;&#x989D;&#x5916;&#x6392;&#x5E8F;&#x7684;&#x6027;&#x80FD;&#x6210;&#x672C;&#xFF0C;&#x4EE5;&#x53CA;&#x4E0D;&#x540C;&#x5B9E;&#x73B0;&#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x529F;&#x80FD;&#x7684;&#x6210;&#x672C;&#x3002;</p>
<!-- Using Functional Operations with any Map -->
<h2 id="&#x5728;map&#x4E2D;&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x5F0F;&#x64CD;&#x4F5C;"><a name="&#x5728;map&#x4E2D;&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x5F0F;&#x64CD;&#x4F5C;" class="anchor-navigation-ex-anchor" href="#&#x5728;map&#x4E2D;&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x5F0F;&#x64CD;&#x4F5C;"><i class="fa fa-link" aria-hidden="true"></i></a>1.4. &#x5728;Map&#x4E2D;&#x4F7F;&#x7528;&#x51FD;&#x6570;&#x5F0F;&#x64CD;&#x4F5C;</h2>
<p>&#x4E0E; <strong>Collection</strong> &#x63A5;&#x53E3;&#x4E00;&#x6837;&#xFF0C;<code>forEach()</code> &#x4E5F;&#x5185;&#x7F6E;&#x5728; <strong>Map</strong> &#x63A5;&#x53E3;&#x4E2D;&#x3002;&#x4F46;&#x662F;&#x5982;&#x679C;&#x60F3;&#x8981;&#x6267;&#x884C;&#x4EFB;&#x4F55;&#x5176;&#x4ED6;&#x7684;&#x57FA;&#x672C;&#x529F;&#x80FD;&#x64CD;&#x4F5C;&#xFF0C;&#x6BD4;&#x5982; <code>map()</code> &#xFF0C;<code>flatMap()</code> &#xFF0C;<code>reduce()</code> &#x6216; <code>filter()</code> &#x65F6;&#xFF0C;&#x8BE5;&#x600E;&#x4E48;&#x529E;&#xFF1F; &#x67E5;&#x770B; <strong>Map</strong> &#x63A5;&#x53E3;&#x53D1;&#x73B0;&#x5E76;&#x6CA1;&#x6709;&#x8FD9;&#x4E9B;&#x3002;</p>
<p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>entrySet()</code> &#x8FDE;&#x63A5;&#x5230;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x7531; <strong>Map.Entry</strong> &#x5BF9;&#x8C61;&#x7EC4;&#x6210;&#x7684; <strong>Set</strong> &#x3002;&#x8FD9;&#x4E2A; <strong>Set</strong> &#x5305;&#x542B; <code>stream()</code> &#x548C; <code>parallelStream()</code> &#x65B9;&#x6CD5;&#x3002;&#x53EA;&#x9700;&#x8981;&#x8BB0;&#x4F4F;&#x4E00;&#x4EF6;&#x4E8B;&#xFF0C;&#x8FD9;&#x91CC;&#x6B63;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x662F; <strong>Map.Entry</strong> &#x5BF9;&#x8C61;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/FunctionalMap.java</span>
<span class="token comment">// Functional operations on a Map</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token class-name">HTMLColors</span><span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FunctionalMap</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    MAP<span class="token punctuation">.</span><span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token operator">::</span><span class="token function">getValue</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>v <span class="token operator">-&gt;</span> v<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;Dark&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>v <span class="token operator">-&gt;</span> v<span class="token punctuation">.</span><span class="token function">replaceFirst</span><span class="token punctuation">(</span><span class="token string">&quot;Dark&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Hot&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
HotBlue
HotCyan
HotGoldenRod
HotGray
HotGreen
HotKhaki
HotMagenta
HotOliveGreen
HotOrange
HotOrchid
HotRed
HotSalmon
HotSeaGreen
HotSlateBlue
HotSlateGray
HotTurquoise
HotViolet
*/</span>
</code></pre>
<p>&#x751F;&#x6210; <strong>Stream</strong> &#x540E;&#xFF0C;&#x6240;&#x6709;&#x7684;&#x57FA;&#x672C;&#x529F;&#x80FD;&#x65B9;&#x6CD5;&#xFF0C;&#x751A;&#x81F3;&#x66F4;&#x591A;&#x5C31;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E86;&#x3002;</p>
<!-- Selecting Parts of a Map -->
<h2 id="&#x9009;&#x62E9;map&#x7247;&#x6BB5;"><a name="&#x9009;&#x62E9;map&#x7247;&#x6BB5;" class="anchor-navigation-ex-anchor" href="#&#x9009;&#x62E9;map&#x7247;&#x6BB5;"><i class="fa fa-link" aria-hidden="true"></i></a>1.5. &#x9009;&#x62E9;Map&#x7247;&#x6BB5;</h2>
<p>&#x7531; <strong>TreeMap</strong> &#x548C; <strong>ConcurrentSkipListMap</strong> &#x5B9E;&#x73B0;&#x7684; <strong>NavigableMap</strong> &#x63A5;&#x53E3;&#x89E3;&#x51B3;&#x4E86;&#x9700;&#x8981;&#x9009;&#x62E9;Map&#x7247;&#x6BB5;&#x7684;&#x95EE;&#x9898;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x793A;&#x4F8B;&#xFF0C;&#x4F7F;&#x7528;&#x4E86; <strong>HTMLColors</strong> &#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/NavMap.java</span>
<span class="token comment">// NavigableMap produces pieces of a Map</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token class-name">HTMLColors</span><span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NavMap</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span>
  <span class="token class-name">NavigableMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> COLORS <span class="token operator">=</span>
    <span class="token keyword">new</span> <span class="token class-name">ConcurrentSkipListMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>MAP<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">show</span><span class="token punctuation">(</span>COLORS<span class="token punctuation">.</span><span class="token function">firstEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>COLORS<span class="token punctuation">.</span><span class="token function">lastEntry</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">NavigableMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> toLime <span class="token operator">=</span>
      COLORS<span class="token punctuation">.</span><span class="token function">headMap</span><span class="token punctuation">(</span><span class="token function">rgb</span><span class="token punctuation">(</span><span class="token string">&quot;Lime&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>toLime<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>COLORS<span class="token punctuation">.</span><span class="token function">ceilingEntry</span><span class="token punctuation">(</span><span class="token function">rgb</span><span class="token punctuation">(</span><span class="token string">&quot;DeepSkyBlue&quot;</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>COLORS<span class="token punctuation">.</span><span class="token function">floorEntry</span><span class="token punctuation">(</span><span class="token function">rgb</span><span class="token punctuation">(</span><span class="token string">&quot;DeepSkyBlue&quot;</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>toLime<span class="token punctuation">.</span><span class="token function">descendingMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>COLORS<span class="token punctuation">.</span><span class="token function">tailMap</span><span class="token punctuation">(</span><span class="token function">rgb</span><span class="token punctuation">(</span><span class="token string">&quot;MistyRose&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>COLORS<span class="token punctuation">.</span><span class="token function">subMap</span><span class="token punctuation">(</span>
      <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token string">&quot;Orchid&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
      <span class="token function">rgb</span><span class="token punctuation">(</span><span class="token string">&quot;DarkSalmon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
0x000000: Black
******************************
0xFFFFFF: White
******************************
0x000000: Black
0x000080: Navy
0x00008B: DarkBlue
0x0000CD: MediumBlue
0x0000FF: Blue
0x006400: DarkGreen
0x008000: Green
0x008080: Teal
0x008B8B: DarkCyan
0x00BFFF: DeepSkyBlue
0x00CED1: DarkTurquoise
0x00FA9A: MediumSpringGreen
0x00FF00: Lime
******************************
0x00BFFF: DeepSkyBlue
******************************
0x008B8B: DarkCyan
******************************
0x00FF00: Lime
0x00FA9A: MediumSpringGreen
0x00CED1: DarkTurquoise
0x00BFFF: DeepSkyBlue
0x008B8B: DarkCyan
0x008080: Teal
0x008000: Green
0x006400: DarkGreen
0x0000FF: Blue
0x0000CD: MediumBlue
0x00008B: DarkBlue
0x000080: Navy
0x000000: Black
******************************
0xFFE4E1: MistyRose
0xFFEBCD: BlanchedAlmond
0xFFEFD5: PapayaWhip
0xFFF0F5: LavenderBlush
0xFFF5EE: SeaShell
0xFFF8DC: Cornsilk
0xFFFACD: LemonChiffon
0xFFFAF0: FloralWhite
0xFFFAFA: Snow
0xFFFF00: Yellow
0xFFFFE0: LightYellow
0xFFFFF0: Ivory
0xFFFFFF: White
******************************
0xDA70D6: Orchid
0xDAA520: GoldenRod
0xDB7093: PaleVioletRed
0xDC143C: Crimson
0xDCDCDC: Gainsboro
0xDDA0DD: Plum
0xDEB887: BurlyWood
0xE0FFFF: LightCyan
0xE6E6FA: Lavender
*/</span>
</code></pre>
<p>&#x5728;&#x4E3B;&#x65B9;&#x6CD5;&#x4E2D;&#x53EF;&#x4EE5;&#x770B;&#x5230; <strong>NavigableMap</strong> &#x7684;&#x5404;&#x79CD;&#x529F;&#x80FD;&#x3002; &#x56E0;&#x4E3A; <strong>NavigableMap</strong> &#x5177;&#x6709;&#x952E;&#x987A;&#x5E8F;&#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x4F7F;&#x7528;&#x4E86; <code>firstEntry()</code> &#x548C; <code>lastEntry()</code> &#x7684;&#x6982;&#x5FF5;&#x3002;&#x8C03;&#x7528; <code>headMap()</code> &#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A; <strong>NavigableMap</strong> &#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x542B;&#x4E86;&#x4ECE; <strong>Map</strong> &#x7684;&#x5F00;&#x5934;&#x5230; <code>headMap()</code> &#x53C2;&#x6570;&#x4E2D;&#x6240;&#x6307;&#x5411;&#x7684;&#x4E00;&#x7EC4;&#x5143;&#x7D20;&#xFF0C;&#x5176;&#x4E2D; <strong>boolean</strong> &#x503C;&#x6307;&#x793A;&#x7ED3;&#x679C;&#x4E2D;&#x662F;&#x5426;&#x5305;&#x542B;&#x8BE5;&#x53C2;&#x6570;&#x3002;&#x8C03;&#x7528; <code>tailMap()</code> &#x6267;&#x884C;&#x4E86;&#x7C7B;&#x4F3C;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x662F;&#x4ECE;&#x53C2;&#x6570;&#x5F00;&#x59CB;&#x5230; <strong>Map</strong> &#x7684;&#x672B;&#x5C3E;&#x3002; <code>subMap()</code> &#x5219;&#x5141;&#x8BB8;&#x751F;&#x6210; <strong>Map</strong> &#x4E2D;&#x95F4;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;</p>
<p><code>ceilingEntry()</code> &#x4ECE;&#x5F53;&#x524D;&#x952E;&#x503C;&#x5BF9;&#x5411;&#x4E0A;&#x641C;&#x7D22;&#x4E0B;&#x4E00;&#x4E2A;&#x952E;&#x503C;&#x5BF9;&#xFF0C;<code>floorEntry()</code> &#x5219;&#x662F;&#x5411;&#x4E0B;&#x641C;&#x7D22;&#x3002; <code>descendingMap()</code> &#x53CD;&#x8F6C;&#x4E86; <strong>NavigableMap</strong> &#x7684;&#x987A;&#x5E8F;&#x3002;</p>
<p>&#x5982;&#x679C;&#x9700;&#x8981;&#x901A;&#x8FC7;&#x5206;&#x5272; <strong>Map</strong> &#x6765;&#x7B80;&#x5316;&#x6240;&#x6B63;&#x5728;&#x89E3;&#x51B3;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5219; <strong>NavigableMap</strong> &#x53EF;&#x4EE5;&#x505A;&#x5230;&#x3002;&#x5177;&#x6709;&#x7C7B;&#x4F3C;&#x7684;&#x529F;&#x80FD;&#x7684;&#x5176;&#x5B83;&#x96C6;&#x5408;&#x5B9E;&#x73B0;&#x4E5F;&#x53EF;&#x4EE5;&#x7528;&#x6765;&#x5E2E;&#x52A9;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#x3002;</p>
<!-- Filling Collections -->
<h2 id="&#x586B;&#x5145;&#x96C6;&#x5408;"><a name="&#x586B;&#x5145;&#x96C6;&#x5408;" class="anchor-navigation-ex-anchor" href="#&#x586B;&#x5145;&#x96C6;&#x5408;"><i class="fa fa-link" aria-hidden="true"></i></a>1.6. &#x586B;&#x5145;&#x96C6;&#x5408;</h2>
<p>&#x4E0E; <strong>Arrays</strong> &#x4E00;&#x6837;&#xFF0C;&#x8FD9;&#x91CC;&#x6709;&#x4E00;&#x4E2A;&#x540D;&#x4E3A; <strong>Collections</strong> &#x7684;&#x4F34;&#x968F;&#x7C7B;&#xFF08;companion class&#xFF09;&#xFF0C;&#x5305;&#x542B;&#x4E86;&#x4E00;&#x4E9B; <strong>static</strong> &#x7684;&#x5B9E;&#x7528;&#x65B9;&#x6CD5;&#xFF0C;&#x5176;&#x4E2D;&#x5305;&#x62EC;&#x4E00;&#x4E2A;&#x540D;&#x4E3A; <code>fill()</code> &#x7684;&#x65B9;&#x6CD5;&#x3002; <code>fill()</code> &#x53EA;&#x590D;&#x5236;&#x6574;&#x4E2A;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x5355;&#x4E2A;&#x5BF9;&#x8C61;&#x5F15;&#x7528;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x5B83;&#x4EC5;&#x9002;&#x7528;&#x4E8E; <strong>List</strong> &#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x7ED3;&#x679C;&#x5217;&#x8868;&#x53EF;&#x4EE5;&#x4F20;&#x9012;&#x7ED9;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x6216; <code>addAll()</code> &#x65B9;&#x6CD5;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/FillingLists.java</span>
<span class="token comment">// Collections.fill() &amp; Collections.nCopies()</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">StringAddress</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> s<span class="token punctuation">;</span>
  <span class="token class-name">StringAddress</span><span class="token punctuation">(</span><span class="token class-name">String</span> s<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>s <span class="token operator">=</span> s<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> s<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FillingLists</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">StringAddress</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">nCopies</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">StringAddress</span><span class="token punctuation">(</span><span class="token string">&quot;Hello&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span>
      <span class="token keyword">new</span> <span class="token class-name">StringAddress</span><span class="token punctuation">(</span><span class="token string">&quot;World!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[StringAddress@15db9742 Hello, StringAddress@15db9742
Hello, StringAddress@15db9742 Hello,
StringAddress@15db9742 Hello]
[StringAddress@6d06d69c World!, StringAddress@6d06d69c
World!, StringAddress@6d06d69c World!,
StringAddress@6d06d69c World!]
*/</span>
</code></pre>
<p>&#x8FD9;&#x4E2A;&#x793A;&#x4F8B;&#x5C55;&#x793A;&#x4E86;&#x4E24;&#x79CD;&#x4F7F;&#x7528;&#x5BF9;&#x5355;&#x4E2A;&#x5BF9;&#x8C61;&#x7684;&#x5F15;&#x7528;&#x6765;&#x586B;&#x5145; <strong>Collection</strong> &#x7684;&#x65B9;&#x6CD5;&#x3002; &#x7B2C;&#x4E00;&#x4E2A;&#xFF1A; <code>Collections.nCopies()</code> &#xFF0C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; <strong>List</strong>&#xFF0C;&#x5E76;&#x4F20;&#x9012;&#x7ED9; <strong>ArrayList</strong> &#x7684;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#xFF0C;&#x8FDB;&#x800C;&#x586B;&#x5145;&#x4E86; <strong>ArrayList</strong> &#x3002;</p>
<p><strong>StringAddress</strong> &#x4E2D;&#x7684; <code>toString()</code> &#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x4E86; <code>Object.toString()</code> &#xFF0C;&#x5B83;&#x5148;&#x751F;&#x6210;&#x7C7B;&#x540D;&#xFF0C;&#x540E;&#x8DDF;&#x7740;&#x5BF9;&#x8C61;&#x7684;&#x54C8;&#x5E0C;&#x7801;&#x7684;&#x65E0;&#x7B26;&#x53F7;&#x5341;&#x516D;&#x8FDB;&#x5236;&#x8868;&#x793A;&#xFF08;&#x54C8;&#x5E0C;&#x5417;&#x7531; <code>hashCode()</code> &#x65B9;&#x6CD5;&#x751F;&#x6210;&#xFF09;&#x3002; &#x8F93;&#x51FA;&#x663E;&#x793A;&#x6240;&#x6709;&#x7684;&#x5F15;&#x7528;&#x90FD;&#x6307;&#x5411;&#x540C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x3002;&#x8C03;&#x7528;&#x7B2C;&#x4E8C;&#x4E2A;&#x65B9;&#x6CD5; <code>Collections.fill()</code> &#x540E;&#x4E5F;&#x662F;&#x5982;&#x6B64;&#x3002; <code>fill()</code> &#x65B9;&#x6CD5;&#x7684;&#x7528;&#x5904;&#x975E;&#x5E38;&#x6709;&#x9650;&#xFF0C;&#x5B83;&#x53EA;&#x80FD;&#x66FF;&#x6362; <strong>List</strong> &#x4E2D;&#x5DF2;&#x6709;&#x7684;&#x5143;&#x7D20;,&#x800C;&#x4E14;&#x4E0D;&#x4F1A;&#x6DFB;&#x52A0;&#x65B0;&#x5143;&#x7D20;&#xFF0C;</p>
<h3 id="&#x4F7F;&#x7528;-suppliers-&#x586B;&#x5145;&#x96C6;&#x5408;"><a name="&#x4F7F;&#x7528;-suppliers-&#x586B;&#x5145;&#x96C6;&#x5408;" class="anchor-navigation-ex-anchor" href="#&#x4F7F;&#x7528;-suppliers-&#x586B;&#x5145;&#x96C6;&#x5408;"><i class="fa fa-link" aria-hidden="true"></i></a>1.6.1. &#x4F7F;&#x7528; Suppliers &#x586B;&#x5145;&#x96C6;&#x5408;</h3>
<p><a href="">&#x7B2C;&#x4E8C;&#x5341;&#x7AE0; &#x6CDB;&#x578B;</a>&#x7AE0;&#x8282;&#x4E2D;&#x4ECB;&#x7ECD;&#x7684; <strong>onjava.Suppliers</strong> &#x7C7B;&#x4E3A;&#x586B;&#x5145;&#x96C6;&#x5408;&#x63D0;&#x4F9B;&#x4E86;&#x901A;&#x7528;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x3002; &#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4F7F;&#x7528; <strong>Suppliers</strong> &#x521D;&#x59CB;&#x5316;&#x51E0;&#x79CD;&#x4E0D;&#x540C;&#x7C7B;&#x578B;&#x7684; <strong>Collection</strong> &#x7684;&#x793A;&#x4F8B;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/SuppliersCollectionTest.java</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Government</span> <span class="token keyword">implements</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> foundation <span class="token operator">=</span> <span class="token punctuation">(</span>
    <span class="token string">&quot;strange women lying in ponds &quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;distributing swords is no basis &quot;</span> <span class="token operator">+</span>
    <span class="token string">&quot;for a system of government&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> index<span class="token punctuation">;</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> foundation<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SuppliersCollectionTest</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Suppliers class from the Generics chapter:</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> set <span class="token operator">=</span> <span class="token class-name">Suppliers</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>
      <span class="token class-name">LinkedHashSet</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Government</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Suppliers</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>
      <span class="token class-name">LinkedList</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Government</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    list <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Suppliers</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Government</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Or we can use Streams:</span>
    set <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token class-name">Government</span><span class="token punctuation">.</span>foundation<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>
    list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token class-name">Government</span><span class="token punctuation">.</span>foundation<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span><span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token class-name">Government</span><span class="token punctuation">.</span>foundation<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span>
        <span class="token punctuation">.</span><span class="token function">toCollection</span><span class="token punctuation">(</span><span class="token class-name">LinkedList</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    set <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token class-name">Government</span><span class="token punctuation">.</span>foundation<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span>
        <span class="token punctuation">.</span><span class="token function">toCollection</span><span class="token punctuation">(</span><span class="token class-name">LinkedHashSet</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[strange, women, lying, in, ponds, distributing,
swords, is, no, basis, for, a, system, of, government]
[strange, women, lying, in, ponds, distributing,
swords, is, no, basis, for, a, system, of, government]
[strange, women, lying, in, ponds, distributing,
swords, is, no, basis, for, a, system, of, government]
[ponds, no, a, in, swords, for, is, basis, strange,
system, government, distributing, of, women, lying]
[strange, women, lying, in, ponds, distributing,
swords, is, no, basis, for, a, system, of, government]
[strange, women, lying, in, ponds, distributing,
swords, is, no, basis, for, a, system, of, government]
[strange, women, lying, in, ponds, distributing,
swords, is, no, basis, for, a, system, of, government]
*/</span>
</code></pre>
<p><strong>LinkedHashSet</strong> &#x4E2D;&#x7684;&#x7684;&#x5143;&#x7D20;&#x6309;&#x63D2;&#x5165;&#x987A;&#x5E8F;&#x6392;&#x5217;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x7EF4;&#x62A4;&#x4E00;&#x4E2A;&#x94FE;&#x8868;&#x6765;&#x4FDD;&#x5B58;&#x8BE5;&#x987A;&#x5E8F;&#x3002;</p>
<p>&#x4F46;&#x662F;&#x8BF7;&#x6CE8;&#x610F;&#x793A;&#x4F8B;&#x7684;&#x7B2C;&#x4E8C;&#x90E8;&#x5206;&#xFF1A;&#x5927;&#x591A;&#x6570;&#x60C5;&#x51B5;&#x4E0B;&#x90FD;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <strong>Stream</strong> &#x6765;&#x521B;&#x5EFA;&#x548C;&#x586B;&#x5145; <strong>Collection</strong> &#x3002;&#x5728;&#x672C;&#x4F8B;&#x4E2D;&#x7684; <strong>Stream</strong> &#x7248;&#x672C;&#x4E0D;&#x9700;&#x8981;&#x58F0;&#x660E; <strong>Supplier</strong> &#x6240;&#x60F3;&#x8981;&#x521B;&#x5EFA;&#x7684;&#x5143;&#x7D20;&#x6570;&#x91CF;;&#xFF0C;&#x5B83;&#x76F4;&#x63A5;&#x5438;&#x6536;&#x4E86; <strong>Stream</strong> &#x4E2D;&#x7684;&#x6240;&#x6709;&#x5143;&#x7D20;&#x3002;</p>
<p>&#x5C3D;&#x53EF;&#x80FD;&#x4F18;&#x5148;&#x9009;&#x62E9; <strong>Stream</strong> &#x6765;&#x89E3;&#x51B3;&#x95EE;&#x9898;&#x3002;</p>
<h3 id="map-suppliers"><a name="map-suppliers" class="anchor-navigation-ex-anchor" href="#map-suppliers"><i class="fa fa-link" aria-hidden="true"></i></a>1.6.2. Map Suppliers</h3>
<p>&#x4F7F;&#x7528; <strong>Supplier</strong> &#x6765;&#x586B;&#x5145; <strong>Map</strong> &#x65F6;&#x9700;&#x8981;&#x4E00;&#x4E2A; <strong>Pair</strong> &#x7C7B;&#xFF0C;&#x56E0;&#x4E3A;&#x6BCF;&#x6B21;&#x8C03;&#x7528;&#x4E00;&#x4E2A; <strong>Supplier</strong> &#x7684; <code>get()</code> &#x65B9;&#x6CD5;&#x65F6;&#xFF0C;&#x90FD;&#x5FC5;&#x987B;&#x751F;&#x6210;&#x4E00;&#x5BF9;&#x5BF9;&#x8C61;&#xFF08;&#x4E00;&#x4E2A;&#x952E;&#x548C;&#x4E00;&#x4E2A;&#x503C;&#xFF09;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// onjava/Pair.java</span>
<span class="token keyword">package</span> <span class="token namespace">onjava</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token class-name">K</span> key<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">final</span> <span class="token class-name">V</span> value<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">Pair</span><span class="token punctuation">(</span><span class="token class-name">K</span> k<span class="token punctuation">,</span> <span class="token class-name">V</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    key <span class="token operator">=</span> k<span class="token punctuation">;</span>
    value <span class="token operator">=</span> v<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">K</span> <span class="token function">key</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> key<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">V</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> value<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token function">make</span><span class="token punctuation">(</span><span class="token class-name">K</span> k<span class="token punctuation">,</span> <span class="token class-name">V</span> v<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>Pair</strong> &#x662F;&#x4E00;&#x4E2A;&#x53EA;&#x8BFB;&#x7684; <em>&#x6570;&#x636E;&#x4F20;&#x8F93;&#x5BF9;&#x8C61;</em> &#xFF08;Data Transfer Object&#xFF09;&#x6216; <em>&#x4FE1;&#x4F7F;</em> &#xFF08;Messenger&#xFF09;&#x3002; &#x8FD9;&#x4E0E;<a href="">&#x7B2C;&#x4E8C;&#x5341;&#x7AE0; &#x6CDB;&#x578B;</a>&#x7AE0;&#x8282;&#x4E2D;&#x7684; <strong>Tuple2</strong> &#x57FA;&#x672C;&#x76F8;&#x540C;&#xFF0C;&#x4F46;&#x540D;&#x5B57;&#x66F4;&#x9002;&#x5408; <strong>Map</strong> &#x521D;&#x59CB;&#x5316;&#x3002;&#x6211;&#x8FD8;&#x6DFB;&#x52A0;&#x4E86;&#x9759;&#x6001;&#x7684; <code>make()</code> &#x65B9;&#x6CD5;&#xFF0C;&#x4EE5;&#x4FBF;&#x4E3A;&#x521B;&#x5EFA; <strong>Pair</strong> &#x5BF9;&#x8C61;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A;&#x66F4;&#x7B80;&#x6D01;&#x7684;&#x540D;&#x5B57;&#x3002;</p>
<p>Java 8 &#x7684; <strong>Stream</strong> &#x63D0;&#x4F9B;&#x4E86;&#x586B;&#x5145; <strong>Map</strong> &#x7684;&#x4FBF;&#x6377;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/StreamFillMaps.java</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Letters</span>
<span class="token keyword">implements</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Pair</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> number <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">char</span> letter <span class="token operator">=</span> <span class="token string">&apos;A&apos;</span><span class="token punctuation">;</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Pair</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>number<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token operator">+</span> letter<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">StreamFillMaps</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> m <span class="token operator">=</span>
      <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Letters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span>
        <span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span><span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">key</span><span class="token punctuation">,</span> <span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Two separate Suppliers:</span>
    <span class="token class-name">Rand<span class="token punctuation">.</span>String</span> rs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Rand<span class="token punctuation">.</span>String</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Count<span class="token punctuation">.</span>Character</span> cc <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Count<span class="token punctuation">.</span>Character</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Character</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> mcs <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Pair</span><span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span>cc<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> rs<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span>
        <span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span><span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">key</span><span class="token punctuation">,</span> <span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mcs<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// A key Supplier and a single value:</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Character</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> mcs2 <span class="token operator">=</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Pair</span><span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span>cc<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;Val&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span>
        <span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span><span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">key</span><span class="token punctuation">,</span> <span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mcs2<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
{1=A, 2=B, 3=C, 4=D, 5=E, 6=F, 7=G, 8=H, 9=I, 10=J,
11=K}
{b=btp, c=enp, d=ccu, e=xsz, f=gvg, g=mei, h=nne,
i=elo}
{p=Val, q=Val, j=Val, k=Val, l=Val, m=Val, n=Val,
o=Val}
*/</span>
</code></pre>
<p>&#x4E0A;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x4E2D;&#x51FA;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x6A21;&#x5F0F;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x548C;&#x586B;&#x5145; <strong>Map</strong> &#x7684;&#x5DE5;&#x5177;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// onjava/FillMap.java</span>
<span class="token keyword">package</span> <span class="token namespace">onjava</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FillMap</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span>
  <span class="token function">basic</span><span class="token punctuation">(</span><span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Pair</span><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> pairGen<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>pairGen<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span>
        <span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span><span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">key</span><span class="token punctuation">,</span> <span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span>
  <span class="token function">basic</span><span class="token punctuation">(</span><span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> keyGen<span class="token punctuation">,</span>
        <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> valueGen<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token class-name">Pair</span><span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span>keyGen<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> valueGen<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span>
        <span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span><span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">key</span><span class="token punctuation">,</span> <span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">value</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">,</span> <span class="token class-name">M</span> <span class="token keyword">extends</span> <span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span>
  <span class="token class-name">M</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">&gt;</span></span> keyGen<span class="token punctuation">,</span>
           <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> valueGen<span class="token punctuation">,</span>
           <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">M</span><span class="token punctuation">&gt;</span></span> mapSupplier<span class="token punctuation">,</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Stream</span><span class="token punctuation">.</span><span class="token function">generate</span><span class="token punctuation">(</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span>
      <span class="token class-name">Pair</span><span class="token punctuation">.</span><span class="token function">make</span><span class="token punctuation">(</span>keyGen<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> valueGen<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span>
          <span class="token punctuation">.</span><span class="token function">toMap</span><span class="token punctuation">(</span><span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">key</span><span class="token punctuation">,</span> <span class="token class-name">Pair</span><span class="token operator">::</span><span class="token function">value</span><span class="token punctuation">,</span>
                 <span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> k<span class="token punctuation">,</span> mapSupplier<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>basic() &#x65B9;&#x6CD5;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x9ED8;&#x8BA4;&#x7684; <strong>Map</strong> &#xFF0C;&#x800C; <code>create()</code> &#x65B9;&#x6CD5;&#x5141;&#x8BB8;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x786E;&#x5207;&#x7684; <strong>Map</strong> &#x7C7B;&#x578B;&#xFF0C;&#x5E76;&#x8FD4;&#x56DE;&#x90A3;&#x4E2A;&#x786E;&#x5207;&#x7684;&#x7C7B;&#x578B;&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x6D4B;&#x8BD5;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/FillMapTest.java</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FillMapTest</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> mcs <span class="token operator">=</span> <span class="token class-name">FillMap</span><span class="token punctuation">.</span><span class="token function">basic</span><span class="token punctuation">(</span>
      <span class="token keyword">new</span> <span class="token class-name">Rand<span class="token punctuation">.</span>String</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Count<span class="token punctuation">.</span>Integer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>mcs<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> hashm <span class="token operator">=</span>
      <span class="token class-name">FillMap</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Rand<span class="token punctuation">.</span>String</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">Count<span class="token punctuation">.</span>Integer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">HashMap</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>hashm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> linkm <span class="token operator">=</span>
      <span class="token class-name">FillMap</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Rand<span class="token punctuation">.</span>String</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword">new</span> <span class="token class-name">Count<span class="token punctuation">.</span>Integer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">LinkedHashMap</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>linkm<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
{npcc=1, ztdv=6, gvgm=3, btpe=0, einn=4, eelo=5,
uxsz=2}
{npcc=1, ztdv=6, gvgm=3, btpe=0, einn=4, eelo=5,
uxsz=2}
{btpe=0, npcc=1, uxsz=2, gvgm=3, einn=4, eelo=5,
ztdv=6}
*/</span>
</code></pre>
<!-- Custom Collection and Map using Flyweight -->
<h2 id="&#x4F7F;&#x7528;&#x4EAB;&#x5143;&#xFF08;flyweight&#xFF09;&#x81EA;&#x5B9A;&#x4E49;collection&#x548C;map"><a name="&#x4F7F;&#x7528;&#x4EAB;&#x5143;&#xFF08;flyweight&#xFF09;&#x81EA;&#x5B9A;&#x4E49;collection&#x548C;map" class="anchor-navigation-ex-anchor" href="#&#x4F7F;&#x7528;&#x4EAB;&#x5143;&#xFF08;flyweight&#xFF09;&#x81EA;&#x5B9A;&#x4E49;collection&#x548C;map"><i class="fa fa-link" aria-hidden="true"></i></a>1.7. &#x4F7F;&#x7528;&#x4EAB;&#x5143;&#xFF08;Flyweight&#xFF09;&#x81EA;&#x5B9A;&#x4E49;Collection&#x548C;Map</h2>
<p>&#x672C;&#x8282;&#x4ECB;&#x7ECD;&#x5982;&#x4F55;&#x521B;&#x5EFA;&#x81EA;&#x5B9A;&#x4E49; <strong>Collection</strong> &#x548C; <strong>Map</strong> &#x5B9E;&#x73B0;&#x3002;&#x6BCF;&#x4E2A; <strong>java.util</strong> &#x4E2D;&#x7684;&#x96C6;&#x5408;&#x90FD;&#x6709;&#x81EA;&#x5DF1;&#x7684; <strong>Abstract</strong> &#x7C7B;&#xFF0C;&#x5B83;&#x63D0;&#x4F9B;&#x4E86;&#x8BE5;&#x96C6;&#x5408;&#x7684;&#x90E8;&#x5206;&#x5B9E;&#x73B0;&#xFF0C;&#x56E0;&#x6B64;&#x53EA;&#x9700;&#x8981;&#x5B9E;&#x73B0;&#x5FC5;&#x8981;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x751F;&#x6210;&#x6240;&#x9700;&#x7684;&#x96C6;&#x5408;&#x3002;&#x4F60;&#x5C06;&#x770B;&#x5230;&#x901A;&#x8FC7;&#x7EE7;&#x627F; <strong>java.util.Abstract</strong> &#x7C7B;&#x6765;&#x521B;&#x5EFA;&#x81EA;&#x5B9A;&#x4E49; <strong>Map</strong> &#x548C; <strong>Collection</strong> &#x662F;&#x591A;&#x4E48;&#x7B80;&#x5355;&#x3002;&#x4F8B;&#x5982;&#xFF0C;&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EA;&#x8BFB;&#x7684; <strong>Set</strong> &#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x4ECE; <strong>AbstractSet</strong> &#x7EE7;&#x627F;&#x5E76;&#x5B9E;&#x73B0; <code>iterator()</code> &#x548C; <code>size()</code> &#x3002;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x793A;&#x4F8B;&#x662F;&#x751F;&#x6210;&#x6D4B;&#x8BD5;&#x6570;&#x636E;&#x7684;&#x53E6;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x3002;&#x751F;&#x6210;&#x7684;&#x96C6;&#x5408;&#x901A;&#x5E38;&#x662F;&#x53EA;&#x8BFB;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x6240;&#x63D0;&#x4F9B;&#x7684;&#x65B9;&#x6CD5;&#x6700;&#x5C11;&#x3002;</p>
<p>&#x8BE5;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x8FD8;&#x6F14;&#x793A;&#x4E86; <em>&#x4EAB;&#x5143;</em> &#xFF08;Flyweight&#xFF09;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x3002;&#x5F53;&#x666E;&#x901A;&#x89E3;&#x51B3;&#x65B9;&#x6848;&#x9700;&#x8981;&#x592A;&#x591A;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x6216;&#x8005;&#x5F53;&#x751F;&#x6210;&#x666E;&#x901A;&#x5BF9;&#x8C61;&#x5360;&#x7528;&#x592A;&#x591A;&#x7A7A;&#x95F4;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EAB;&#x5143;&#x3002;&#x4EAB;&#x5143;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5C06;&#x5BF9;&#x8C61;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x5916;&#x90E8;&#x5316;&#xFF08;externalizes&#xFF09;&#x3002;&#x76F8;&#x6BD4;&#x4E8E;&#x628A;&#x5BF9;&#x8C61;&#x7684;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x90FD;&#x5305;&#x542B;&#x5728;&#x5BF9;&#x8C61;&#x4E2D;&#xFF0C;&#x8FD9;&#x6837;&#x505A;&#x4F7F;&#x5F97;&#x5BF9;&#x8C61;&#x7684;&#x90E8;&#x5206;&#x6216;&#x8005;&#x5168;&#x90E8;&#x53EF;&#x4EE5;&#x5728;&#x66F4;&#x6709;&#x6548;&#x7684;&#x5916;&#x90E8;&#x8868;&#x4E2D;&#x67E5;&#x627E;&#xFF0C;&#x6216;&#x901A;&#x8FC7;&#x4E00;&#x4E9B;&#x8282;&#x7701;&#x7A7A;&#x95F4;&#x7684;&#x5176;&#x4ED6;&#x8BA1;&#x7B97;&#x751F;&#x6210;&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x662F;&#x4EFB;&#x4F55;&#x5927;&#x5C0F;&#x7684; <strong>List</strong> &#xFF0C;&#x5E76;&#x4E14;&#xFF08;&#x6709;&#x6548;&#x5730;&#xFF09;&#x4F7F;&#x7528; <strong>Integer</strong> &#x6570;&#x636E;&#x8FDB;&#x884C;&#x9884;&#x521D;&#x59CB;&#x5316;&#x3002;&#x8981;&#x4ECE; <strong>AbstractList</strong> &#x521B;&#x5EFA;&#x53EA;&#x8BFB; <strong>List</strong> &#xFF0C;&#x5FC5;&#x987B;&#x5B9E;&#x73B0; <code>get()</code> &#x548C; <code>size()</code>&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// onjava/CountingIntegerList.java</span>
<span class="token comment">// List of any length, containing sample data</span>
<span class="token comment">// {java onjava.CountingIntegerList}</span>
<span class="token keyword">package</span> <span class="token namespace">onjava</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CountingIntegerList</span>
<span class="token keyword">extends</span> <span class="token class-name">AbstractList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> size<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">CountingIntegerList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">CountingIntegerList</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> size <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> size<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> index<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> size<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> cil <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">CountingIntegerList</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>cil<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>cil<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,
16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29]
500
*/</span>
</code></pre>
<p>&#x53EA;&#x6709;&#x5F53;&#x60F3;&#x8981;&#x9650;&#x5236; <strong>List</strong> &#x7684;&#x957F;&#x5EA6;&#x65F6;&#xFF0C; <strong>size</strong> &#x503C;&#x624D;&#x662F;&#x91CD;&#x8981;&#x7684;&#xFF0C;&#x5C31;&#x50CF;&#x5728;&#x4E3B;&#x65B9;&#x6CD5;&#x4E2D;&#x90A3;&#x6837;&#x3002;&#x5373;&#x4F7F;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C; <code>get()</code> &#x4E5F;&#x4F1A;&#x4EA7;&#x751F;&#x4EFB;&#x4F55;&#x503C;&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x7C7B;&#x662F;&#x4EAB;&#x5143;&#x6A21;&#x5F0F;&#x7684;&#x4E00;&#x4E2A;&#x7B80;&#x6D01;&#x7684;&#x4F8B;&#x5B50;&#x3002;&#x5F53;&#x9700;&#x8981;&#x7684;&#x65F6;&#x5019;&#xFF0C; <code>get()</code> &#x201C;&#x8BA1;&#x7B97;&#x201D;&#x6240;&#x9700;&#x7684;&#x503C;&#xFF0C;&#x56E0;&#x6B64;&#x6CA1;&#x5FC5;&#x8981;&#x5B58;&#x50A8;&#x548C;&#x521D;&#x59CB;&#x5316;&#x5B9E;&#x9645;&#x7684;&#x5E95;&#x5C42; <strong>List</strong> &#x7ED3;&#x6784;&#x3002;</p>
<p>&#x5728;&#x5927;&#x591A;&#x6570;&#x7A0B;&#x5E8F;&#x4E2D;&#xFF0C;&#x8FD9;&#x91CC;&#x6240;&#x4FDD;&#x5B58;&#x7684;&#x5B58;&#x50A8;&#x7ED3;&#x6784;&#x6C38;&#x8FDC;&#x90FD;&#x4E0D;&#x4F1A;&#x6539;&#x53D8;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x7528;&#x975E;&#x5E38;&#x5927;&#x7684; <strong>index</strong> &#x6765;&#x8C03;&#x7528; <code>List.get()</code> &#xFF0C;&#x800C; <strong>List</strong> &#x5E76;&#x4E0D;&#x9700;&#x8981;&#x586B;&#x5145;&#x5230;&#x8FD9;&#x4E48;&#x5927;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x5927;&#x91CF;&#x4F7F;&#x7528; <strong>CountingIntegerLists</strong> &#x800C;&#x65E0;&#x9700;&#x62C5;&#x5FC3;&#x5B58;&#x50A8;&#x95EE;&#x9898;&#x3002;&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x4EAB;&#x5143;&#x7684;&#x4E00;&#x4E2A;&#x597D;&#x5904;&#x662F;&#x5B83;&#x5141;&#x8BB8;&#x4F7F;&#x7528;&#x66F4;&#x597D;&#x7684;&#x62BD;&#x8C61;&#x800C;&#x4E0D;&#x7528;&#x62C5;&#x5FC3;&#x8D44;&#x6E90;&#x3002;</p>
<p>&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EAB;&#x5143;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x6765;&#x5B9E;&#x73B0;&#x5177;&#x6709;&#x4EFB;&#x4F55;&#x5927;&#x5C0F;&#x6570;&#x636E;&#x96C6;&#x7684;&#x5176;&#x4ED6;&#x201C;&#x521D;&#x59CB;&#x5316;&#x201D;&#x81EA;&#x5B9A;&#x4E49;&#x96C6;&#x5408;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A; <strong>Map</strong> &#xFF0C;&#x5B83;&#x4E3A;&#x6BCF;&#x4E00;&#x4E2A; <strong>Integer</strong> &#x952E;&#x4EA7;&#x751F;&#x552F;&#x4E00;&#x7684;&#x503C;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// onjava/CountMap.java</span>
<span class="token comment">// Unlimited-length Map containing sample data</span>
<span class="token comment">// {java onjava.CountMap}</span>
<span class="token keyword">package</span> <span class="token namespace">onjava</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CountMap</span>
<span class="token keyword">extends</span> <span class="token class-name">AbstractMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> size<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">char</span><span class="token punctuation">[</span><span class="token punctuation">]</span> chars <span class="token operator">=</span>
    <span class="token string">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZ&quot;</span><span class="token punctuation">.</span><span class="token function">toCharArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">String</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token keyword">int</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>
      chars<span class="token punctuation">[</span>key <span class="token operator">%</span> chars<span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">+</span>
      <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>key <span class="token operator">/</span> chars<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token class-name">CountMap</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> size <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> size<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Object</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">)</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Entry</span>
  <span class="token keyword">implements</span> <span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> index<span class="token punctuation">;</span>
    <span class="token class-name">Entry</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>index <span class="token operator">=</span> index<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> o <span class="token keyword">instanceof</span> <span class="token class-name">Entry</span> <span class="token operator">&amp;&amp;</span>
        <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Entry</span><span class="token punctuation">)</span>o<span class="token punctuation">)</span><span class="token punctuation">.</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> index<span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token function">value</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">setValue</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UnsupportedOperationException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// LinkedHashSet retains initialization order:</span>
    <span class="token keyword">return</span> <span class="token class-name">IntStream</span><span class="token punctuation">.</span><span class="token function">range</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> size<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">mapToObj</span><span class="token punctuation">(</span><span class="token class-name">Entry</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token class-name">Collectors</span>
        <span class="token punctuation">.</span><span class="token function">toCollection</span><span class="token punctuation">(</span><span class="token class-name">LinkedHashSet</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">final</span> <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>
    <span class="token class-name">CountMap</span> cm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CountMap</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>cm<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>cm<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    cm<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">limit</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ints</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">mapToObj</span><span class="token punctuation">(</span>cm<span class="token operator">::</span><span class="token function">get</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
{0=A0, 1=B0, 2=C0, 3=D0, 4=E0, 5=F0, 6=G0, 7=H0, 8=I0,
9=J0, 10=K0, 11=L0, 12=M0, 13=N0, 14=O0, 15=P0, 16=Q0,
17=R0, 18=S0, 19=T0, 20=U0, 21=V0, 22=W0, 23=X0, 24=Y0,
25=Z0, 26=A1, 27=B1, 28=C1, 29=D1, 30=E1, 31=F1, 32=G1,
33=H1, 34=I1, 35=J1, 36=K1, 37=L1, 38=M1, 39=N1, 40=O1,
41=P1, 42=Q1, 43=R1, 44=S1, 45=T1, 46=U1, 47=V1, 48=W1,
49=X1, 50=Y1, 51=Z1, 52=A2, 53=B2, 54=C2, 55=D2, 56=E2,
57=F2, 58=G2, 59=H2}
G19
A0
B0
C0
D0
E0
F0

Y9
J21
R26
D33
Z36
N16
*/</span>
</code></pre>
<p>&#x8981;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EA;&#x8BFB;&#x7684; <strong>Map</strong> &#xFF0C;&#x5219;&#x4ECE; <strong>AbstractMap</strong> &#x7EE7;&#x627F;&#x5E76;&#x5B9E;&#x73B0; <code>entrySet()</code> &#x3002;&#x79C1;&#x6709;&#x7684; <code>value()</code> &#x65B9;&#x6CD5;&#x8BA1;&#x7B97;&#x4EFB;&#x4F55;&#x952E;&#x7684;&#x503C;&#xFF0C;&#x5E76;&#x5728; <code>get()</code> &#x548C; <code>Entry.getValue()</code> &#x4E2D;&#x4F7F;&#x7528;&#x3002;&#x53EF;&#x4EE5;&#x5FFD;&#x7565; <strong>CountMap</strong> &#x7684;&#x5927;&#x5C0F;&#x3002;</p>
<p>&#x8FD9;&#x91CC;&#x662F;&#x4F7F;&#x7528;&#x4E86; <strong>LinkedHashSet</strong> &#x800C;&#x4E0D;&#x662F;&#x521B;&#x5EFA;&#x81EA;&#x5B9A;&#x4E49; <strong>Set</strong> &#x7C7B;&#xFF0C;&#x56E0;&#x6B64;&#x5E76;&#x672A;&#x5B8C;&#x5168;&#x5B9E;&#x73B0;&#x4EAB;&#x5143;&#x3002;&#x53EA;&#x6709;&#x5728;&#x8C03;&#x7528; <code>entrySet()</code> &#x65F6;&#x624D;&#x4F1A;&#x751F;&#x6210;&#x6B64;&#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x73B0;&#x5728;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x66F4;&#x590D;&#x6742;&#x7684;&#x4EAB;&#x5143;&#x3002;&#x8FD9;&#x4E2A;&#x793A;&#x4F8B;&#x4E2D;&#x7684;&#x6570;&#x636E;&#x96C6;&#x662F;&#x4E16;&#x754C;&#x5404;&#x56FD;&#x53CA;&#x5176;&#x9996;&#x90FD;&#x7684; <strong>Map</strong> &#x3002; <code>capitals()</code> &#x65B9;&#x6CD5;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x56FD;&#x5BB6;&#x548C;&#x9996;&#x90FD;&#x7684; <strong>Map</strong> &#x3002; <code>names()</code> &#x65B9;&#x6CD5;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x7531;&#x56FD;&#x5BB6;&#x540D;&#x5B57;&#x7EC4;&#x6210;&#x7684; <strong>List</strong> &#x3002; &#x5F53;&#x7ED9;&#x5B9A;&#x4E86;&#x8868;&#x793A;&#x6240;&#x9700;&#x5927;&#x5C0F;&#x7684; <strong>int</strong> &#x53C2;&#x6570;&#x65F6;&#xFF0C;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x90FD;&#x751F;&#x6210;&#x5BF9;&#x5E94;&#x5927;&#x5C0F;&#x7684;&#x5217;&#x8868;&#x7247;&#x6BB5;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// onjava/Countries.java</span>
<span class="token comment">// &quot;Flyweight&quot; Maps and Lists of sample data</span>
<span class="token comment">// {java onjava.Countries}</span>
<span class="token keyword">package</span> <span class="token namespace">onjava</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Countries</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> DATA <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// Africa</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ALGERIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Algiers&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ANGOLA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Luanda&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BENIN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Porto-Novo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BOTSWANA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Gaberone&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BURKINA FASO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Ouagadougou&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BURUNDI&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bujumbura&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CAMEROON&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Yaounde&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CAPE VERDE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Praia&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CENTRAL AFRICAN REPUBLIC&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bangui&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CHAD&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;N&apos;djamena&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;COMOROS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Moroni&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CONGO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Brazzaville&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;DJIBOUTI&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Dijibouti&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;EGYPT&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Cairo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;EQUATORIAL GUINEA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Malabo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ERITREA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Asmara&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ETHIOPIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Addis Ababa&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;GABON&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Libreville&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;THE GAMBIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Banjul&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;GHANA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Accra&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;GUINEA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Conakry&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BISSAU&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bissau&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;COTE D&apos;IVOIR (IVORY COAST)&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Yamoussoukro&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;KENYA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Nairobi&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;LESOTHO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Maseru&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;LIBERIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Monrovia&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;LIBYA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Tripoli&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MADAGASCAR&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Antananarivo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MALAWI&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Lilongwe&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MALI&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bamako&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MAURITANIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Nouakchott&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MAURITIUS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Port Louis&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MOROCCO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Rabat&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MOZAMBIQUE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Maputo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;NAMIBIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Windhoek&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;NIGER&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Niamey&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;NIGERIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Abuja&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;RWANDA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Kigali&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SAO TOME E PRINCIPE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Sao Tome&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SENEGAL&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Dakar&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SEYCHELLES&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Victoria&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SIERRA LEONE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Freetown&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SOMALIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Mogadishu&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SOUTH AFRICA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Pretoria/Cape Town&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SUDAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Khartoum&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SWAZILAND&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Mbabane&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TANZANIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Dodoma&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TOGO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Lome&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TUNISIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Tunis&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;UGANDA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Kampala&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;DEMOCRATIC REPUBLIC OF THE CONGO (ZAIRE)&quot;</span><span class="token punctuation">,</span>
     <span class="token string">&quot;Kinshasa&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ZAMBIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Lusaka&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ZIMBABWE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Harare&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// Asia</span>
    <span class="token punctuation">{</span><span class="token string">&quot;AFGHANISTAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Kabul&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BAHRAIN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Manama&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BANGLADESH&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Dhaka&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BHUTAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Thimphu&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BRUNEI&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bandar Seri Begawan&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CAMBODIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Phnom Penh&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CHINA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Beijing&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CYPRUS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Nicosia&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;INDIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;New Delhi&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;INDONESIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Jakarta&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;IRAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Tehran&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;IRAQ&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Baghdad&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ISRAEL&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Jerusalem&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;JAPAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Tokyo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;JORDAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Amman&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;KUWAIT&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Kuwait City&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;LAOS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Vientiane&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;LEBANON&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Beirut&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MALAYSIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Kuala Lumpur&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;THE MALDIVES&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Male&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MONGOLIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Ulan Bator&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MYANMAR (BURMA)&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Rangoon&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;NEPAL&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Katmandu&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;NORTH KOREA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;P&apos;yongyang&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;OMAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Muscat&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;PAKISTAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Islamabad&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;PHILIPPINES&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Manila&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;QATAR&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Doha&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SAUDI ARABIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Riyadh&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SINGAPORE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Singapore&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SOUTH KOREA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Seoul&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SRI LANKA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Colombo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SYRIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Damascus&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TAIWAN (REPUBLIC OF CHINA)&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Taipei&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;THAILAND&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bangkok&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TURKEY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Ankara&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;UNITED ARAB EMIRATES&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Abu Dhabi&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;VIETNAM&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Hanoi&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;YEMEN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Sana&apos;a&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// Australia and Oceania</span>
    <span class="token punctuation">{</span><span class="token string">&quot;AUSTRALIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Canberra&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;FIJI&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Suva&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;KIRIBATI&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bairiki&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MARSHALL ISLANDS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Dalap-Uliga-Darrit&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MICRONESIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Palikir&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;NAURU&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Yaren&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;NEW ZEALAND&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Wellington&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;PALAU&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Koror&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;PAPUA NEW GUINEA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Port Moresby&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SOLOMON ISLANDS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Honaira&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TONGA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Nuku&apos;alofa&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TUVALU&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Fongafale&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;VANUATU&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Port Vila&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;WESTERN SAMOA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Apia&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// Eastern Europe and former USSR</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ARMENIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Yerevan&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;AZERBAIJAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Baku&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BELARUS (BYELORUSSIA)&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Minsk&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BULGARIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Sofia&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;GEORGIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Tbilisi&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;KAZAKSTAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Almaty&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;KYRGYZSTAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Alma-Ata&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MOLDOVA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Chisinau&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;RUSSIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Moscow&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TAJIKISTAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Dushanbe&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TURKMENISTAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Ashkabad&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;UKRAINE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Kyiv&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;UZBEKISTAN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Tashkent&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// Europe</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ALBANIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Tirana&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ANDORRA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Andorra la Vella&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;AUSTRIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Vienna&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BELGIUM&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Brussels&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BOSNIA-HERZEGOVINA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Sarajevo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CROATIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Zagreb&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CZECH REPUBLIC&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Prague&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;DENMARK&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Copenhagen&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ESTONIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Tallinn&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;FINLAND&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Helsinki&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;FRANCE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Paris&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;GERMANY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Berlin&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;GREECE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Athens&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;HUNGARY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Budapest&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ICELAND&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Reykjavik&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;IRELAND&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Dublin&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ITALY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Rome&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;LATVIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Riga&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;LIECHTENSTEIN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Vaduz&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;LITHUANIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Vilnius&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;LUXEMBOURG&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Luxembourg&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MACEDONIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Skopje&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MALTA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Valletta&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MONACO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Monaco&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MONTENEGRO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Podgorica&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;THE NETHERLANDS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Amsterdam&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;NORWAY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Oslo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;POLAND&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Warsaw&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;PORTUGAL&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Lisbon&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ROMANIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bucharest&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SAN MARINO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;San Marino&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SERBIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Belgrade&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SLOVAKIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bratislava&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SLOVENIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Ljuijana&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SPAIN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Madrid&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SWEDEN&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Stockholm&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SWITZERLAND&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Berne&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;UNITED KINGDOM&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;London&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;VATICAN CITY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Vatican City&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// North and Central America</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ANTIGUA AND BARBUDA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Saint John&apos;s&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BAHAMAS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Nassau&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BARBADOS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bridgetown&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BELIZE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Belmopan&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CANADA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Ottawa&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;COSTA RICA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;San Jose&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CUBA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Havana&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;DOMINICA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Roseau&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;DOMINICAN REPUBLIC&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Santo Domingo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;EL SALVADOR&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;San Salvador&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;GRENADA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Saint George&apos;s&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;GUATEMALA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Guatemala City&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;HAITI&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Port-au-Prince&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;HONDURAS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Tegucigalpa&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;JAMAICA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Kingston&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;MEXICO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Mexico City&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;NICARAGUA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Managua&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;PANAMA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Panama City&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ST. KITTS AND NEVIS&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Basseterre&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ST. LUCIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Castries&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ST. VINCENT AND THE GRENADINES&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Kingstown&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;UNITED STATES OF AMERICA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Washington, D.C.&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token comment">// South America</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ARGENTINA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Buenos Aires&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BOLIVIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Sucre (legal)/La Paz(administrative)&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;BRAZIL&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Brasilia&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;CHILE&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Santiago&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;COLOMBIA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Bogota&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;ECUADOR&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Quito&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;GUYANA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Georgetown&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;PARAGUAY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Asuncion&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;PERU&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Lima&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;SURINAME&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Paramaribo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;TRINIDAD AND TOBAGO&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Port of Spain&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;URUGUAY&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Montevideo&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span><span class="token string">&quot;VENEZUELA&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;Caracas&quot;</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token comment">// Use AbstractMap by implementing entrySet()</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">FlyweightMap</span>
  <span class="token keyword">extends</span> <span class="token class-name">AbstractMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Entry</span>
    <span class="token keyword">implements</span> <span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
      <span class="token keyword">int</span> index<span class="token punctuation">;</span>
      <span class="token class-name">Entry</span><span class="token punctuation">(</span><span class="token keyword">int</span> index<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">this</span><span class="token punctuation">.</span>index <span class="token operator">=</span> index<span class="token punctuation">;</span> <span class="token punctuation">}</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> o <span class="token keyword">instanceof</span> <span class="token class-name">FlyweightMap</span> <span class="token operator">&amp;&amp;</span>
          <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>DATA<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> o<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span>DATA<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> DATA<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> DATA<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">setValue</span><span class="token punctuation">(</span><span class="token class-name">String</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UnsupportedOperationException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// Implement size() &amp; iterator() for AbstractSet:</span>
    <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">EntrySet</span>
    <span class="token keyword">extends</span> <span class="token class-name">AbstractSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
      <span class="token keyword">private</span> <span class="token keyword">int</span> size<span class="token punctuation">;</span>
      <span class="token class-name">EntrySet</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>size <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token comment">// Can&apos;t be any bigger than the array:</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>size <span class="token operator">&gt;</span> DATA<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> DATA<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">else</span>
          <span class="token keyword">this</span><span class="token punctuation">.</span>size <span class="token operator">=</span> size<span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> size<span class="token punctuation">;</span> <span class="token punctuation">}</span>
      <span class="token keyword">private</span> <span class="token keyword">class</span> <span class="token class-name">Iter</span>
      <span class="token keyword">implements</span> <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
        <span class="token comment">// Only one Entry object per Iterator:</span>
        <span class="token keyword">private</span> <span class="token class-name">Entry</span> entry <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Entry</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">return</span> entry<span class="token punctuation">.</span>index <span class="token operator">&lt;</span> size <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          entry<span class="token punctuation">.</span>index<span class="token operator">++</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> entry<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">UnsupportedOperationException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span>
      <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Iter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> entries <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">EntrySet</span><span class="token punctuation">(</span>DATA<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> entries<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// Create a partial map of &apos;size&apos; countries:</span>
  <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">select</span><span class="token punctuation">(</span><span class="token keyword">final</span> <span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">FlyweightMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map<span class="token punctuation">.</span>Entry</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">entrySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">EntrySet</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FlyweightMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">capitals</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> map<span class="token punctuation">;</span> <span class="token comment">// The entire map</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">capitals</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">select</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// A partial map</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> names <span class="token operator">=</span>
    <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// All the names:</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">names</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> names<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token comment">// A partial list:</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">names</span><span class="token punctuation">(</span><span class="token keyword">int</span> size<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">select</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">capitals</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">capitals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token keyword">new</span> <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">capitals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">capitals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Hashtable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">capitals</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedHashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token function">capitals</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;BRAZIL&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
{ALGERIA=Algiers, ANGOLA=Luanda, BENIN=Porto-Novo,
BOTSWANA=Gaberone, BURKINA FASO=Ouagadougou,
BURUNDI=Bujumbura, CAMEROON=Yaounde, CAPE VERDE=Praia,
CENTRAL AFRICAN REPUBLIC=Bangui, CHAD=N&apos;djamena}
[ALGERIA, ANGOLA, BENIN, BOTSWANA, BURKINA FASO,
BURUNDI, CAMEROON, CAPE VERDE, CENTRAL AFRICAN
REPUBLIC, CHAD]
{BENIN=Porto-Novo, ANGOLA=Luanda, ALGERIA=Algiers}
{ALGERIA=Algiers, ANGOLA=Luanda, BENIN=Porto-Novo}
{ALGERIA=Algiers, ANGOLA=Luanda, BENIN=Porto-Novo}
{ALGERIA=Algiers, ANGOLA=Luanda, BENIN=Porto-Novo}
[BENIN, BOTSWANA, ANGOLA, BURKINA FASO, ALGERIA,
BURUNDI]
[ALGERIA, ANGOLA, BENIN, BOTSWANA, BURKINA FASO,
BURUNDI]
[ALGERIA, ANGOLA, BENIN, BOTSWANA, BURKINA FASO,
BURUNDI]
[ALGERIA, ANGOLA, BENIN, BOTSWANA, BURKINA FASO,
BURUNDI]
[ALGERIA, ANGOLA, BENIN, BOTSWANA, BURKINA FASO,
BURUNDI]
Brasilia
*/</span>
</code></pre>
<p>&#x4E8C;&#x7EF4;&#x6570;&#x7EC4; <strong>String DATA</strong> &#x662F; <strong>public</strong> &#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x5728;&#x522B;&#x5904;&#x4F7F;&#x7528;&#x3002; <strong>FlyweightMap</strong> &#x5FC5;&#x987B;&#x5B9E;&#x73B0; <code>entrySet()</code> &#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x9700;&#x8981;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49; <strong>Set</strong> &#x5B9E;&#x73B0;&#x548C;&#x4E00;&#x4E2A;&#x81EA;&#x5B9A;&#x4E49; <strong>Map.Entry</strong> &#x7C7B;&#x3002;&#x8FD9;&#x662F;&#x5B9E;&#x73B0;&#x4EAB;&#x5143;&#x7684;&#x53E6;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#xFF1A;&#x6BCF;&#x4E2A; <strong>Map.Entry</strong> &#x5BF9;&#x8C61;&#x5B58;&#x50A8;&#x5B83;&#x81EA;&#x8EAB;&#x7684;&#x7D22;&#x5F15;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5B9E;&#x9645;&#x7684;&#x952E;&#x548C;&#x503C;&#x3002;&#x5F53;&#x8C03;&#x7528; <code>getKey()</code> &#x6216; <code>getValue()</code> &#x65F6;&#xFF0C;&#x5B83;&#x4F7F;&#x7528;&#x7D22;&#x5F15;&#x8FD4;&#x56DE;&#x76F8;&#x5E94;&#x7684; <strong>DATA</strong> &#x5143;&#x7D20;&#x3002; <strong>EntrySet</strong> &#x786E;&#x4FDD;&#x5B83;&#x7684; <strong>size</strong> &#x4E0D;&#x5927;&#x4E8E; <strong>DATA</strong> &#x3002;</p>
<p>&#x4EAB;&#x5143;&#x7684;&#x53E6;&#x4E00;&#x90E8;&#x5206;&#x5728; <strong>EntrySet.Iterator</strong> &#x4E2D;&#x5B9E;&#x73B0;&#x3002;&#x76F8;&#x6BD4;&#x4E8E;&#x4E3A; <strong>DATA</strong> &#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x6570;&#x636E;&#x5BF9;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; <strong>Map.Entry</strong> &#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x91CC;&#x6BCF;&#x4E2A;&#x8FED;&#x4EE3;&#x5668;&#x53EA;&#x6709;&#x4E00;&#x4E2A; <strong>Map.Entry</strong> &#x5BF9;&#x8C61;&#x3002; <strong>Entry</strong> &#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x6570;&#x636E;&#x7684;&#x7A97;&#x53E3;&#xFF0C;&#x5B83;&#x53EA;&#x5305;&#x542B; <strong>String</strong> &#x9759;&#x6001;&#x6570;&#x7EC4;&#x7684;&#x7D22;&#x5F15;&#x3002;&#x6BCF;&#x6B21;&#x4E3A;&#x8FED;&#x4EE3;&#x5668;&#x8C03;&#x7528; <code>next()</code> &#x65F6;&#xFF0C;<strong>Entry</strong> &#x4E2D;&#x7684;&#x7D22;&#x5F15;&#x90FD;&#x4F1A;&#x9012;&#x589E;&#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x4F1A;&#x6307;&#x5411;&#x4E0B;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5BF9;&#xFF0C;&#x7136;&#x540E;&#x4ECE; <code>next()</code> &#x8FD4;&#x56DE; <strong>Iterators</strong> &#x7684;&#x5355;&#x4E2A; <strong>Entry</strong> &#x5BF9;&#x8C61;&#x3002;<sup><a href="#fn_1" id="reffn_1">1</a></sup></p>
<p><code>select()</code> &#x65B9;&#x6CD5;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x5305;&#x542B;&#x6240;&#x9700;&#x5927;&#x5C0F;&#x7684; <strong>EntrySet</strong> &#x7684; <strong>FlyweightMap</strong> &#xFF0C;&#x8FD9;&#x7528;&#x4E8E;&#x5728;&#x4E3B;&#x65B9;&#x6CD5;&#x4E2D;&#x6F14;&#x793A;&#x7684;&#x91CD;&#x8F7D;&#x7684; <code>capitals()</code> &#x548C; <code>names()</code> &#x65B9;&#x6CD5;&#x3002;</p>
<!-- Collection Functionality -->
<h2 id="&#x96C6;&#x5408;&#x529F;&#x80FD;"><a name="&#x96C6;&#x5408;&#x529F;&#x80FD;" class="anchor-navigation-ex-anchor" href="#&#x96C6;&#x5408;&#x529F;&#x80FD;"><i class="fa fa-link" aria-hidden="true"></i></a>1.8. &#x96C6;&#x5408;&#x529F;&#x80FD;</h2>
<p>&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x8868;&#x683C;&#x5C55;&#x793A;&#x4E86;&#x53EF;&#x4EE5;&#x5BF9; <strong>Collection</strong> &#x6267;&#x884C;&#x7684;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#xFF08;&#x4E0D;&#x5305;&#x62EC;&#x81EA;&#x52A8;&#x7EE7;&#x627F;&#x81EA; <strong>Object</strong> &#x7684;&#x65B9;&#x6CD5;&#xFF09;&#xFF0C;&#x56E0;&#x6B64;&#xFF0C;&#x53EF;&#x4EE5;&#x7528; <strong>List</strong> &#xFF0C; <strong>Set</strong> &#xFF0C; <strong>Queue</strong> &#x6216; <strong>Deque</strong> &#x6267;&#x884C;&#x8FD9;&#x91CC;&#x7684;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#xFF08;&#x8FD9;&#x4E9B;&#x63A5;&#x53E3;&#x53EF;&#x80FD;&#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E9B;&#x5176;&#x4ED6;&#x7684;&#x529F;&#x80FD;&#xFF09;&#x3002;<strong>Map</strong> &#x4E0D;&#x662F;&#x4ECE; <strong>Collection</strong> &#x7EE7;&#x627F;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x8981;&#x5355;&#x72EC;&#x5904;&#x7406;&#x5B83;&#x3002;</p>
<table>
<thead>
<tr>
<th style="text-align:center">&#x65B9;&#x6CD5;&#x540D;</th>
<th style="text-align:left">&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>boolean add(T)</strong></td>
<td style="text-align:left">&#x786E;&#x4FDD;&#x96C6;&#x5408;&#x5305;&#x542B;&#x8BE5;&#x6CDB;&#x578B;&#x7C7B;&#x578B; <strong>T</strong> &#x7684;&#x53C2;&#x6570;&#x3002;&#x5982;&#x679C;&#x4E0D;&#x6DFB;&#x52A0;&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; <strong>false</strong> &#x3002; &#xFF08;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x201C;&#x53EF;&#x9009;&#x201D;&#x65B9;&#x6CD5;&#xFF0C;&#x5C06;&#x5728;&#x4E0B;&#x4E00;&#x8282;&#x4E2D;&#x4ECB;&#x7ECD;&#x3002;&#xFF09;</td>
</tr>
<tr>
<td style="text-align:center"><strong>boolean addAll(Collection\&lt;? extends T&gt;)</strong></td>
<td style="text-align:left">&#x6DFB;&#x52A0;&#x53C2;&#x6570;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5143;&#x7D20;&#x3002;&#x53EA;&#x8981;&#x6709;&#x5143;&#x7D20;&#x88AB;&#x6210;&#x529F;&#x6DFB;&#x52A0;&#x5219;&#x8FD4;&#x56DE; <strong>true</strong>&#x3002;&#xFF08;&#x201C;&#x53EF;&#x9009;&#x7684;&#x201D;&#xFF09;</td>
</tr>
<tr>
<td style="text-align:center"><strong>void clear()</strong></td>
<td style="text-align:left">&#x5220;&#x9664;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5143;&#x7D20;&#x3002;&#xFF08;&#x201C;&#x53EF;&#x9009;&#x7684;&#x201D;&#xFF09;</td>
</tr>
<tr>
<td style="text-align:center"><strong>boolean contains(T)</strong></td>
<td style="text-align:left">&#x5982;&#x679C;&#x76EE;&#x6807;&#x96C6;&#x5408;&#x5305;&#x542B;&#x8BE5;&#x6CDB;&#x578B;&#x7C7B;&#x578B; <strong>T</strong> &#x7684;&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; <strong>true</strong> &#x3002;</td>
</tr>
<tr>
<td style="text-align:center"><strong>boolean containsAll(Collection\&lt;?&gt;)</strong></td>
<td style="text-align:left">&#x5982;&#x679C;&#x76EE;&#x6807;&#x96C6;&#x5408;&#x5305;&#x542B;&#x53C2;&#x6570;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x5143;&#x7D20;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; <strong>true</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>boolean isEmpty()</strong></td>
<td style="text-align:left">&#x5982;&#x679C;&#x96C6;&#x5408;&#x4E3A;&#x7A7A;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; <strong>true</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>Iterator\<t\> iterator() Spliterator\<t\> spliterator()</t\></t\></strong></td>
<td style="text-align:left">&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x8FED;&#x4EE3;&#x5668;&#x6765;&#x904D;&#x5386;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x3002; <strong>Spliterators</strong> &#x66F4;&#x590D;&#x6742;&#x4E00;&#x4E9B;&#xFF0C;&#x5B83;&#x7528;&#x5728;&#x5E76;&#x53D1;&#x573A;&#x666F;</td>
</tr>
<tr>
<td style="text-align:center"><strong>boolean remove(Object)</strong></td>
<td style="text-align:left">&#x5982;&#x679C;&#x76EE;&#x6807;&#x96C6;&#x5408;&#x5305;&#x542B;&#x8BE5;&#x53C2;&#x6570;&#xFF0C;&#x5219;&#x5728;&#x96C6;&#x5408;&#x4E2D;&#x5220;&#x9664;&#x8BE5;&#x53C2;&#x6570;&#xFF0C;&#x5982;&#x679C;&#x6210;&#x529F;&#x5220;&#x9664;&#x5219;&#x8FD4;&#x56DE; <strong>true</strong> &#x3002;&#xFF08;&#x201C;&#x53EF;&#x9009;&#x7684;&#x201D;&#xFF09;</td>
</tr>
<tr>
<td style="text-align:center"><strong>boolean removeAll(Collection\&lt;?&gt;)</strong></td>
<td style="text-align:left">&#x5220;&#x9664;&#x76EE;&#x6807;&#x96C6;&#x5408;&#x4E2D;&#xFF0C;&#x53C2;&#x6570;&#x96C6;&#x5408;&#x6240;&#x5305;&#x542B;&#x7684;&#x5168;&#x90E8;&#x5143;&#x7D20;&#x3002;&#x5982;&#x679C;&#x6709;&#x5143;&#x7D20;&#x88AB;&#x6210;&#x529F;&#x5220;&#x9664;&#x5219;&#x8FD4;&#x56DE; <strong>true</strong> &#x3002; &#xFF08;&#x201C;&#x53EF;&#x9009;&#x7684;&#x201D;&#xFF09;</td>
</tr>
<tr>
<td style="text-align:center"><strong>boolean removeIf(Predicate\&lt;? super E&gt;)</strong></td>
<td style="text-align:left">&#x5220;&#x9664;&#x6B64;&#x96C6;&#x5408;&#x4E2D;&#xFF0C;&#x6EE1;&#x8DB3;&#x7ED9;&#x5B9A;&#x65AD;&#x8A00;&#xFF08;predicate&#xFF09;&#x7684;&#x6240;&#x6709;&#x5143;&#x7D20;</td>
</tr>
<tr>
<td style="text-align:center"><strong>Stream\<e\> stream() Stream\<e\> parallelStream()</e\></e\></strong></td>
<td style="text-align:left">&#x8FD4;&#x56DE;&#x7531;&#x8BE5; <strong>Collection</strong> &#x4E2D;&#x5143;&#x7D20;&#x6240;&#x7EC4;&#x6210;&#x7684;&#x4E00;&#x4E2A; <strong>Stream</strong></td>
</tr>
<tr>
<td style="text-align:center"><strong>int size()</strong></td>
<td style="text-align:left">&#x8FD4;&#x56DE;&#x96C6;&#x5408;&#x4E2D;&#x6240;&#x5305;&#x542B;&#x5143;&#x7D20;&#x7684;&#x4E2A;&#x6570;</td>
</tr>
<tr>
<td style="text-align:center"><strong>Object[] toArrat()</strong></td>
<td style="text-align:left">&#x8FD4;&#x56DE;&#x5305;&#x542B;&#x8BE5;&#x96C6;&#x5408;&#x6240;&#x6709;&#x5143;&#x7D20;&#x7684;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;</td>
</tr>
<tr>
<td style="text-align:center"><strong>\<t\> T[] toArray(T[] a)</t\></strong></td>
<td style="text-align:left">&#x8FD4;&#x56DE;&#x5305;&#x542B;&#x8BE5;&#x96C6;&#x5408;&#x6240;&#x6709;&#x5143;&#x7D20;&#x7684;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x3002;&#x7ED3;&#x679C;&#x7684;&#x8FD0;&#x884C;&#x65F6;&#x7C7B;&#x578B;&#x662F;&#x53C2;&#x6570;&#x6570;&#x7EC4;&#x800C;&#x4E0D;&#x662F;&#x666E;&#x901A;&#x7684; <strong>Object</strong> &#x6570;&#x7EC4;&#x3002;</td>
</tr>
</tbody>
</table>
<p>&#x8FD9;&#x91CC;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x7528;&#x4E8E;&#x968F;&#x673A;&#x8BBF;&#x95EE;&#x5143;&#x7D20;&#x7684; <strong>get()</strong> &#x65B9;&#x6CD5;&#xFF0C;&#x56E0;&#x4E3A; <strong>Collection</strong> &#x8FD8;&#x5305;&#x542B; <strong>Set</strong> &#xFF0C;&#x5B83;&#x7EF4;&#x62A4;&#x81EA;&#x5DF1;&#x7684;&#x5185;&#x90E8;&#x6392;&#x5E8F;&#xFF0C;&#x6240;&#x4EE5;&#x968F;&#x673A;&#x8BBF;&#x95EE;&#x67E5;&#x627E;&#x5C31;&#x6CA1;&#x6709;&#x610F;&#x4E49;&#x4E86;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x8981;&#x67E5;&#x627E; <strong>Collection</strong> &#x4E2D;&#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x8FED;&#x4EE3;&#x5668;&#x3002;</p>
<p>&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x793A;&#x4F8B;&#x6F14;&#x793A;&#x4E86; <strong>Collection</strong> &#x7684;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x3002;&#x8FD9;&#x91CC;&#x4EE5; <strong>ArrayList</strong> &#x4E3A;&#x4F8B;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/CollectionMethods.java</span>
<span class="token comment">// Things you can do with all Collections</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token class-name">HTMLColors</span><span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CollectionMethods</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span>
        <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>LIST<span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;ten&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;eleven&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Make an array from the List:</span>
    <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> array <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Make a String array from the List:</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> str <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Find max and min elements; this means</span>
    <span class="token comment">// different things depending on the way</span>
    <span class="token comment">// the Comparable interface is implemented:</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;Collections.max(c) = &quot;</span> <span class="token operator">+</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;Collections.min(c) = &quot;</span> <span class="token operator">+</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Add a Collection to another Collection</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c2 <span class="token operator">=</span>
        <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>LIST<span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">14</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>LIST<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Remove all components that are</span>
    <span class="token comment">// in the argument collection:</span>
    c<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Is an element in this Collection?</span>
    <span class="token class-name">String</span> val <span class="token operator">=</span> LIST<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;c.contains(&quot;</span> <span class="token operator">+</span> val  <span class="token operator">+</span> <span class="token string">&quot;) = &quot;</span> <span class="token operator">+</span> c<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Is a Collection in this Collection?</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;c.containsAll(c2) = &quot;</span> <span class="token operator">+</span> c<span class="token punctuation">.</span><span class="token function">containsAll</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c3 <span class="token operator">=</span>
      <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">)</span>c<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Keep all the elements that are in both</span>
    <span class="token comment">// c2 and c3 (an intersection of sets):</span>
    c2<span class="token punctuation">.</span><span class="token function">retainAll</span><span class="token punctuation">(</span>c3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">show</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Throw away all the elements</span>
    <span class="token comment">// in c2 that also appear in c3:</span>
    c2<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>c3<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;c2.isEmpty() = &quot;</span> <span class="token operator">+</span>  c2<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">border</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Functional operation:</span>
    c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>LIST<span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">removeIf</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> <span class="token operator">!</span>s<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;P&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">removeIf</span><span class="token punctuation">(</span>s <span class="token operator">-&gt;</span> s<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">&quot;Pale&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Stream operation:</span>
    c<span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">println</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Remove all elements</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;after c.clear():&quot;</span> <span class="token operator">+</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
AliceBlue
AntiqueWhite
Aquamarine
Azure
ten
eleven
******************************
Collections.max(c) = ten
Collections.min(c) = AliceBlue
******************************
AliceBlue
AntiqueWhite
Aquamarine
Azure
ten
eleven
Brown
BurlyWood
CadetBlue
Chartreuse
******************************
AntiqueWhite
Aquamarine
Azure
ten
eleven
Brown
BurlyWood
CadetBlue
Chartreuse
******************************
AntiqueWhite
Aquamarine
Azure
ten
eleven
******************************
AntiqueWhite
Aquamarine
Azure
ten
eleven
Brown
BurlyWood
CadetBlue
Chartreuse
******************************
c.contains(Azure) = true
c.containsAll(c2) = true
c2.isEmpty() = true
******************************
PapayaWhip
PeachPuff
Peru
Pink
Plum
PowderBlue
Purple
after c.clear():[]
*/</span>
</code></pre>
<p>&#x4E3A;&#x4E86;&#x53EA;&#x6F14;&#x793A; <strong>Collection</strong> &#x63A5;&#x53E3;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x6CA1;&#x6709;&#x5176;&#x5B83;&#x989D;&#x5916;&#x7684;&#x5185;&#x5BB9;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x521B;&#x5EFA;&#x5305;&#x542B;&#x4E0D;&#x540C;&#x6570;&#x636E;&#x96C6;&#x7684; <strong>ArrayList</strong> &#xFF0C;&#x5E76;&#x5411;&#x4E0A;&#x8F6C;&#x578B;&#x4E3A; <strong>Collection</strong> &#x5BF9;&#x8C61;&#x3002;</p>
<!-- Optional Operations -->
<h2 id="&#x53EF;&#x9009;&#x64CD;&#x4F5C;"><a name="&#x53EF;&#x9009;&#x64CD;&#x4F5C;" class="anchor-navigation-ex-anchor" href="#&#x53EF;&#x9009;&#x64CD;&#x4F5C;"><i class="fa fa-link" aria-hidden="true"></i></a>1.9. &#x53EF;&#x9009;&#x64CD;&#x4F5C;</h2>
<p>&#x5728; <strong>Collection</strong> &#x63A5;&#x53E3;&#x4E2D;&#x6267;&#x884C;&#x5404;&#x79CD;&#x6DFB;&#x52A0;&#x548C;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#x7684;&#x65B9;&#x6CD5;&#x662F; <em>&#x53EF;&#x9009;&#x64CD;&#x4F5C;</em> &#xFF08;optional operations&#xFF09;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5B9E;&#x73B0;&#x7C7B;&#x4E0D;&#x9700;&#x8981;&#x4E3A;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x63D0;&#x4F9B;&#x529F;&#x80FD;&#x5B9A;&#x4E49;&#x3002;</p>
<p>&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x975E;&#x5E38;&#x4E0D;&#x5BFB;&#x5E38;&#x7684;&#x5B9A;&#x4E49;&#x63A5;&#x53E3;&#x7684;&#x65B9;&#x5F0F;&#x3002;&#x6B63;&#x5982;&#x6211;&#x4EEC;&#x6240;&#x77E5;&#xFF0C;&#x63A5;&#x53E3;&#x662F;&#x4E00;&#x79CD;&#x5408;&#x7EA6;&#xFF08;contract&#xFF09;&#x3002;&#x5B83;&#x8868;&#x8FBE;&#x7684;&#x610F;&#x601D;&#x662F;&#xFF0C;&#x201C;&#x65E0;&#x8BBA;&#x4F60;&#x5982;&#x4F55;&#x9009;&#x62E9;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x6211;&#x4FDD;&#x8BC1;&#x4F60;&#x53EF;&#x4EE5;&#x5C06;&#x8FD9;&#x4E9B;&#x6D88;&#x606F;&#x53D1;&#x9001;&#x5230;&#x8FD9;&#x4E2A;&#x5BF9;&#x8C61;&#x201D;&#xFF08;&#x6211;&#x5728;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x672F;&#x8BED;&#x201C;&#x63A5;&#x53E3;&#x201D;&#x6765;&#x63CF;&#x8FF0;&#x6B63;&#x5F0F;&#x7684; <strong>interface</strong> &#x5173;&#x952E;&#x5B57;&#x548C;&#x201C;&#x4EFB;&#x4F55;&#x7C7B;&#x6216;&#x5B50;&#x7C7B;&#x90FD;&#x652F;&#x6301;&#x7684;&#x65B9;&#x6CD5;&#x201D;&#x7684;&#x66F4;&#x4E00;&#x822C;&#x542B;&#x4E49;&#xFF09;&#x3002;&#x4F46;&#x201C;&#x53EF;&#x9009;&#x201D;&#x64CD;&#x4F5C;&#x8FDD;&#x53CD;&#x4E86;&#x8FD9;&#x4E00;&#x57FA;&#x672C;&#x539F;&#x5219;&#xFF0C;&#x5B83;&#x8868;&#x793A;&#x8C03;&#x7528;&#x67D0;&#x4E9B;&#x65B9;&#x6CD5;&#x4E0D;&#x4F1A;&#x6267;&#x884C;&#x6709;&#x610F;&#x4E49;&#x7684;&#x884C;&#x4E3A;&#x3002;&#x76F8;&#x53CD;&#xFF0C;&#x5B83;&#x4EEC;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF01;&#x8FD9;&#x770B;&#x8D77;&#x6765;&#x4F3C;&#x4E4E;&#x4E22;&#x5931;&#x4E86;&#x7F16;&#x8BD1;&#x65F6;&#x7684;&#x7C7B;&#x578B;&#x5B89;&#x5168;&#x6027;&#x3002;</p>
<p>&#x5176;&#x5B9E;&#x6CA1;&#x90A3;&#x4E48;&#x7CDF;&#x7CD5;&#x3002;&#x5982;&#x679C;&#x64CD;&#x4F5C;&#x662F;&#x53EF;&#x9009;&#x7684;&#xFF0C;&#x7F16;&#x8BD1;&#x5668;&#x4ECD;&#x7136;&#x80FD;&#x591F;&#x9650;&#x5236;&#x4F60;&#x4EC5;&#x8C03;&#x7528;&#x8BE5;&#x63A5;&#x53E3;&#x4E2D;&#x7684;&#x65B9;&#x6CD5;&#x3002;&#x5B83;&#x4E0D;&#x50CF;&#x52A8;&#x6001;&#x8BED;&#x8A00;&#x90A3;&#x6837;&#xFF0C;&#x53EF;&#x4EE5;&#x4E3A;&#x4EFB;&#x4F55;&#x5BF9;&#x8C61;&#x8C03;&#x7528;&#x4EFB;&#x4F55;&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x67E5;&#x627E;&#x7279;&#x5B9A;&#x7684;&#x8C03;&#x7528;&#x662F;&#x5426;&#x53EF;&#x884C;&#x3002;<sup><a href="#fn_2" id="reffn_2">2</a></sup>&#x6B64;&#x5916;&#xFF0C;&#x5927;&#x591A;&#x6570;&#x5C06; <strong>Collection</strong> &#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x7684;&#x65B9;&#x6CD5;&#x4EC5;&#x4ECE;&#x8BE5; <strong>Collection</strong> &#x4E2D;&#x8BFB;&#x53D6;&#xFF0C;&#x5E76;&#x4E14; <strong>Collection</strong> &#x7684;&#x6240;&#x6709;&#x201C;&#x8BFB;&#x53D6;&#x201D;&#x65B9;&#x6CD5;&#x90FD;&#x4E0D;&#x662F;&#x53EF;&#x9009;&#x7684;&#x3002;</p>
<p>&#x4E3A;&#x4EC0;&#x4E48;&#x8981;&#x5C06;&#x65B9;&#x6CD5;&#x5B9A;&#x4E49;&#x4E3A;&#x201C;&#x53EF;&#x9009;&#x201D;&#x7684;&#xFF1F;&#x56E0;&#x4E3A;&#x8FD9;&#x6837;&#x505A;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x8BBE;&#x8BA1;&#x4E2D;&#x7684;&#x63A5;&#x53E3;&#x7206;&#x70B8;&#x3002;&#x96C6;&#x5408;&#x5E93;&#x7684;&#x5176;&#x4ED6;&#x8BBE;&#x8BA1;&#x5F80;&#x5F80;&#x4F1A;&#x4EA7;&#x751F;&#x4EE4;&#x4EBA;&#x56F0;&#x60D1;&#x7684;&#x8FC7;&#x591A;&#x63A5;&#x53E3;&#x6765;&#x63CF;&#x8FF0;&#x4E3B;&#x9898;&#x7684;&#x6BCF;&#x4E2A;&#x53D8;&#x4F53;&#x3002;&#x8FD9;&#x751A;&#x81F3;&#x4F7F;&#x5F97;&#x4E0D;&#x53EF;&#x80FD;&#x6355;&#x83B7;&#x5230;&#x63A5;&#x53E3;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#xFF0C;&#x56E0;&#x4E3A;&#x603B;&#x6709;&#x4EBA;&#x80FD;&#x53D1;&#x660E;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x63A5;&#x53E3;&#x3002;&#x201C;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x64CD;&#x4F5C;&#xFF08;unsupported operation&#xFF09;&#x201D;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x5B9E;&#x73B0;&#x4E86;Java&#x96C6;&#x5408;&#x5E93;&#x7684;&#x4E00;&#x4E2A;&#x91CD;&#x8981;&#x76EE;&#x6807;&#xFF1A;&#x96C6;&#x5408;&#x8981;&#x6613;&#x4E8E;&#x5B66;&#x4E60;&#x548C;&#x4F7F;&#x7528;&#x3002;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x64CD;&#x4F5C;&#x662F;&#x4E00;&#x79CD;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#xFF0C;&#x53EF;&#x4EE5;&#x63A8;&#x8FDF;&#x5230;&#x5FC5;&#x8981;&#x7684;&#x65F6;&#x5019;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x8981;&#x4F7F;&#x7528;&#x6B64;&#x65B9;&#x6CD5;&#xFF1A;</p>
<ol>
<li><p><strong>UnsupportedOperationException</strong> &#x5FC5;&#x987B;&#x662F;&#x4E00;&#x4E2A;&#x7F55;&#x89C1;&#x7684;&#x4E8B;&#x4EF6;&#x3002;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5BF9;&#x4E8E;&#x5927;&#x591A;&#x6570;&#x7C7B;&#xFF0C;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#x90FD;&#x5E94;&#x8BE5;&#x8D77;&#x4F5C;&#x7528;&#xFF0C;&#x5E76;&#x4E14;&#x53EA;&#x6709;&#x5728;&#x7279;&#x6B8A;&#x60C5;&#x51B5;&#x4E0B;&#x624D;&#x5E94;&#x8BE5;&#x4E0D;&#x652F;&#x6301;&#x67D0;&#x9879;&#x64CD;&#x4F5C;&#x3002;&#x8FD9;&#x5728;Java&#x96C6;&#x5408;&#x5E93;&#x4E2D;&#x662F;&#x6B63;&#x786E;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;99%&#x7684;&#x65F6;&#x95F4;&#x4F7F;&#x7528;&#x5230;&#x7684;&#x7C7B; &#x2014;&#x2014; <strong>ArrayList</strong> &#xFF0C; <strong>LinkedList</strong> &#xFF0C; <strong>HashSet</strong> &#x548C; <strong>HashMap</strong> &#xFF0C;&#x4EE5;&#x53CA;&#x5176;&#x4ED6;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#xFF0C;&#x90FD;&#x652F;&#x6301;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#x3002;&#x8BE5;&#x8BBE;&#x8BA1;&#x786E;&#x5B9E;&#x4E3A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7684; <strong>Collection</strong> &#x63D0;&#x4F9B;&#x4E86;&#x4E00;&#x4E2A;&#x201C;&#x540E;&#x95E8;&#x201D;&#xFF0C;&#x53EF;&#x4EE5;&#x4E0D;&#x4E3A; <strong>Collection</strong> &#x63A5;&#x53E3;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x90FD;&#x63D0;&#x4F9B;&#x6709;&#x610F;&#x4E49;&#x7684;&#x5B9A;&#x4E49;&#xFF0C;&#x8FD9;&#x4E9B;&#x5B9A;&#x4E49;&#x4ECD;&#x7136;&#x9002;&#x5408;&#x73B0;&#x6709;&#x7684;&#x7C7B;&#x5E93;&#x3002;</p>
</li>
<li><p>&#x5F53;&#x4E0D;&#x652F;&#x6301;&#x67D0;&#x4E2A;&#x64CD;&#x4F5C;&#x65F6;&#xFF0C; <strong>UnsupportedOperationException</strong> &#x5E94;&#x8BE5;&#x51FA;&#x73B0;&#x5728;&#x5B9E;&#x73B0;&#x9636;&#x6BB5;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x5728;&#x5C06;&#x4EA7;&#x54C1;&#x53D1;&#x9001;&#x7ED9;&#x5BA2;&#x6237;&#x4E4B;&#x540E;&#x3002;&#x6BD5;&#x7ADF;&#xFF0C;&#x8FD9;&#x4E2A;&#x5F02;&#x5E38;&#x8868;&#x793A;&#x7F16;&#x7A0B;&#x9519;&#x8BEF;&#xFF1A;&#x9519;&#x8BEF;&#x5730;&#x4F7F;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x5177;&#x4F53;&#x5B9E;&#x73B0;&#x3002;</p>
</li>
</ol>
<p>&#x503C;&#x5F97;&#x6CE8;&#x610F;&#x7684;&#x662F;&#xFF0C;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x64CD;&#x4F5C;&#x53EA;&#x80FD;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x68C0;&#x6D4B;&#x5230;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x4EE3;&#x8868;&#x52A8;&#x6001;&#x7C7B;&#x578B;&#x68C0;&#x67E5;&#x3002;&#x5982;&#x679C;&#x4F60;&#x6765;&#x81EA;&#x50CF; C++ &#x8FD9;&#x6837;&#x7684;&#x9759;&#x6001;&#x7C7B;&#x578B;&#x8BED;&#x8A00;&#xFF0C;Java &#x53EF;&#x80FD;&#x770B;&#x8D77;&#x6765;&#x53EA;&#x662F;&#x53E6;&#x4E00;&#x79CD;&#x9759;&#x6001;&#x7C7B;&#x578B;&#x8BED;&#x8A00;&#x3002;&#x5F53;&#x7136;&#xFF0C; Java &#x80AF;&#x5B9A;&#x6709;&#x9759;&#x6001;&#x7C7B;&#x578B;&#x68C0;&#x67E5;&#xFF0C;&#x4F46;&#x5B83;&#x4E5F;&#x6709;&#x5927;&#x91CF;&#x7684;&#x52A8;&#x6001;&#x7C7B;&#x578B;&#xFF0C;&#x56E0;&#x6B64;&#x5F88;&#x96BE;&#x8BF4;&#x5B83;&#x53EA;&#x662F;&#x9759;&#x6001;&#x8BED;&#x8A00;&#x6216;&#x52A8;&#x6001;&#x8BED;&#x8A00;&#x3002;&#x4E00;&#x65E6;&#x4F60;&#x5F00;&#x59CB;&#x6CE8;&#x610F;&#x5230;&#x8FD9;&#x4E00;&#x70B9;&#xFF0C;&#x4F60;&#x5C31;&#x4F1A;&#x5F00;&#x59CB;&#x770B;&#x5230; Java &#x4E2D;&#x52A8;&#x6001;&#x7C7B;&#x578B;&#x68C0;&#x67E5;&#x7684;&#x5176;&#x4ED6;&#x793A;&#x4F8B;&#x3002;</p>
<!-- Unsupported Operations -->
<h3 id="&#x4E0D;&#x652F;&#x6301;&#x7684;&#x64CD;&#x4F5C;"><a name="&#x4E0D;&#x652F;&#x6301;&#x7684;&#x64CD;&#x4F5C;" class="anchor-navigation-ex-anchor" href="#&#x4E0D;&#x652F;&#x6301;&#x7684;&#x64CD;&#x4F5C;"><i class="fa fa-link" aria-hidden="true"></i></a>1.9.1. &#x4E0D;&#x652F;&#x6301;&#x7684;&#x64CD;&#x4F5C;</h3>
<p>&#x4E0D;&#x652F;&#x6301;&#x7684;&#x64CD;&#x4F5C;&#x7684;&#x5E38;&#x89C1;&#x6765;&#x6E90;&#x662F;&#x7531;&#x56FA;&#x5B9A;&#x5927;&#x5C0F;&#x7684;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x6240;&#x652F;&#x6301;&#x7684;&#x96C6;&#x5408;&#x3002;&#x4F7F;&#x7528; <code>Arrays.asList()</code> &#x65B9;&#x6CD5;&#x5C06;&#x6570;&#x7EC4;&#x8F6C;&#x6362;&#x4E3A; <strong>List</strong> &#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x5F97;&#x5230;&#x8FD9;&#x6837;&#x7684;&#x96C6;&#x5408;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x4F7F;&#x7528; <strong>Collections</strong> &#x7C7B;&#x4E2D;&#x7684;&#x201C;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#xFF08;unmodifiable&#xFF09;&#x201D;&#x65B9;&#x6CD5;&#x4F7F;&#x4EFB;&#x4F55;&#x96C6;&#x5408;&#xFF08;&#x5305;&#x62EC; <strong>Map</strong> &#xFF09;&#x629B;&#x51FA; <strong>UnsupportedOperationException</strong> &#x5F02;&#x5E38;&#x3002;&#x6B64;&#x793A;&#x4F8B;&#x5C55;&#x793A;&#x4E86;&#x8FD9;&#x4E24;&#x79CD;&#x60C5;&#x51B5;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/Unsupported.java</span>
<span class="token comment">// Unsupported operations in Java collections</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Unsupported</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">void</span>
  <span class="token function">check</span><span class="token punctuation">(</span><span class="token class-name">String</span> description<span class="token punctuation">,</span> <span class="token class-name">Runnable</span> tst<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      tst<span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>description <span class="token operator">+</span> <span class="token string">&quot;(): &quot;</span> <span class="token operator">+</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">String</span> msg<span class="token punctuation">,</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;--- &quot;</span> <span class="token operator">+</span> msg <span class="token operator">+</span> <span class="token string">&quot; ---&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> list<span class="token punctuation">;</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> subList <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">subList</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Copy of the sublist:</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>subList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">check</span><span class="token punctuation">(</span><span class="token string">&quot;retainAll&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> c<span class="token punctuation">.</span><span class="token function">retainAll</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">check</span><span class="token punctuation">(</span><span class="token string">&quot;removeAll&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> c<span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">check</span><span class="token punctuation">(</span><span class="token string">&quot;clear&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> c<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">check</span><span class="token punctuation">(</span><span class="token string">&quot;add&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;X&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">check</span><span class="token punctuation">(</span><span class="token string">&quot;addAll&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> c<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>c2<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">check</span><span class="token punctuation">(</span><span class="token string">&quot;remove&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> c<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">&quot;C&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// The List.set() method modifies the value but</span>
    <span class="token comment">// doesn&apos;t change the size of the data structure:</span>
    <span class="token function">check</span><span class="token punctuation">(</span><span class="token string">&quot;List.set&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> list<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;X&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>
      <span class="token string">&quot;A B C D E F G H I J K L&quot;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;Modifiable Copy&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;Arrays.asList()&quot;</span><span class="token punctuation">,</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token string">&quot;unmodifiableList()&quot;</span><span class="token punctuation">,</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableList</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
--- Modifiable Copy ---
--- Arrays.asList() ---
retainAll(): java.lang.UnsupportedOperationException
removeAll(): java.lang.UnsupportedOperationException
clear(): java.lang.UnsupportedOperationException
add(): java.lang.UnsupportedOperationException
addAll(): java.lang.UnsupportedOperationException
remove(): java.lang.UnsupportedOperationException
--- unmodifiableList() ---
retainAll(): java.lang.UnsupportedOperationException
removeAll(): java.lang.UnsupportedOperationException
clear(): java.lang.UnsupportedOperationException
add(): java.lang.UnsupportedOperationException
addAll(): java.lang.UnsupportedOperationException
remove(): java.lang.UnsupportedOperationException
List.set(): java.lang.UnsupportedOperationException
*/</span>
</code></pre>
<p>&#x56E0;&#x4E3A; <code>Arrays.asList()</code> &#x751F;&#x6210;&#x7684; <strong>List</strong> &#x7531;&#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x5927;&#x5C0F;&#x7684;&#x6570;&#x7EC4;&#x6240;&#x652F;&#x6301;&#xFF0C;&#x6240;&#x4EE5;&#x552F;&#x4E00;&#x652F;&#x6301;&#x7684;&#x64CD;&#x4F5C;&#x662F;&#x90A3;&#x4E9B;&#x4E0D;&#x6539;&#x53D8;&#x6570;&#x7EC4;&#x5927;&#x5C0F;&#x7684;&#x64CD;&#x4F5C;&#x3002;&#x4EFB;&#x4F55;&#x4F1A;&#x5BFC;&#x81F4;&#x66F4;&#x6539;&#x57FA;&#x7840;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x5927;&#x5C0F;&#x7684;&#x65B9;&#x6CD5;&#x90FD;&#x4F1A;&#x4EA7;&#x751F; <strong>UnsupportedOperationException</strong> &#x5F02;&#x5E38;&#xFF0C;&#x6765;&#x8BF4;&#x660E;&#x8FD9;&#x662F;&#x5BF9;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x65B9;&#x6CD5;&#x7684;&#x8C03;&#x7528;&#xFF08;&#x7F16;&#x7A0B;&#x9519;&#x8BEF;&#xFF09;&#x3002;</p>
<p>&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x59CB;&#x7EC8;&#x53EF;&#x4EE5;&#x5C06; <code>Arrays.asList()</code> &#x7684;&#x7ED3;&#x679C;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x7ED9;&#x4EFB;&#x4F55; <strong>Collection</strong> &#x7684;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#xFF08;&#x6216;&#x4F7F;&#x7528; <code>addAll()</code> &#x65B9;&#x6CD5;&#x6216;&#x9759;&#x6001;&#x7684; <code>Collections.addAll()</code> &#x65B9;&#x6CD5;&#xFF09;&#x6765;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x5141;&#x8BB8;&#x4F7F;&#x7528;&#x6240;&#x6709;&#x65B9;&#x6CD5;&#x7684;&#x5E38;&#x89C4;&#x96C6;&#x5408;&#xFF0C;&#x5728;&#x4E3B;&#x65B9;&#x6CD5;&#x4E2D;&#x7B2C;&#x4E00;&#x6B21;&#x8C03;&#x7528; <code>test()</code> &#x65F6;&#x663E;&#x793A;&#x4E86;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x3002;&#x8FD9;&#x79CD;&#x8C03;&#x7528;&#x4EA7;&#x751F;&#x4E86;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x53EF;&#x8C03;&#x6574;&#x5927;&#x5C0F;&#x7684;&#x5E95;&#x5C42;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x3002;</p>
<p><strong>Collections</strong> &#x7C7B;&#x4E2D;&#x7684;&#x201C;unmodifiable&#x201D;&#x65B9;&#x6CD5;&#x4F1A;&#x5C06;&#x96C6;&#x5408;&#x5305;&#x88C5;&#x4E00;&#x4E2A;&#x4EE3;&#x7406;&#x4E2D;&#xFF0C;&#x5982;&#x679C;&#x6267;&#x884C;&#x4EFB;&#x4F55;&#x60F3;&#x8981;&#x4FEE;&#x6539;&#x96C6;&#x5408;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x5219;&#x8BE5;&#x4EE3;&#x7406;&#x4F1A;&#x751F;&#x6210; <strong>UnsupportedOperationException</strong> &#x5F02;&#x5E38;&#x3002;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x7684;&#x76EE;&#x7684;&#x662F;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x201C;&#x5E38;&#x91CF;&#x201D;&#x96C6;&#x5408;&#x5BF9;&#x8C61;&#x3002;&#x7A0D;&#x540E;&#x5C06;&#x63CF;&#x8FF0;&#x201C;unmodifiable&#x201C;&#x96C6;&#x5408;&#x65B9;&#x6CD5;&#x7684;&#x5B8C;&#x6574;&#x5217;&#x8868;&#x3002;</p>
<p><code>test()</code> &#x4E2D;&#x7684;&#x6700;&#x540E;&#x4E00;&#x4E2A; <code>check()</code> &#x7528;&#x4E8E;&#x6D4B;&#x8BD5;<strong>List</strong> &#x7684; <code>set()</code> &#x65B9;&#x6CD5;&#x3002;&#x8FD9;&#x91CC;&#xFF0C;&#x201C;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x64CD;&#x4F5C;&#x201D;&#x6280;&#x672F;&#x7684;&#x7C92;&#x5EA6;&#xFF08;granularity&#xFF09;&#x5C31;&#x6D3E;&#x4E0A;&#x7528;&#x573A;&#x4E86;&#xFF0C;&#x5F97;&#x5230;&#x7684;&#x201C;&#x63A5;&#x53E3;&#x201D;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4E00;&#x79CD;&#x65B9;&#x6CD5;&#x5728; <code>Arrays.asList()</code> &#x8FD4;&#x56DE;&#x7684;&#x5BF9;&#x8C61;&#x548C; <code>Collections.unmodifiableList()</code> &#x8FD4;&#x56DE;&#x7684;&#x5BF9;&#x8C61;&#x4E4B;&#x95F4;&#x53D8;&#x6362;&#x3002; <code>Arrays.asList()</code> &#x8FD4;&#x56DE;&#x56FA;&#x5B9A;&#x5927;&#x5C0F;&#x7684; <strong>List</strong> &#xFF0C;&#x800C; <code>Collections.unmodifiableList()</code> &#x751F;&#x6210;&#x65E0;&#x6CD5;&#x66F4;&#x6539;&#x7684; <strong>List</strong> &#x3002;&#x5982;&#x8F93;&#x51FA;&#x4E2D;&#x6240;&#x793A;&#xFF0C; <code>Arrays.asList()</code> &#x8FD4;&#x56DE;&#x7684; <strong>List</strong> &#x4E2D;&#x7684;&#x5143;&#x7D20;&#x662F;&#x53EF;&#x4EE5;&#x4FEE;&#x6539;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x4E0D;&#x4F1A;&#x8FDD;&#x53CD;&#x8BE5; <strong>List</strong> &#x7684;&#x201C;&#x56FA;&#x5B9A;&#x5927;&#x5C0F;&#x201D;&#x7279;&#x6027;&#x3002;&#x4F46;&#x5F88;&#x660E;&#x663E;&#xFF0C; <code>unmodifiableList()</code> &#x7684;&#x7ED3;&#x679C;&#x4E0D;&#x5E94;&#x8BE5;&#x4EE5;&#x4EFB;&#x4F55;&#x65B9;&#x5F0F;&#x4FEE;&#x6539;&#x3002;&#x5982;&#x679C;&#x4F7F;&#x7528;&#x63A5;&#x53E3;&#x6765;&#x63CF;&#x8FF0;&#xFF0C;&#x5219;&#x9700;&#x8981;&#x4E24;&#x4E2A;&#x989D;&#x5916;&#x7684;&#x63A5;&#x53E3;&#xFF0C;&#x4E00;&#x4E2A;&#x5177;&#x6709;&#x53EF;&#x7528;&#x7684; <code>set()</code> &#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x53E6;&#x4E00;&#x4E2A;&#x6CA1;&#x6709;&#x3002; <strong>Collection</strong> &#x7684;&#x5404;&#x79CD;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684;&#x5B50;&#x7C7B;&#x578B;&#x90FD;&#x5C06;&#x9700;&#x8981;&#x989D;&#x5916;&#x7684;&#x63A5;&#x53E3;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x5C06;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#x4F5C;&#x4E3A;&#x5B83;&#x7684;&#x53C2;&#x6570;&#xFF0C;&#x90A3;&#x4E48;&#x5B83;&#x7684;&#x6587;&#x6863;&#x5E94;&#x8BE5;&#x8BF4;&#x660E;&#x5FC5;&#x987B;&#x5B9E;&#x73B0;&#x54EA;&#x4E9B;&#x53EF;&#x9009;&#x65B9;&#x6CD5;&#x3002;</p>
<!-- Sets and Storage Order -->
<h2 id="set&#x548C;&#x5B58;&#x50A8;&#x987A;&#x5E8F;"><a name="set&#x548C;&#x5B58;&#x50A8;&#x987A;&#x5E8F;" class="anchor-navigation-ex-anchor" href="#set&#x548C;&#x5B58;&#x50A8;&#x987A;&#x5E8F;"><i class="fa fa-link" aria-hidden="true"></i></a>1.10. Set&#x548C;&#x5B58;&#x50A8;&#x987A;&#x5E8F;</h2>
<p><a href="">&#x7B2C;&#x5341;&#x4E8C;&#x7AE0; &#x96C6;&#x5408;</a>&#x7AE0;&#x8282;&#x4E2D;&#x7684; <strong>Set</strong> &#x6709;&#x5173;&#x793A;&#x4F8B;&#x5BF9; <strong>Set</strong> &#x7684;&#x57FA;&#x672C;&#x64CD;&#x4F5C;&#x505A;&#x4E86;&#x5F88;&#x597D;&#x7684;&#x4ECB;&#x7ECD;&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x8FD9;&#x4E9B;&#x793A;&#x4F8B;&#x53EF;&#x4EE5;&#x65B9;&#x4FBF;&#x5730;&#x4F7F;&#x7528;&#x9884;&#x5B9A;&#x4E49;&#x7684; Java &#x7C7B;&#x578B;&#xFF0C;&#x4F8B;&#x5982; <strong>Integer</strong> &#x548C; <strong>String</strong> &#xFF0C;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x5728;&#x96C6;&#x5408;&#x4E2D;&#x4F7F;&#x7528;&#x3002;&#x5728;&#x521B;&#x5EFA;&#x81EA;&#x5DF1;&#x7684;&#x7C7B;&#x578B;&#x65F6;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C; <strong>Set</strong> &#xFF08;&#x4EE5;&#x53CA;&#x7A0D;&#x540E;&#x4F1A;&#x770B;&#x5230;&#x7684; <strong>Map</strong> &#xFF09;&#x9700;&#x8981;&#x4E00;&#x79CD;&#x7EF4;&#x62A4;&#x5B58;&#x50A8;&#x987A;&#x5E8F;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x987A;&#x5E8F;&#x56E0; <strong>Set</strong> &#x7684;&#x4E0D;&#x540C;&#x5B9E;&#x73B0;&#x800C;&#x5F02;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x4E0D;&#x540C;&#x7684; <strong>Set</strong> &#x5B9E;&#x73B0;&#x4E0D;&#x4EC5;&#x5177;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x884C;&#x4E3A;&#xFF0C;&#x800C;&#x4E14;&#x5B83;&#x4EEC;&#x5BF9;&#x53EF;&#x4EE5;&#x653E;&#x5165;&#x7279;&#x5B9A; <strong>Set</strong> &#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#x7C7B;&#x578B;&#x4E5F;&#x6709;&#x4E0D;&#x540C;&#x7684;&#x8981;&#x6C42;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:center"><strong>Set</strong> &#x7C7B;&#x578B;</th>
<th style="text-align:left">&#x7EA6;&#x675F;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>Set(interface)</strong></td>
<td style="text-align:left">&#x6DFB;&#x52A0;&#x5230; <strong>Set</strong> &#x4E2D;&#x7684;&#x6BCF;&#x4E2A;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x662F;&#x552F;&#x4E00;&#x7684;&#xFF0C;&#x5426;&#x5219;&#xFF0C;<strong>Set</strong> &#x4E0D;&#x4F1A;&#x6DFB;&#x52A0;&#x91CD;&#x590D;&#x5143;&#x7D20;&#x3002;&#x6DFB;&#x52A0;&#x5230; <strong>Set</strong> &#x7684;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x81F3;&#x5C11;&#x5B9A;&#x4E49; <code>equals()</code> &#x65B9;&#x6CD5;&#x4EE5;&#x5EFA;&#x7ACB;&#x5BF9;&#x8C61;&#x552F;&#x4E00;&#x6027;&#x3002; <strong>Set</strong> &#x4E0E; <strong>Collection</strong> &#x5177;&#x6709;&#x5B8C;&#x5168;&#x76F8;&#x540C;&#x7684;&#x63A5;&#x53E3;&#x3002; <strong>Set</strong> &#x63A5;&#x53E3;&#x4E0D;&#x4FDD;&#x8BC1;&#x5B83;&#x5C06;&#x4EE5;&#x4EFB;&#x4F55;&#x7279;&#x5B9A;&#x987A;&#x5E8F;&#x7EF4;&#x62A4;&#x5176;&#x5143;&#x7D20;&#x3002;</td>
</tr>
<tr>
<td style="text-align:center"><strong>HashSet*</strong></td>
<td style="text-align:left">&#x6CE8;&#x91CD;&#x5FEB;&#x901F;&#x67E5;&#x627E;&#x5143;&#x7D20;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x5176;&#x4E2D;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x5B9A;&#x4E49; <code>hashCode()</code> &#x548C; <code>equals()</code> &#x65B9;&#x6CD5;&#x3002;</td>
</tr>
<tr>
<td style="text-align:center"><strong>TreeSet</strong></td>
<td style="text-align:left">&#x7531;&#x6811;&#x652F;&#x6301;&#x7684;&#x6709;&#x5E8F; <strong>Set</strong>&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x4ECE; <strong>Set</strong> &#x4E2D;&#x83B7;&#x53D6;&#x6709;&#x5E8F;&#x5E8F;&#x5217;&#xFF0C;&#x5176;&#x4E2D;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x5B9E;&#x73B0; <strong>Comparable</strong> &#x63A5;&#x53E3;&#x3002;</td>
</tr>
<tr>
<td style="text-align:center"><strong>LinkedHashSet</strong></td>
<td style="text-align:left">&#x5177;&#x6709; <strong>HashSet</strong> &#x7684;&#x67E5;&#x627E;&#x901F;&#x5EA6;&#xFF0C;&#x4F46;&#x5728;&#x5185;&#x90E8;&#x4F7F;&#x7528;&#x94FE;&#x8868;&#x7EF4;&#x62A4;&#x5143;&#x7D20;&#x7684;&#x63D2;&#x5165;&#x987A;&#x5E8F;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x5F53;&#x5728;&#x904D;&#x5386; <strong>Set</strong> &#x65F6;&#xFF0C;&#x7ED3;&#x679C;&#x5C06;&#x6309;&#x5143;&#x7D20;&#x7684;&#x63D2;&#x5165;&#x987A;&#x5E8F;&#x663E;&#x793A;&#x3002;&#x5143;&#x7D20;&#x5FC5;&#x987B;&#x5B9A;&#x4E49; <code>hashCode()</code> &#x548C; <code>equals()</code> &#x65B9;&#x6CD5;&#x3002;</td>
</tr>
</tbody>
</table>
<p><strong>HashSet</strong> &#x4E0A;&#x7684;&#x661F;&#x53F7;&#x8868;&#x793A;&#xFF0C;&#x5728;&#x6CA1;&#x6709;&#x5176;&#x4ED6;&#x7EA6;&#x675F;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD9;&#x5E94;&#x8BE5;&#x662F;&#x4F60;&#x7684;&#x9ED8;&#x8BA4;&#x9009;&#x62E9;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x9488;&#x5BF9;&#x901F;&#x5EA6;&#x8FDB;&#x884C;&#x4E86;&#x4F18;&#x5316;&#x3002;</p>
<p>&#x5B9A;&#x4E49; <code>hashCode()</code> &#x65B9;&#x6CD5;&#x5728;<a href="">&#x9644;&#x5F55;:&#x7406;&#x89E3;equals&#x548C;hashCode&#x65B9;&#x6CD5;</a>&#x4E2D;&#x8FDB;&#x884C;&#x4E86;&#x63CF;&#x8FF0;&#x3002;&#x5FC5;&#x987B;&#x4E3A;&#x6563;&#x5217;&#x548C;&#x6811;&#x5B58;&#x50A8;&#x7ED3;&#x6784;&#x521B;&#x5EFA; <code>equals()</code> &#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x53EA;&#x6709;&#x5F53;&#x628A;&#x7C7B;&#x653E;&#x5728; <strong>HashSet</strong> &#x4E2D;&#x65F6;&#x624D;&#x9700;&#x8981; <code>hashCode()</code> &#xFF08;&#x5F53;&#x7136;&#x8FD9;&#x5F88;&#x6709;&#x53EF;&#x80FD;&#xFF0C;&#x56E0;&#x4E3A; <strong>HashSet</strong> &#x901A;&#x5E38;&#x5E94;&#x8BE5;&#x662F;&#x4F5C;&#x4E3A; <strong>Set</strong> &#x5B9E;&#x73B0;&#x7684;&#x9996;&#x9009;&#xFF09;&#x6216; <strong>LinkedHashSet</strong> &#x3002; &#x4F46;&#x662F;&#xFF0C;&#x4F5C;&#x4E3A;&#x4E00;&#x79CD;&#x826F;&#x597D;&#x7684;&#x7F16;&#x7A0B;&#x98CE;&#x683C;&#xFF0C;&#x5728;&#x8986;&#x76D6; <code>equals()</code> &#x65F6;&#x5E94;&#x59CB;&#x7EC8;&#x8986;&#x76D6; <code>hashCode()</code> &#x3002;</p>
<p>&#x4E0B;&#x9762;&#x7684;&#x793A;&#x4F8B;&#x6F14;&#x793A;&#x4E86;&#x6210;&#x529F;&#x4F7F;&#x7528;&#x5177;&#x6709;&#x7279;&#x5B9A; <strong>Set</strong> &#x5B9E;&#x73B0;&#x7684;&#x7C7B;&#x578B;&#x6240;&#x9700;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/TypesForSets.java</span>
<span class="token comment">// Methods necessary to put your own type in a Set</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Objects</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">SetType</span> <span class="token punctuation">{</span>
  <span class="token keyword">protected</span> <span class="token keyword">int</span> i<span class="token punctuation">;</span>
  <span class="token class-name">SetType</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> i <span class="token operator">=</span> n<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> o<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> o <span class="token keyword">instanceof</span> <span class="token class-name">SetType</span> <span class="token operator">&amp;&amp;</span>
      <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">SetType</span><span class="token punctuation">)</span>o<span class="token punctuation">)</span><span class="token punctuation">.</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">HashType</span> <span class="token keyword">extends</span> <span class="token class-name">SetType</span> <span class="token punctuation">{</span>
  <span class="token class-name">HashType</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">super</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">TreeType</span> <span class="token keyword">extends</span> <span class="token class-name">SetType</span>
<span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TreeType</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token class-name">TreeType</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">super</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">TreeType</span> arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">compare</span><span class="token punctuation">(</span>arg<span class="token punctuation">.</span>i<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Equivalent to:</span>
    <span class="token comment">// return arg.i &lt; i ? -1 : (arg.i == i ? 0 : 1);</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TypesForSets</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span>
  <span class="token function">fill</span><span class="token punctuation">(</span><span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> set<span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span> <span class="token comment">// Descending</span>
      set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>type<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token comment">// Ascending</span>
      set<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>type<span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token keyword">void</span>
  <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> set<span class="token punctuation">,</span> <span class="token class-name">Function</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span> <span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> type<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">fill</span><span class="token punctuation">(</span>set<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">fill</span><span class="token punctuation">(</span>set<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Try to add duplicates</span>
    <span class="token function">fill</span><span class="token punctuation">(</span>set<span class="token punctuation">,</span> type<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>set<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">HashType</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedHashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">HashType</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">TreeType</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Things that don&apos;t work:</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">SetType</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">TreeType</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedHashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">SetType</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedHashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">TreeType</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">SetType</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">HashType</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">Exception</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
[10, 9, 8, 7, 6, 5, 0, 1, 2, 3, 4]
[10, 9, 8, 7, 6, 5, 4, 3, 2, 1, 0]
[1, 6, 8, 6, 2, 7, 8, 9, 4, 10, 7, 5, 1, 3, 4, 9, 9,
10, 5, 3, 2, 0, 4, 1, 2, 0, 8, 3, 0, 10, 6, 5, 7]
[3, 1, 4, 8, 7, 6, 9, 5, 3, 0, 10, 5, 5, 10, 7, 8, 8,
9, 1, 4, 10, 2, 6, 9, 1, 6, 0, 3, 2, 0, 7, 2, 4]
[10, 9, 8, 7, 6, 5, 0, 1, 2, 3, 4, 10, 9, 8, 7, 6, 5,
0, 1, 2, 3, 4, 10, 9, 8, 7, 6, 5, 0, 1, 2, 3, 4]
[10, 9, 8, 7, 6, 5, 0, 1, 2, 3, 4, 10, 9, 8, 7, 6, 5,
0, 1, 2, 3, 4, 10, 9, 8, 7, 6, 5, 0, 1, 2, 3, 4]
SetType cannot be cast to java.lang.Comparable
HashType cannot be cast to java.lang.Comparable
*/</span>
</code></pre>
<p>&#x4E3A;&#x4E86;&#x8BC1;&#x660E;&#x7279;&#x5B9A; <strong>Set</strong> &#x9700;&#x8981;&#x54EA;&#x4E9B;&#x65B9;&#x6CD5;&#xFF0C;&#x540C;&#x65F6;&#x907F;&#x514D;&#x4EE3;&#x7801;&#x91CD;&#x590D;&#xFF0C;&#x8FD9;&#x91CC;&#x521B;&#x5EFA;&#x4E86;&#x4E09;&#x4E2A;&#x7C7B;&#x3002;&#x57FA;&#x7C7B; <strong>SetType</strong> &#x5B58;&#x50A8;&#x4E00;&#x4E2A; <strong>int</strong> &#x503C;&#xFF0C;&#x5E76;&#x901A;&#x8FC7; <code>toString()</code> &#x65B9;&#x6CD5;&#x6253;&#x5370;&#x5B83;&#x3002;&#x7531;&#x4E8E;&#x5B58;&#x50A8;&#x5728; <strong>Set</strong> &#x4E2D;&#x7684;&#x6240;&#x6709;&#x7C7B;&#x90FD;&#x5FC5;&#x987B;&#x5177;&#x6709; <code>equals()</code> &#xFF0C;&#x56E0;&#x6B64;&#x8BE5;&#x65B9;&#x6CD5;&#x4E5F;&#x653E;&#x5728;&#x57FA;&#x7C7B;&#x4E2D;&#x3002;&#x57FA;&#x4E8E; <code>int i</code> &#x6765;&#x5224;&#x65AD;&#x5143;&#x7D20;&#x662F;&#x5426;&#x76F8;&#x7B49;&#x3002;</p>
<p><strong>HashType</strong> &#x7EE7;&#x627F;&#x81EA; <strong>SetType</strong> &#xFF0C;&#x5E76;&#x6DFB;&#x52A0;&#x4E86; <code>hashCode()</code> &#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x5BF9;&#x4E8E; <strong>Set</strong> &#x7684;&#x6563;&#x5217;&#x5B9E;&#x73B0;&#x662F;&#x5FC5;&#x9700;&#x7684;&#x3002;</p>
<p>&#x8981;&#x5728;&#x4EFB;&#x4F55;&#x7C7B;&#x578B;&#x7684;&#x6709;&#x5E8F;&#x96C6;&#x5408;&#x4E2D;&#x4F7F;&#x7528;&#x5BF9;&#x8C61;&#xFF0C;&#x7531; <strong>TreeType</strong> &#x5B9E;&#x73B0;&#x7684; <strong>Comparable</strong> &#x63A5;&#x53E3;&#x90FD;&#x662F;&#x5FC5;&#x9700;&#x7684;&#xFF0C;&#x4F8B;&#x5982; <strong>SortedSet</strong> &#xFF08; <strong>TreeSet</strong> &#x662F;&#x5176;&#x552F;&#x4E00;&#x5B9E;&#x73B0;&#xFF09;&#x3002;&#x5728; <code>compareTo()</code> &#x4E2D;&#xFF0C;&#x8BF7;&#x6CE8;&#x610F;&#x6211;&#x6CA1;&#x6709;&#x4F7F;&#x7528;&#x201C;&#x7B80;&#x5355;&#x660E;&#x4E86;&#x201D;&#x7684;&#x5F62;&#x5F0F;&#xFF1A; <code>return i-i2</code> &#x3002;&#x867D;&#x7136;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x5E38;&#x89C1;&#x7684;&#x7F16;&#x7A0B;&#x9519;&#x8BEF;&#xFF0C;&#x4F46;&#x53EA;&#x6709;&#x5F53; <strong>i</strong> &#x548C; <strong>i2</strong> &#x662F;&#x201C;&#x65E0;&#x7B26;&#x53F7;&#xFF08;unsigned&#xFF09;&#x201D;&#x6574;&#x578B;&#x65F6;&#x624D;&#x80FD;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#xFF08;&#x5982;&#x679C; Java &#x6709;&#x4E00;&#x4E2A;&#x201C;unsigned&#x201D;&#x5173;&#x952E;&#x5B57;&#x7684;&#x8BDD;&#xFF0C;&#x4E0D;&#x8FC7;&#x5B83;&#x6CA1;&#x6709;&#xFF09;&#x3002;&#x5B83;&#x7834;&#x574F;&#x4E86; Java &#x7684;&#x6709;&#x7B26;&#x53F7; <strong>int</strong> &#xFF0C;&#x5B83;&#x4E0D;&#x8DB3;&#x4EE5;&#x4EE3;&#x8868;&#x4E24;&#x4E2A;&#x6709;&#x7B26;&#x53F7;&#x6574;&#x6570;&#x7684;&#x5DEE;&#x5F02;&#x3002;&#x5982;&#x679C; <strong>i</strong> &#x662F;&#x4E00;&#x4E2A;&#x5927;&#x7684;&#x6B63;&#x6574;&#x6570;&#x800C; <strong>j</strong> &#x662F;&#x4E00;&#x4E2A;&#x5927;&#x7684;&#x8D1F;&#x6574;&#x6570;&#xFF0C; <code>i-j</code> &#x5C06;&#x6EA2;&#x51FA;&#x5E76;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x8D1F;&#x503C;&#xFF0C;&#x8FD9;&#x4E0D;&#x662F;&#x6211;&#x4EEC;&#x6240;&#x9700;&#x8981;&#x7684;&#x3002;</p>
<p>&#x901A;&#x5E38;&#x5E0C;&#x671B; <code>compareTo()</code> &#x65B9;&#x6CD5;&#x751F;&#x6210;&#x4E0E; <code>equals()</code> &#x65B9;&#x6CD5;&#x4E00;&#x81F4;&#x7684;&#x81EA;&#x7136;&#x987A;&#x5E8F;&#x3002;&#x5982;&#x679C; <code>equals()</code> &#x5BF9;&#x4E8E;&#x7279;&#x5B9A;&#x6BD4;&#x8F83;&#x4EA7;&#x751F; <strong>true</strong>&#xFF0C;&#x5219; <code>compareTo()</code> &#x5E94;&#x8BE5;&#x4E3A;&#x8BE5;&#x6BD4;&#x8F83;&#x8FD4;&#x56DE;&#x7ED3;&#x679C; &#x96F6;&#xFF0C;&#x5E76;&#x4E14;&#x5982;&#x679C; <code>equals()</code> &#x4E3A;&#x6BD4;&#x8F83;&#x4EA7;&#x751F; <strong>false</strong> &#xFF0C;&#x5219; <code>compareTo()</code> &#x5E94;&#x8BE5;&#x4E3A;&#x8BE5;&#x6BD4;&#x8F83;&#x4EA7;&#x751F;&#x975E;&#x96F6;&#x7ED3;&#x679C;&#x3002;</p>
<p>&#x5728; <strong>TypesForSets</strong> &#x4E2D;&#xFF0C; <code>fill()</code> &#x548C; <code>test()</code> &#x90FD;&#x662F;&#x4F7F;&#x7528;&#x6CDB;&#x578B;&#x5B9A;&#x4E49;&#x7684;&#xFF0C;&#x4EE5;&#x9632;&#x6B62;&#x4EE3;&#x7801;&#x91CD;&#x590D;&#x3002;&#x4E3A;&#x4E86;&#x9A8C;&#x8BC1; <strong>Set</strong> &#x7684;&#x884C;&#x4E3A;&#xFF0C; <code>test()</code> &#x5728;&#x6D4B;&#x8BD5;&#x96C6;&#x4E0A;&#x8C03;&#x7528; <code>fill()</code> &#x4E09;&#x6B21;&#xFF0C;&#x5C1D;&#x8BD5;&#x5F15;&#x5165;&#x91CD;&#x590D;&#x7684;&#x5BF9;&#x8C61;&#x3002; <code>fill()</code> &#x65B9;&#x6CD5;&#x7684;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x63A5;&#x6536;&#x4EFB;&#x610F;&#x4E00;&#x4E2A; <strong>Set</strong> &#x7C7B;&#x578B;&#xFF0C;&#x4EE5;&#x53CA;&#x751F;&#x6210;&#x8BE5;&#x7C7B;&#x578B;&#x7684; <strong>Function</strong> &#x5BF9;&#x8C61;&#x3002;&#x56E0;&#x4E3A;&#x6B64;&#x793A;&#x4F8B;&#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x6240;&#x6709;&#x5BF9;&#x8C61;&#x90FD;&#x6709;&#x4E00;&#x4E2A;&#x5E26;&#x6709;&#x5355;&#x4E2A; <strong>int</strong> &#x53C2;&#x6570;&#x7684;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x4EE5;&#x5C06;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x4F5C;&#x4E3A;&#x6B64; <strong>Function</strong> &#x4F20;&#x9012;&#xFF0C;&#x5B83;&#x5C06;&#x63D0;&#x4F9B;&#x7528;&#x4E8E;&#x586B;&#x5145; <strong>Set</strong> &#x7684;&#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x8BF7;&#x6CE8;&#x610F;&#xFF0C; <code>fill()</code> &#x65B9;&#x6CD5;&#x6309;&#x964D;&#x5E8F;&#x6DFB;&#x52A0;&#x524D;&#x4E94;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x6309;&#x5347;&#x5E8F;&#x6DFB;&#x52A0;&#x540E;&#x4E94;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x4EE5;&#x6B64;&#x6765;&#x6307;&#x51FA;&#x751F;&#x6210;&#x7684;&#x5B58;&#x50A8;&#x987A;&#x5E8F;&#x3002;&#x8F93;&#x51FA;&#x663E;&#x793A; <strong>HashSet</strong> &#x6309;&#x5347;&#x5E8F;&#x4FDD;&#x7559;&#x5143;&#x7D20;&#xFF0C;&#x4F46;&#x662F;&#xFF0C;&#x5728;<a href="">&#x9644;&#x5F55;:&#x7406;&#x89E3;equals&#x548C;hashCode&#x65B9;&#x6CD5;</a>&#x4E2D;&#xFF0C;&#x4F60;&#x4F1A;&#x53D1;&#x73B0;&#x8FD9;&#x53EA;&#x662F;&#x5076;&#x7136;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x6563;&#x5217;&#x4F1A;&#x521B;&#x5EFA;&#x81EA;&#x5DF1;&#x7684;&#x5B58;&#x50A8;&#x987A;&#x5E8F;&#x3002;&#x8FD9;&#x91CC;&#x53EA;&#x662F;&#x56E0;&#x4E3A;&#x5143;&#x7D20;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684; <strong>int</strong> &#xFF0C;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#x5B83;&#x662F;&#x5347;&#x5E8F;&#x7684;&#x3002; <strong>LinkedHashSet</strong> &#x6309;&#x7167;&#x63D2;&#x5165;&#x987A;&#x5E8F;&#x4FDD;&#x5B58;&#x5143;&#x7D20;&#xFF0C;<strong>TreeSet</strong> &#x6309;&#x6392;&#x5E8F;&#x987A;&#x5E8F;&#x7EF4;&#x62A4;&#x5143;&#x7D20;&#xFF08;&#x5728;&#x6B64;&#x793A;&#x4F8B;&#x4E2D;&#x56E0;&#x4E3A; <code>compareTo()</code> &#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#xFF0C;&#x6240;&#x4EE5;&#x5143;&#x7D20;&#x6309;&#x964D;&#x5E8F;&#x6392;&#x5217;&#x3002;&#xFF09;</p>
<p>&#x7279;&#x5B9A;&#x7684; <strong>Set</strong> &#x7C7B;&#x578B;&#x4E00;&#x822C;&#x90FD;&#x6709;&#x6240;&#x5FC5;&#x9700;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x5982;&#x679C;&#x5C1D;&#x8BD5;&#x4F7F;&#x7528;&#x6CA1;&#x80FD;&#x6B63;&#x786E;&#x652F;&#x6301;&#x8FD9;&#x4E9B;&#x64CD;&#x4F5C;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x90A3;&#x4E48;&#x4E8B;&#x60C5;&#x5C31;&#x4F1A;&#x51FA;&#x9519;&#x3002;&#x5C06;&#x6CA1;&#x6709;&#x91CD;&#x65B0;&#x5B9A;&#x4E49; <code>hashCode()</code> &#x65B9;&#x6CD5;&#x7684; <strong>SetType</strong> &#x6216; <strong>TreeType</strong> &#x5BF9;&#x8C61;&#x653E;&#x5165;&#x4EFB;&#x4F55;&#x6563;&#x5217;&#x5B9E;&#x73B0;&#x4F1A;&#x5BFC;&#x81F4;&#x91CD;&#x590D;&#x503C;&#xFF0C;&#x56E0;&#x6B64;&#x8FDD;&#x53CD;&#x4E86; <strong>Set</strong> &#x7684;&#x4E3B;&#x8981;&#x5951;&#x7EA6;&#x3002; &#x8FD9;&#x662F;&#x76F8;&#x5F53;&#x4EE4;&#x4EBA;&#x4E0D;&#x5B89;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x8FD9;&#x751A;&#x81F3;&#x4E0D;&#x4EA7;&#x751F;&#x8FD0;&#x884C;&#x65F6;&#x9519;&#x8BEF;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x9ED8;&#x8BA4;&#x7684; <code>hashCode()</code> &#x662F;&#x5408;&#x6CD5;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x5373;&#x4F7F;&#x5B83;&#x662F;&#x4E0D;&#x6B63;&#x786E;&#x7684;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x5408;&#x6CD5;&#x7684;&#x884C;&#x4E3A;&#x3002;&#x786E;&#x4FDD;&#x6B64;&#x7C7B;&#x7A0B;&#x5E8F;&#x6B63;&#x786E;&#x6027;&#x7684;&#x552F;&#x4E00;&#x53EF;&#x9760;&#x65B9;&#x6CD5;&#x662F;&#x5C06;&#x5355;&#x5143;&#x6D4B;&#x8BD5;&#x5408;&#x5E76;&#x5230;&#x6784;&#x5EFA;&#x7CFB;&#x7EDF;&#x4E2D;&#x3002;</p>
<p>&#x5982;&#x679C;&#x5C1D;&#x8BD5;&#x5728; <strong>TreeSet</strong> &#x4E2D;&#x4F7F;&#x7528;&#x6CA1;&#x6709;&#x5B9E;&#x73B0; <strong>Comparable</strong> &#x63A5;&#x53E3;&#x7684;&#x7C7B;&#x578B;&#xFF0C;&#x5219;&#x4F1A;&#x5F97;&#x5230;&#x66F4;&#x660E;&#x786E;&#x7684;&#x7ED3;&#x679C;&#xFF1A;&#x5F53; <strong>TreeSet</strong> &#x5C1D;&#x8BD5;&#x5C06;&#x5BF9;&#x8C61;&#x7528;&#x4F5C;&#x4E00;&#x4E2A; <strong>Comparable</strong> &#x65F6;&#xFF0C;&#x5C06;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;</p>
<!-- SortedSet -->
<h3 id="sortedset"><a name="sortedset" class="anchor-navigation-ex-anchor" href="#sortedset"><i class="fa fa-link" aria-hidden="true"></i></a>1.10.1. SortedSet</h3>
<p><strong>SortedSet</strong> &#x4E2D;&#x7684;&#x5143;&#x7D20;&#x4FDD;&#x8BC1;&#x6309;&#x6392;&#x5E8F;&#x89C4;&#x5219;&#x987A;&#x5E8F;&#xFF0C; <strong>SortedSet</strong> &#x63A5;&#x53E3;&#x4E2D;&#x7684;&#x4EE5;&#x4E0B;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x4EA7;&#x751F;&#x5176;&#x4ED6;&#x529F;&#x80FD;&#xFF1A;</p>
<ul>
<li><code>Comparator comparator()</code> &#xFF1A;&#x751F;&#x6210;&#x7528;&#x4E8E;&#x6B64; <strong>Set</strong> &#x7684;<strong>Comparator</strong> &#x6216; <strong>null</strong> &#x6765;&#x7528;&#x4E8E;&#x81EA;&#x7136;&#x6392;&#x5E8F;&#x3002;</li>
<li><code>Object first()</code> &#xFF1A;&#x8FD4;&#x56DE;&#x7B2C;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x3002;</li>
<li><code>Object last()</code> &#xFF1A;&#x8FD4;&#x56DE;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x3002;</li>
<li><code>SortedSet subSet(fromElement&#xFF0C;toElement)</code> &#xFF1A;&#x4F7F;&#x7528; <strong>fromElement</strong> &#xFF08;&#x5305;&#x542B;&#xFF09;&#x548C; <strong>toElement</strong> &#xFF08;&#x4E0D;&#x5305;&#x62EC;&#xFF09;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x751F;&#x6210;&#x6B64; <strong>Set</strong> &#x7684;&#x4E00;&#x4E2A;&#x89C6;&#x56FE;&#x3002;</li>
<li><code>SortedSet headSet(toElement)</code> &#xFF1A;&#x4F7F;&#x7528;&#x987A;&#x5E8F;&#x5728; <strong>toElement</strong> &#x4E4B;&#x524D;&#x7684;&#x5143;&#x7D20;&#x751F;&#x6210;&#x6B64; <strong>Set</strong> &#x7684;&#x4E00;&#x4E2A;&#x89C6;&#x56FE;&#x3002;</li>
<li><code>SortedSet tailSet(fromElement)</code> &#xFF1A;&#x4F7F;&#x7528;&#x987A;&#x5E8F;&#x5728; <strong>fromElement</strong> &#x4E4B;&#x540E;&#xFF08;&#x5305;&#x542B; <strong>fromElement</strong> &#xFF09;&#x7684;&#x5143;&#x7D20;&#x751F;&#x6210;&#x6B64; <strong>Set</strong> &#x7684;&#x4E00;&#x4E2A;&#x89C6;&#x56FE;&#x3002;</li>
</ul>
<p>&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6F14;&#x793A;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/SortedSetDemo.java</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token keyword">static</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token class-name">Collectors</span><span class="token punctuation">.</span>*<span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SortedSetDemo</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">SortedSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sortedSet <span class="token operator">=</span>
      <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>
        <span class="token string">&quot;one two three four five six seven eight&quot;</span>
        <span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">.</span><span class="token function">collect</span><span class="token punctuation">(</span><span class="token function">toCollection</span><span class="token punctuation">(</span><span class="token class-name">TreeSet</span><span class="token operator">::</span><span class="token keyword">new</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sortedSet<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> low <span class="token operator">=</span> sortedSet<span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> high <span class="token operator">=</span> sortedSet<span class="token punctuation">.</span><span class="token function">last</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>low<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>high<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> sortedSet<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> low <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">)</span> high <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">else</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>low<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>high<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sortedSet<span class="token punctuation">.</span><span class="token function">subSet</span><span class="token punctuation">(</span>low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sortedSet<span class="token punctuation">.</span><span class="token function">headSet</span><span class="token punctuation">(</span>high<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sortedSet<span class="token punctuation">.</span><span class="token function">tailSet</span><span class="token punctuation">(</span>low<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[eight, five, four, one, seven, six, three, two]
eight
two
one
two
[one, seven, six, three]
[eight, five, four, one, seven, six, three]
[one, seven, six, three, two]
*/</span>
</code></pre>
<p>&#x6CE8;&#x610F;&#xFF0C; <strong>SortedSet</strong> &#x8868;&#x793A;&#x201C;&#x6839;&#x636E;&#x5BF9;&#x8C61;&#x7684;&#x6BD4;&#x8F83;&#x51FD;&#x6570;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x201D;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x201C;&#x6839;&#x636E;&#x63D2;&#x5165;&#x987A;&#x5E8F;&#x201D;&#x3002;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <strong>LinkedHashSet</strong> &#x4FDD;&#x7559;&#x5143;&#x7D20;&#x7684;&#x63D2;&#x5165;&#x987A;&#x5E8F;&#x3002;</p>
<!-- Queues -->
<h2 id="&#x961F;&#x5217;"><a name="&#x961F;&#x5217;" class="anchor-navigation-ex-anchor" href="#&#x961F;&#x5217;"><i class="fa fa-link" aria-hidden="true"></i></a>1.11. &#x961F;&#x5217;</h2>
<p>&#x6709;&#x8BB8;&#x591A; <strong>Queue</strong> &#x5B9E;&#x73B0;&#xFF0C;&#x5176;&#x4E2D;&#x5927;&#x591A;&#x6570;&#x662F;&#x4E3A;&#x5E76;&#x53D1;&#x5E94;&#x7528;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x7684;&#x3002;&#x8BB8;&#x591A;&#x5B9E;&#x73B0;&#x90FD;&#x662F;&#x901A;&#x8FC7;&#x6392;&#x5E8F;&#x884C;&#x4E3A;&#x800C;&#x4E0D;&#x662F;&#x6027;&#x80FD;&#x6765;&#x533A;&#x5206;&#x7684;&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x6D89;&#x53CA;&#x5927;&#x591A;&#x6570; <strong>Queue</strong> &#x5B9E;&#x73B0;&#x7684;&#x57FA;&#x672C;&#x793A;&#x4F8B;&#xFF0C;&#x5305;&#x62EC;&#x57FA;&#x4E8E;&#x5E76;&#x53D1;&#x7684;&#x961F;&#x5217;&#x3002;&#x961F;&#x5217;&#x5C06;&#x5143;&#x7D20;&#x4ECE;&#x4E00;&#x7AEF;&#x653E;&#x5165;&#x5E76;&#x4ECE;&#x53E6;&#x4E00;&#x7AEF;&#x53D6;&#x51FA;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/QueueBehavior.java</span>
<span class="token comment">// Compares basic behavior</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>stream<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">QueueBehavior</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token class-name">Stream</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">strings</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span>
      <span class="token punctuation">(</span><span class="token string">&quot;one two three four five six seven &quot;</span> <span class="token operator">+</span>
       <span class="token string">&quot;eight nine ten&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">int</span> id<span class="token punctuation">,</span> <span class="token class-name">Queue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> queue<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>id <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">strings</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>queue<span class="token operator">::</span><span class="token function">offer</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>queue<span class="token punctuation">.</span><span class="token function">peek</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>queue<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">PriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ArrayBlockingQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ConcurrentLinkedQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">LinkedBlockingQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">PriorityBlockingQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ConcurrentLinkedDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">LinkedBlockingDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">LinkedTransferQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">SynchronousQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
1: one two three four five six seven eight nine ten
2: eight five four nine one seven six ten three two
3: one two three four five six seven eight nine ten
4: one two three four five six seven eight nine ten
5: one two three four five six seven eight nine ten
6: eight five four nine one seven six ten three two
7: one two three four five six seven eight nine ten
8: one two three four five six seven eight nine ten
9: one two three four five six seven eight nine ten
10: one two three four five six seven eight nine ten
11:
*/</span>
</code></pre>
<p><strong>Deque</strong> &#x63A5;&#x53E3;&#x4E5F;&#x7EE7;&#x627F;&#x81EA; <strong>Queue</strong> &#x3002; &#x9664;&#x4F18;&#x5148;&#x7EA7;&#x961F;&#x5217;&#x5916;&#xFF0C;<strong>Queue</strong> &#x6309;&#x7167;&#x5143;&#x7D20;&#x7684;&#x63D2;&#x5165;&#x987A;&#x5E8F;&#x751F;&#x6210;&#x5143;&#x7D20;&#x3002; &#x5728;&#x6B64;&#x793A;&#x4F8B;&#x4E2D;&#xFF0C;<strong>SynchronousQueue</strong> &#x4E0D;&#x4F1A;&#x4EA7;&#x751F;&#x4EFB;&#x4F55;&#x7ED3;&#x679C;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x662F;&#x4E00;&#x4E2A;&#x963B;&#x585E;&#x961F;&#x5217;&#xFF0C;&#x5176;&#x4E2D;&#x6BCF;&#x4E2A;&#x63D2;&#x5165;&#x64CD;&#x4F5C;&#x5FC5;&#x987B;&#x7B49;&#x5F85;&#x53E6;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x6267;&#x884C;&#x76F8;&#x5E94;&#x7684;&#x5220;&#x9664;&#x64CD;&#x4F5C;&#xFF0C;&#x53CD;&#x4E4B;&#x4EA6;&#x7136;&#x3002;</p>
<!-- Priority Queues -->
<h3 id="&#x4F18;&#x5148;&#x7EA7;&#x961F;&#x5217;"><a name="&#x4F18;&#x5148;&#x7EA7;&#x961F;&#x5217;" class="anchor-navigation-ex-anchor" href="#&#x4F18;&#x5148;&#x7EA7;&#x961F;&#x5217;"><i class="fa fa-link" aria-hidden="true"></i></a>1.11.1. &#x4F18;&#x5148;&#x7EA7;&#x961F;&#x5217;</h3>
<p>&#x8003;&#x8651;&#x4E00;&#x4E2A;&#x5F85;&#x529E;&#x4E8B;&#x9879;&#x5217;&#x8868;&#xFF0C;&#x5176;&#x4E2D;&#x6BCF;&#x4E2A;&#x5BF9;&#x8C61;&#x5305;&#x542B;&#x4E00;&#x4E2A; <strong>String</strong> &#x4EE5;&#x53CA;&#x4E3B;&#x8981;&#x548C;&#x6B21;&#x8981;&#x4F18;&#x5148;&#x7EA7;&#x503C;&#x3002;&#x901A;&#x8FC7;&#x5B9E;&#x73B0; <strong>Comparable</strong> &#x63A5;&#x53E3;&#x6765;&#x63A7;&#x5236;&#x6B64;&#x5F85;&#x529E;&#x4E8B;&#x9879;&#x5217;&#x8868;&#x7684;&#x987A;&#x5E8F;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/ToDoList.java</span>
<span class="token comment">// A more complex use of PriorityQueue</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">ToDoItem</span> <span class="token keyword">implements</span> <span class="token class-name">Comparable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ToDoItem</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">char</span> primary<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> secondary<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> item<span class="token punctuation">;</span>
  <span class="token class-name">ToDoItem</span><span class="token punctuation">(</span><span class="token class-name">String</span> td<span class="token punctuation">,</span> <span class="token keyword">char</span> pri<span class="token punctuation">,</span> <span class="token keyword">int</span> sec<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    primary <span class="token operator">=</span> pri<span class="token punctuation">;</span>
    secondary <span class="token operator">=</span> sec<span class="token punctuation">;</span>
    item <span class="token operator">=</span> td<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">compareTo</span><span class="token punctuation">(</span><span class="token class-name">ToDoItem</span> arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>primary <span class="token operator">&gt;</span> arg<span class="token punctuation">.</span>primary<span class="token punctuation">)</span>
      <span class="token keyword">return</span> <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>primary <span class="token operator">==</span> arg<span class="token punctuation">.</span>primary<span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>secondary <span class="token operator">&gt;</span> arg<span class="token punctuation">.</span>secondary<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
      <span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>secondary <span class="token operator">==</span> arg<span class="token punctuation">.</span>secondary<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Character</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>primary<span class="token punctuation">)</span> <span class="token operator">+</span>
      secondary <span class="token operator">+</span> <span class="token string">&quot;: &quot;</span> <span class="token operator">+</span> item<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">ToDoList</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">PriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ToDoItem</span><span class="token punctuation">&gt;</span></span> toDo <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">PriorityQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    toDo<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ToDoItem</span><span class="token punctuation">(</span><span class="token string">&quot;Empty trash&quot;</span><span class="token punctuation">,</span> <span class="token string">&apos;C&apos;</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    toDo<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ToDoItem</span><span class="token punctuation">(</span><span class="token string">&quot;Feed dog&quot;</span><span class="token punctuation">,</span> <span class="token string">&apos;A&apos;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    toDo<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ToDoItem</span><span class="token punctuation">(</span><span class="token string">&quot;Feed bird&quot;</span><span class="token punctuation">,</span> <span class="token string">&apos;B&apos;</span><span class="token punctuation">,</span> <span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    toDo<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ToDoItem</span><span class="token punctuation">(</span><span class="token string">&quot;Mow lawn&quot;</span><span class="token punctuation">,</span> <span class="token string">&apos;C&apos;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    toDo<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ToDoItem</span><span class="token punctuation">(</span><span class="token string">&quot;Water lawn&quot;</span><span class="token punctuation">,</span> <span class="token string">&apos;A&apos;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    toDo<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ToDoItem</span><span class="token punctuation">(</span><span class="token string">&quot;Feed cat&quot;</span><span class="token punctuation">,</span> <span class="token string">&apos;B&apos;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>toDo<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>toDo<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
A1: Water lawn
A2: Feed dog
B1: Feed cat
B7: Feed bird
C3: Mow lawn
C4: Empty trash
*/</span>
</code></pre>
<p>&#x8FD9;&#x5C55;&#x793A;&#x4E86;&#x901A;&#x8FC7;&#x4F18;&#x5148;&#x7EA7;&#x961F;&#x5217;&#x81EA;&#x52A8;&#x6392;&#x5E8F;&#x5F85;&#x529E;&#x4E8B;&#x9879;&#x3002;</p>
<!-- Deque -->
<h3 id="&#x53CC;&#x7AEF;&#x961F;&#x5217;"><a name="&#x53CC;&#x7AEF;&#x961F;&#x5217;" class="anchor-navigation-ex-anchor" href="#&#x53CC;&#x7AEF;&#x961F;&#x5217;"><i class="fa fa-link" aria-hidden="true"></i></a>1.11.2. &#x53CC;&#x7AEF;&#x961F;&#x5217;</h3>
<p><strong>Deque</strong> &#xFF08;&#x53CC;&#x7AEF;&#x961F;&#x5217;&#xFF09;&#x5C31;&#x50CF;&#x4E00;&#x4E2A;&#x961F;&#x5217;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x4EE5;&#x4ECE;&#x4EFB;&#x4E00;&#x7AEF;&#x6DFB;&#x52A0;&#x548C;&#x5220;&#x9664;&#x5143;&#x7D20;&#x3002; Java 6&#x4E3A; <strong>Deque</strong> &#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E2A;&#x663E;&#x5F0F;&#x63A5;&#x53E3;&#x3002;&#x4EE5;&#x4E0B;&#x662F;&#x5BF9;&#x5B9E;&#x73B0;&#x4E86; <strong>Deque</strong> &#x7684;&#x7C7B;&#x7684;&#x6700;&#x57FA;&#x672C;&#x7684; <strong>Deque</strong> &#x65B9;&#x6CD5;&#x7684;&#x6D4B;&#x8BD5;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/SimpleDeques.java</span>
<span class="token comment">// Very basic test of Deques</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>function<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">CountString</span> <span class="token keyword">implements</span> <span class="token class-name">Supplier</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  <span class="token class-name">CountString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
  <span class="token class-name">CountString</span><span class="token punctuation">(</span><span class="token keyword">int</span> start<span class="token punctuation">)</span> <span class="token punctuation">{</span> n <span class="token operator">=</span> start<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>n<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SimpleDeques</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Deque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> deque<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">CountString</span> s1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CountString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                s2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CountString</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> n <span class="token operator">&lt;</span> <span class="token number">8</span><span class="token punctuation">;</span> n<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        deque<span class="token punctuation">.</span><span class="token function">offerFirst</span><span class="token punctuation">(</span>s1<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        deque<span class="token punctuation">.</span><span class="token function">offerLast</span><span class="token punctuation">(</span>s2<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Same as offer()</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>deque<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> result <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>deque<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>deque<span class="token punctuation">.</span><span class="token function">peekFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      result <span class="token operator">+=</span> deque<span class="token punctuation">.</span><span class="token function">pollFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>deque<span class="token punctuation">.</span><span class="token function">peekLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      result <span class="token operator">+=</span> deque<span class="token punctuation">.</span><span class="token function">pollLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span> <span class="token operator">+</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;LinkedList&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ArrayDeque&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;LinkedBlockingDeque&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedBlockingDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ConcurrentLinkedDeque&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ConcurrentLinkedDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
LinkedList
[7, 6, 5, 4, 3, 2, 1, 0, 20, 21, 22, 23, 24, 25, 26,
27]
7 27 6 26 5 25 4 24 3 23 2 22 1 21 0 20
7 27 6 26 5 25 4 24 3 23 2 22 1 21 0 20
ArrayDeque
[7, 6, 5, 4, 3, 2, 1, 0, 20, 21, 22, 23, 24, 25, 26,
27]
7 27 6 26 5 25 4 24 3 23 2 22 1 21 0 20
7 27 6 26 5 25 4 24 3 23 2 22 1 21 0 20
LinkedBlockingDeque
[4, 3, 2, 1, 0, 20, 21, 22, 23, 24]
4 24 3 23 2 22 1 21 0 20
4 24 3 23 2 22 1 21 0 20
ConcurrentLinkedDeque
[7, 6, 5, 4, 3, 2, 1, 0, 20, 21, 22, 23, 24, 25, 26,
27]
7 27 6 26 5 25 4 24 3 23 2 22 1 21 0 20
7 27 6 26 5 25 4 24 3 23 2 22 1 21 0 20
*/</span>
</code></pre>
<p>&#x6211;&#x53EA;&#x4F7F;&#x7528;&#x4E86; <strong>Deque</strong> &#x65B9;&#x6CD5;&#x7684;&#x201C;offer&#x201D;&#x548C;&#x201C;poll&#x201D;&#x7248;&#x672C;&#xFF0C;&#x56E0;&#x4E3A;&#x5F53; <strong>LinkedBlockingDeque</strong> &#x7684;&#x5927;&#x5C0F;&#x6709;&#x9650;&#x65F6;&#xFF0C;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x4E0D;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#x3002;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C; <strong>LinkedBlockingDeque</strong> &#x4EC5;&#x586B;&#x5145;&#x5230;&#x5B83;&#x7684;&#x9650;&#x5236;&#x5927;&#x5C0F;&#x4E3A;&#x6B62;&#xFF0C;&#x7136;&#x540E;&#x5FFD;&#x7565;&#x989D;&#x5916;&#x7684;&#x6DFB;&#x52A0;&#x3002;</p>
<!-- Understanding Maps -->
<h2 id="&#x7406;&#x89E3;map"><a name="&#x7406;&#x89E3;map" class="anchor-navigation-ex-anchor" href="#&#x7406;&#x89E3;map"><i class="fa fa-link" aria-hidden="true"></i></a>1.12. &#x7406;&#x89E3;Map</h2>
<p>&#x6B63;&#x5982;&#x5728;<a href="">&#x7B2C;&#x5341;&#x4E8C;&#x7AE0; &#x96C6;&#x5408;</a>&#x7AE0;&#x8282;&#x4E2D;&#x6240;&#x4E86;&#x89E3;&#x5230;&#x7684;&#xFF0C;<strong>Map</strong>&#xFF08;&#x4E5F;&#x79F0;&#x4E3A; <em>&#x5173;&#x8054;&#x6570;&#x7EC4;</em> &#xFF09;&#x7EF4;&#x62A4;&#x952E;&#x503C;&#x5173;&#x8054;&#xFF08;&#x5BF9;&#xFF09;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x952E;&#x6765;&#x67E5;&#x627E;&#x503C;&#x3002;&#x6807;&#x51C6; Java &#x5E93;&#x5305;&#x542B;&#x4E0D;&#x540C;&#x7684; <strong>Map</strong> &#x57FA;&#x672C;&#x5B9E;&#x73B0;&#xFF0C;&#x4F8B;&#x5982; <strong>HashMap</strong> &#xFF0C; <strong>TreeMap</strong> &#xFF0C; <strong>LinkedHashMap</strong> &#xFF0C; <strong>WeakHashMap</strong> &#xFF0C; <strong>ConcurrentHashMap</strong> &#x548C; <strong>IdentityHashMap</strong> &#x3002; &#x5B83;&#x4EEC;&#x90FD;&#x5177;&#x6709;&#x76F8;&#x540C;&#x7684;&#x57FA;&#x672C; <strong>Map</strong> &#x63A5;&#x53E3;&#xFF0C;&#x4F46;&#x5B83;&#x4EEC;&#x7684;&#x884C;&#x4E3A;&#x4E0D;&#x540C;&#xFF0C;&#x5305;&#x62EC;&#x6548;&#x7387;&#xFF0C;&#x952E;&#x503C;&#x5BF9;&#x7684;&#x4FDD;&#x5B58;&#x987A;&#x5E8F;&#x548C;&#x5448;&#x73B0;&#x987A;&#x5E8F;&#xFF0C;&#x4FDD;&#x5B58;&#x5BF9;&#x8C61;&#x7684;&#x65F6;&#x95F4;&#xFF0C;&#x5982;&#x4F55;&#x5728;&#x591A;&#x7EBF;&#x7A0B;&#x7A0B;&#x5E8F;&#x4E2D;&#x5DE5;&#x4F5C;&#xFF0C;&#x4EE5;&#x53CA;&#x5982;&#x4F55;&#x786E;&#x5B9A;&#x952E;&#x7684;&#x76F8;&#x7B49;&#x6027;&#x3002; <strong>Map</strong> &#x63A5;&#x53E3;&#x7684;&#x5B9E;&#x73B0;&#x6570;&#x91CF;&#x5E94;&#x8BE5;&#x544A;&#x8BC9;&#x4F60;&#x4E00;&#x4E9B;&#x5173;&#x4E8E;&#x6B64;&#x5DE5;&#x5177;&#x91CD;&#x8981;&#x6027;&#x7684;&#x4FE1;&#x606F;&#x3002;</p>
<p>&#x4E3A;&#x4E86;&#x66F4;&#x6DF1;&#x5165;&#x5730;&#x4E86;&#x89E3; <strong>Map</strong> &#xFF0C;&#x5B66;&#x4E60;&#x5982;&#x4F55;&#x6784;&#x9020;&#x5173;&#x8054;&#x6570;&#x7EC4;&#x4F1A;&#x5F88;&#x6709;&#x5E2E;&#x52A9;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x7684;&#x5B9E;&#x73B0;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/AssociativeArray.java</span>
<span class="token comment">// Associates keys with values</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AssociativeArray</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span> <span class="token class-name">V</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token punctuation">]</span> pairs<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">int</span> index<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">AssociativeArray</span><span class="token punctuation">(</span><span class="token keyword">int</span> length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    pairs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span>length<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">put</span><span class="token punctuation">(</span><span class="token class-name">K</span> key<span class="token punctuation">,</span> <span class="token class-name">V</span> value<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>index <span class="token operator">&gt;=</span> pairs<span class="token punctuation">.</span>length<span class="token punctuation">)</span>
      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">ArrayIndexOutOfBoundsException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    pairs<span class="token punctuation">[</span>index<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">{</span> key<span class="token punctuation">,</span> value <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token string">&quot;unchecked&quot;</span><span class="token punctuation">)</span>
  <span class="token keyword">public</span> <span class="token class-name">V</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">K</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> index<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>key<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>pairs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token class-name">V</span><span class="token punctuation">)</span>pairs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// Did not find key</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">StringBuilder</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> index<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>pairs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot; : &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>pairs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">&lt;</span> index <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span>
        result<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span><span class="token string">&quot;\n&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> result<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">AssociativeArray</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">AssociativeArray</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;sky&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;blue&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;grass&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;green&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;ocean&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;dancing&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;tree&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tall&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;earth&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;brown&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;sun&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;warm&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;extra&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Past the end</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">ArrayIndexOutOfBoundsException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Too many objects!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;ocean&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
Too many objects!
sky : blue
grass : green
ocean : dancing
tree : tall
earth : brown
sun : warm
dancing
*/</span>
</code></pre>
<p>&#x5173;&#x8054;&#x6570;&#x7EC4;&#x4E2D;&#x7684;&#x57FA;&#x672C;&#x65B9;&#x6CD5;&#x662F; <code>put()</code> &#x548C; <code>get()</code> &#xFF0C;&#x4F46;&#x4E3A;&#x4E86;&#x4FBF;&#x4E8E;&#x663E;&#x793A;&#xFF0C;&#x91CD;&#x5199;&#x4E86; <code>toString()</code> &#x65B9;&#x6CD5;&#x4EE5;&#x6253;&#x5370;&#x952E;&#x503C;&#x5BF9;&#x3002;&#x4E3A;&#x4E86;&#x663E;&#x793A;&#x5B83;&#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#xFF0C;&#x4E3B;&#x65B9;&#x6CD5;&#x52A0;&#x8F7D;&#x4E00;&#x4E2A;&#x5E26;&#x6709;&#x5B57;&#x7B26;&#x4E32;&#x5BF9;&#x7684; <strong>AssociativeArray</strong> &#x5E76;&#x6253;&#x5370;&#x751F;&#x6210;&#x7684;&#x6620;&#x5C04;&#xFF0C;&#x7136;&#x540E;&#x8C03;&#x7528;&#x5176;&#x4E2D;&#x4E00;&#x4E2A;&#x503C;&#x7684; <code>get()</code> &#x65B9;&#x6CD5;&#x3002;</p>
<p>&#x8981;&#x4F7F;&#x7528; <code>get()</code> &#x65B9;&#x6CD5;&#xFF0C;&#x53EF;&#x4EE5;&#x4F20;&#x5165;&#x8981;&#x67E5;&#x627E;&#x7684; <strong>key</strong> &#xFF0C;&#x5B83;&#x5C06;&#x751F;&#x6210;&#x76F8;&#x5173;&#x8054;&#x7684;&#x503C;&#x4F5C;&#x4E3A;&#x7ED3;&#x679C;&#xFF0C;&#x5982;&#x679C;&#x627E;&#x4E0D;&#x5230;&#x5219;&#x8FD4;&#x56DE; <strong>null</strong> &#x3002; <code>get()</code> &#x65B9;&#x6CD5;&#x4F7F;&#x7528;&#x53EF;&#x80FD;&#x662F;&#x6548;&#x7387;&#x6700;&#x4F4E;&#x7684;&#x65B9;&#x6CD5;&#x6765;&#x5B9A;&#x4F4D;&#x503C;&#xFF1A;&#x4ECE;&#x6570;&#x7EC4;&#x7684;&#x5934;&#x90E8;&#x5F00;&#x59CB;&#x5E76;&#x4F7F;&#x7528; <code>equals()</code> &#x6765;&#x6BD4;&#x8F83;&#x952E;&#x3002;&#x4F46;&#x8FD9;&#x91CC;&#x662F;&#x4FA7;&#x91CD;&#x4E8E;&#x7B80;&#x5355;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x6548;&#x7387;&#x3002;</p>
<p>&#x8FD9;&#x4E2A;&#x7248;&#x672C;&#x5F88;&#x6709;&#x542F;&#x53D1;&#x6027;&#xFF0C;&#x4F46;&#x5B83;&#x4E0D;&#x662F;&#x5F88;&#x6709;&#x6548;&#xFF0C;&#x800C;&#x4E14;&#x5B83;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x56FA;&#x5B9A;&#x7684;&#x5927;&#x5C0F;&#xFF0C;&#x8FD9;&#x662F;&#x4E0D;&#x7075;&#x6D3B;&#x7684;&#x3002;&#x5E78;&#x8FD0;&#x7684;&#x662F;&#xFF0C; <strong>java.util</strong> &#x4E2D;&#x7684;&#x90A3;&#x4E9B; <strong>Map</strong> &#x6CA1;&#x6709;&#x8FD9;&#x4E9B;&#x95EE;&#x9898;&#x3002;</p>
<!-- Performance -->
<h3 id="&#x6027;&#x80FD;"><a name="&#x6027;&#x80FD;" class="anchor-navigation-ex-anchor" href="#&#x6027;&#x80FD;"><i class="fa fa-link" aria-hidden="true"></i></a>1.12.1. &#x6027;&#x80FD;</h3>
<p>&#x6027;&#x80FD;&#x662F; <strong>Map</strong> &#x7684;&#x57FA;&#x672C;&#x95EE;&#x9898;&#xFF0C;&#x5728; <code>get()</code> &#x4E2D;&#x4F7F;&#x7528;&#x7EBF;&#x6027;&#x65B9;&#x6CD5;&#x641C;&#x7D22;&#x4E00;&#x4E2A;&#x952E;&#x65F6;&#x4F1A;&#x975E;&#x5E38;&#x6162;&#x3002;&#x8FD9;&#x5C31;&#x662F; <strong>HashMap</strong> &#x8981;&#x52A0;&#x901F;&#x7684;&#x5730;&#x65B9;&#x3002;&#x5B83;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x79F0;&#x4E3A; <em>&#x54C8;&#x5E0C;&#x7801;</em> &#x7684;&#x7279;&#x6B8A;&#x503C;&#x6765;&#x66FF;&#x4EE3;&#x6162;&#x901F;&#x641C;&#x7D22;&#x4E00;&#x4E2A;&#x952E;&#x3002;&#x54C8;&#x5E0C;&#x7801;&#x662F;&#x4E00;&#x79CD;&#x4ECE;&#x76F8;&#x5173;&#x5BF9;&#x8C61;&#x4E2D;&#x83B7;&#x53D6;&#x4E00;&#x4E9B;&#x4FE1;&#x606F;&#x5E76;&#x5C06;&#x5176;&#x8F6C;&#x6362;&#x4E3A;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x201C;&#x76F8;&#x5BF9;&#x552F;&#x4E00;&#x201D; <strong>int</strong> &#x7684;&#x65B9;&#x6CD5;&#x3002; <code>hashCode()</code> &#x662F;&#x6839;&#x7C7B; <strong>Object</strong> &#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x56E0;&#x6B64;&#x6240;&#x6709; Java &#x5BF9;&#x8C61;&#x90FD;&#x53EF;&#x4EE5;&#x751F;&#x6210;&#x54C8;&#x5E0C;&#x7801;&#x3002; <strong>HashMap</strong> &#x83B7;&#x53D6;&#x5BF9;&#x8C61;&#x7684; <code>hashCode()</code> &#x5E76;&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x5FEB;&#x901F;&#x641C;&#x7D22;&#x952E;&#x3002;&#x8FD9;&#x5C31;&#x4F7F;&#x5F97;&#x6027;&#x80FD;&#x6709;&#x4E86;&#x663E;&#x8457;&#x7684;&#x63D0;&#x5347;&#x3002;<sup><a href="#fn_3" id="reffn_3">3</a></sup></p>
<p>&#x4EE5;&#x4E0B;&#x662F;&#x57FA;&#x672C;&#x7684; <strong>Map</strong> &#x5B9E;&#x73B0;&#x3002; <strong>HashMap</strong>&#x4E0A;&#x7684;&#x661F;&#x53F7;&#x8868;&#x793A;&#xFF0C;&#x5728;&#x6CA1;&#x6709;&#x5176;&#x4ED6;&#x7EA6;&#x675F;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x8FD9;&#x5E94;&#x8BE5;&#x662F;&#x4F60;&#x7684;&#x9ED8;&#x8BA4;&#x9009;&#x62E9;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x9488;&#x5BF9;&#x901F;&#x5EA6;&#x8FDB;&#x884C;&#x4E86;&#x4F18;&#x5316;&#x3002;&#x5176;&#x4ED6;&#x5B9E;&#x73B0;&#x5F3A;&#x8C03;&#x5176;&#x4ED6;&#x7279;&#x6027;&#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x5982; <strong>HashMap</strong> &#x5FEB;&#x3002;</p>
<table>
<thead>
<tr>
<th style="text-align:center"><strong>Map</strong> &#x5B9E;&#x73B0;</th>
<th style="text-align:left">&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><strong>HashMap*</strong></td>
<td style="text-align:left">&#x57FA;&#x4E8E;&#x54C8;&#x5E0C;&#x8868;&#x7684;&#x5B9E;&#x73B0;&#x3002;&#xFF08;&#x4F7F;&#x7528;&#x6B64;&#x7C7B;&#x6765;&#x4EE3;&#x66FF; <strong>Hashtable</strong> &#x3002;&#xFF09;&#x4E3A;&#x63D2;&#x5165;&#x548C;&#x5B9A;&#x4F4D;&#x952E;&#x503C;&#x5BF9;&#x63D0;&#x4F9B;&#x4E86;&#x5E38;&#x6570;&#x65F6;&#x95F4;&#x6027;&#x80FD;&#x3002;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x8C03;&#x6574;&#x6027;&#x80FD;&#xFF0C;&#x8FD9;&#x4E9B;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x5141;&#x8BB8;&#x4F60;&#x8BBE;&#x7F6E;&#x54C8;&#x5E0C;&#x8868;&#x7684;&#x5BB9;&#x91CF;&#x548C;&#x88C5;&#x586B;&#x56E0;&#x5B50;&#x3002;</td>
</tr>
<tr>
<td style="text-align:center"><strong>LinkedHashMap</strong></td>
<td style="text-align:left">&#x4E0E; <strong>HashMap</strong> &#x7C7B;&#x4F3C;&#xFF0C;&#x4F46;&#x662F;&#x5F53;&#x904D;&#x5386;&#x65F6;&#xFF0C;&#x53EF;&#x4EE5;&#x6309;&#x63D2;&#x5165;&#x987A;&#x5E8F;&#x6216;&#x6700;&#x8FD1;&#x6700;&#x5C11;&#x4F7F;&#x7528;&#xFF08;LRU&#xFF09;&#x987A;&#x5E8F;&#x83B7;&#x53D6;&#x952E;&#x503C;&#x5BF9;&#x3002;&#x53EA;&#x6BD4; <strong>HashMap</strong> &#x7565;&#x6162;&#xFF0C;&#x4E00;&#x4E2A;&#x4F8B;&#x5916;&#x662F;&#x5728;&#x8FED;&#x4EE3;&#x65F6;&#xFF0C;&#x7531;&#x4E8E;&#x5176;&#x4F7F;&#x7528;&#x94FE;&#x8868;&#x7EF4;&#x62A4;&#x5185;&#x90E8;&#x987A;&#x5E8F;&#xFF0C;&#x6240;&#x4EE5;&#x4F1A;&#x66F4;&#x5FEB;&#x4E9B;&#x3002;</td>
</tr>
<tr>
<td style="text-align:center"><strong>TreeMap</strong></td>
<td style="text-align:left">&#x57FA;&#x4E8E;&#x7EA2;&#x9ED1;&#x6811;&#x7684;&#x5B9E;&#x73B0;&#x3002;&#x5F53;&#x67E5;&#x770B;&#x952E;&#x6216;&#x952E;&#x503C;&#x5BF9;&#x65F6;&#xFF0C;&#x5B83;&#x4EEC;&#x6309;&#x6392;&#x5E8F;&#x987A;&#x5E8F;&#xFF08;&#x7531; <strong>Comparable</strong> &#x6216; <strong>Comparator</strong> &#x786E;&#x5B9A;&#xFF09;&#x3002; <strong>TreeMap</strong> &#x7684;&#x4FA7;&#x91CD;&#x70B9;&#x662F;&#x6309;&#x6392;&#x5E8F;&#x987A;&#x5E8F;&#x83B7;&#x5F97;&#x7ED3;&#x679C;&#x3002; <strong>TreeMap</strong> &#x662F;&#x552F;&#x4E00;&#x4F7F;&#x7528; <code>subMap()</code> &#x65B9;&#x6CD5;&#x7684; <strong>Map</strong> &#xFF0C;&#x5B83;&#x8FD4;&#x56DE;&#x7EA2;&#x9ED1;&#x6811;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;</td>
</tr>
<tr>
<td style="text-align:center"><strong>WeakHashMap</strong></td>
<td style="text-align:left">&#x4E00;&#x79CD;&#x5177;&#x6709; <em>&#x5F31;&#x952E;</em>&#xFF08;weak keys&#xFF09; &#x7684; <strong>Map</strong> &#xFF0C;&#x4E3A;&#x4E86;&#x89E3;&#x51B3;&#x67D0;&#x4E9B;&#x7C7B;&#x578B;&#x7684;&#x95EE;&#x9898;&#xFF0C;&#x5B83;&#x5141;&#x8BB8;&#x91CA;&#x653E; <strong>Map</strong> &#x6240;&#x5F15;&#x7528;&#x7684;&#x5BF9;&#x8C61;&#x3002;&#x5982;&#x679C;&#x5728; <strong>Map</strong> &#x5916;&#x6CA1;&#x6709;&#x5BF9;&#x7279;&#x5B9A;&#x952E;&#x7684;&#x5F15;&#x7528;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x5BF9;&#x8BE5;&#x952E;&#x8FDB;&#x884C;&#x5783;&#x573E;&#x56DE;&#x6536;&#x3002;</td>
</tr>
<tr>
<td style="text-align:center"><strong>ConcurrentHashMap</strong></td>
<td style="text-align:left">&#x4E0D;&#x4F7F;&#x7528;&#x540C;&#x6B65;&#x9501;&#x5B9A;&#x7684;&#x7EBF;&#x7A0B;&#x5B89;&#x5168; <strong>Mao</strong> &#x3002;&#x8FD9;&#x5728;<a href="">&#x7B2C;&#x4E8C;&#x5341;&#x56DB;&#x7AE0; &#x5E76;&#x53D1;&#x7F16;&#x7A0B;</a> &#x4E00;&#x7AE0;&#x4E2D;&#x8BA8;&#x8BBA;&#x3002;</td>
</tr>
<tr>
<td style="text-align:center"><strong>IdentityHashMap</strong></td>
<td style="text-align:left">&#x4F7F;&#x7528; <code>==</code> &#x800C;&#x4E0D;&#x662F; <code>equals()</code> &#x6765;&#x6BD4;&#x8F83;&#x952E;&#x3002;&#x4EC5;&#x7528;&#x4E8E;&#x89E3;&#x51B3;&#x7279;&#x6B8A;&#x95EE;&#x9898;&#xFF0C;&#x4E0D;&#x9002;&#x7528;&#x4E8E;&#x4E00;&#x822C;&#x7528;&#x9014;&#x3002;</td>
</tr>
</tbody>
</table>
<p>&#x6563;&#x5217;&#x662F;&#x5728; <strong>Map</strong> &#x4E2D;&#x5B58;&#x50A8;&#x5143;&#x7D20;&#x7684;&#x6700;&#x5E38;&#x7528;&#x65B9;&#x6CD5;&#x3002;</p>
<p><strong>Map</strong> &#x4E2D;&#x4F7F;&#x7528;&#x7684;&#x952E;&#x7684;&#x8981;&#x6C42;&#x4E0E; <strong>Set</strong> &#x4E2D;&#x7684;&#x5143;&#x7D20;&#x7684;&#x8981;&#x6C42;&#x76F8;&#x540C;&#x3002;&#x53EF;&#x4EE5;&#x5728; <strong>TypesForSets.java</strong> &#x4E2D;&#x770B;&#x5230;&#x8FD9;&#x4E9B;&#x3002;&#x4EFB;&#x4F55;&#x952E;&#x5FC5;&#x987B;&#x5177;&#x6709; <code>equals()</code> &#x65B9;&#x6CD5;&#x3002;&#x5982;&#x679C;&#x952E;&#x7528;&#x4E8E;&#x6563;&#x5217;&#x6620;&#x5C04;&#xFF0C;&#x5219;&#x5B83;&#x8FD8;&#x5FC5;&#x987B;&#x5177;&#x6709;&#x6B63;&#x786E;&#x7684; <code>hashCode()</code> &#x65B9;&#x6CD5;&#x3002;&#x5982;&#x679C;&#x952E;&#x5728; <strong>TreeMap</strong> &#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x5B9E;&#x73B0; <strong>Comparable</strong> &#x63A5;&#x53E3;&#x3002;</p>
<p>&#x4EE5;&#x4E0B;&#x793A;&#x4F8B;&#x4F7F;&#x7528;&#x5148;&#x524D;&#x5B9A;&#x4E49;&#x7684; <strong>CountMap</strong> &#x6D4B;&#x8BD5;&#x6570;&#x636E;&#x96C6;&#x663E;&#x793A;&#x901A;&#x8FC7; <strong>Map</strong> &#x63A5;&#x53E3;&#x53EF;&#x7528;&#x7684;&#x64CD;&#x4F5C;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/MapOps.java</span>
<span class="token comment">// Things you can do with Maps</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MapOps</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span>
  <span class="token keyword">void</span> <span class="token function">printKeys</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Size = &quot;</span> <span class="token operator">+</span> map<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Keys: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Produce a Set of the keys:</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span>
  <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> map<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      map<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">putAll</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CountMap</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Map has &apos;Set&apos; behavior for keys:</span>
    map<span class="token punctuation">.</span><span class="token function">putAll</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CountMap</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printKeys</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Producing a Collection of the values:</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&quot;Values: &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;map.containsKey(11): &quot;</span> <span class="token operator">+</span>
      map<span class="token punctuation">.</span><span class="token function">containsKey</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;map.get(11): &quot;</span> <span class="token operator">+</span> map<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;map.containsValue(\&quot;F0\&quot;): &quot;</span>
      <span class="token operator">+</span> map<span class="token punctuation">.</span><span class="token function">containsValue</span><span class="token punctuation">(</span><span class="token string">&quot;F0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Integer</span> key <span class="token operator">=</span> map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;First key in map: &quot;</span> <span class="token operator">+</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printKeys</span><span class="token punctuation">(</span>map<span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;map.isEmpty(): &quot;</span> <span class="token operator">+</span> map<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    map<span class="token punctuation">.</span><span class="token function">putAll</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CountMap</span><span class="token punctuation">(</span><span class="token number">25</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Operations on the Set change the Map:</span>
    map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeAll</span><span class="token punctuation">(</span>map<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;map.isEmpty(): &quot;</span> <span class="token operator">+</span> map<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IdentityHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ConcurrentHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">test</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WeakHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output: (First 11 Lines)
HashMap
Size = 25, Keys: [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,
12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24]
Values: [A0, B0, C0, D0, E0, F0, G0, H0, I0, J0, K0,
L0, M0, N0, O0, P0, Q0, R0, S0, T0, U0, V0, W0, X0, Y0]
{0=A0, 1=B0, 2=C0, 3=D0, 4=E0, 5=F0, 6=G0, 7=H0, 8=I0,
9=J0, 10=K0, 11=L0, 12=M0, 13=N0, 14=O0, 15=P0, 16=Q0,
17=R0, 18=S0, 19=T0, 20=U0, 21=V0, 22=W0, 23=X0, 24=Y0}
map.containsKey(11): true
map.get(11): L0
map.containsValue(&quot;F0&quot;): true
First key in map: 0
Size = 24, Keys: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11,
12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24]
map.isEmpty(): true
map.isEmpty(): true
                  ...
*/</span>
</code></pre>
<p><code>printKeys()</code> &#x65B9;&#x6CD5;&#x6F14;&#x793A;&#x4E86;&#x5982;&#x4F55;&#x751F;&#x6210; <strong>Map</strong> &#x7684; <strong>Collection</strong> &#x89C6;&#x56FE;&#x3002; <code>keySet()</code> &#x65B9;&#x6CD5;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x7531; <strong>Map</strong> &#x4E2D;&#x7684;&#x952E;&#x7EC4;&#x6210;&#x7684; <strong>Set</strong> &#x3002; &#x6253;&#x5370; <code>values()</code> &#x65B9;&#x6CD5;&#x7684;&#x7ED3;&#x679C;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x5305;&#x542B; <strong>Map</strong> &#x4E2D;&#x6240;&#x6709;&#x503C;&#x7684; <strong>Collection</strong> &#x3002;&#xFF08;&#x8BF7;&#x6CE8;&#x610F;&#xFF0C;&#x952E;&#x5FC5;&#x987B;&#x662F;&#x552F;&#x4E00;&#x7684;&#xFF0C;&#x4F46;&#x503C;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x91CD;&#x590D;&#x9879;&#x3002;&#xFF09;&#x7531;&#x4E8E;&#x8FD9;&#x4E9B; <strong>Collection</strong> &#x7531; <strong>Map</strong> &#x652F;&#x6301;&#xFF0C;&#x56E0;&#x6B64; <strong>Collection</strong> &#x4E2D;&#x7684;&#x4EFB;&#x4F55;&#x66F4;&#x6539;&#x90FD;&#x4F1A;&#x53CD;&#x6620;&#x5728;&#x6240;&#x5173;&#x8054;&#x7684; <strong>Map</strong> &#x4E2D;&#x3002;</p>
<p>&#x7A0B;&#x5E8F;&#x7684;&#x5176;&#x4F59;&#x90E8;&#x5206;&#x63D0;&#x4F9B;&#x4E86;&#x6BCF;&#x4E2A; <strong>Map</strong> &#x64CD;&#x4F5C;&#x7684;&#x7B80;&#x5355;&#x793A;&#x4F8B;&#xFF0C;&#x5E76;&#x6D4B;&#x8BD5;&#x4E86;&#x6BCF;&#x79CD;&#x57FA;&#x672C;&#x7C7B;&#x578B;&#x7684; <strong>Map</strong> &#x3002;</p>
<!-- SortedMap -->
<h3 id="sortedmap"><a name="sortedmap" class="anchor-navigation-ex-anchor" href="#sortedmap"><i class="fa fa-link" aria-hidden="true"></i></a>1.12.2. SortedMap</h3>
<p>&#x4F7F;&#x7528; <strong>SortedMap</strong> &#xFF08;&#x7531; <strong>TreeMap</strong> &#x6216; <strong>ConcurrentSkipListMap</strong> &#x5B9E;&#x73B0;&#xFF09;&#xFF0C;&#x952E;&#x4FDD;&#x8BC1;&#x6309;&#x6392;&#x5E8F;&#x987A;&#x5E8F;&#xFF0C;&#x8FD9;&#x5141;&#x8BB8;&#x5728; <strong>SortedMap</strong> &#x63A5;&#x53E3;&#x4E2D;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x6765;&#x63D0;&#x4F9B;&#x5176;&#x4ED6;&#x529F;&#x80FD;&#xFF1A;</p>
<ul>
<li><code>Comparator comparator()</code> &#xFF1A;&#x751F;&#x6210;&#x7528;&#x4E8E;&#x6B64; <strong>Map</strong> &#x7684;&#x6BD4;&#x8F83;&#x5668;&#xFF0C; <strong>null</strong> &#x8868;&#x793A;&#x81EA;&#x7136;&#x6392;&#x5E8F;&#x3002;</li>
<li><code>T firstKey()</code> &#xFF1A;&#x8FD4;&#x56DE;&#x7B2C;&#x4E00;&#x4E2A;&#x952E;&#x3002;</li>
<li><code>T lastKey()</code> &#xFF1A;&#x8FD4;&#x56DE;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x952E;&#x3002;</li>
<li><code>SortedMap subMap(fromKey&#xFF0C;toKey)</code> &#xFF1A;&#x751F;&#x6210;&#x6B64; <strong>Map</strong> &#x7684;&#x89C6;&#x56FE;&#xFF0C;&#x5176;&#x4E2D;&#x952E;&#x4ECE; <strong>fromKey</strong>&#xFF08;&#x5305;&#x62EC;&#xFF09;&#xFF0C;&#x5230; <strong>toKey</strong> &#xFF08;&#x4E0D;&#x5305;&#x62EC;&#xFF09;&#x3002;</li>
<li><code>SortedMap headMap(toKey)</code> &#xFF1A;&#x4F7F;&#x7528;&#x5C0F;&#x4E8E; <strong>toKey</strong> &#x7684;&#x952E;&#x751F;&#x6210;&#x6B64; <strong>Map</strong> &#x7684;&#x89C6;&#x56FE;&#x3002;</li>
<li><code>SortedMap tailMap(fromKey)</code> &#xFF1A;&#x4F7F;&#x7528;&#x5927;&#x4E8E;&#x6216;&#x7B49;&#x4E8E; <strong>fromKey</strong> &#x7684;&#x952E;&#x751F;&#x6210;&#x6B64; <strong>Map</strong> &#x7684;&#x89C6;&#x56FE;&#x3002;</li>
</ul>
<p>&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x7C7B;&#x4F3C;&#x4E8E; <strong>SortedSetDemo.java</strong> &#x7684;&#x793A;&#x4F8B;&#xFF0C;&#x663E;&#x793A;&#x4E86; <strong>TreeMap</strong> &#x7684;&#x8FD9;&#x79CD;&#x989D;&#x5916;&#x884C;&#x4E3A;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/SortedMapDemo.java</span>
<span class="token comment">// What you can do with a TreeMap</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SortedMapDemo</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sortedMap <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CountMap</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sortedMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Integer</span> low <span class="token operator">=</span> sortedMap<span class="token punctuation">.</span><span class="token function">firstKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Integer</span> high <span class="token operator">=</span> sortedMap<span class="token punctuation">.</span><span class="token function">lastKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>low<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>high<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span>
      sortedMap<span class="token punctuation">.</span><span class="token function">keySet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">3</span><span class="token punctuation">)</span> low <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">==</span> <span class="token number">6</span><span class="token punctuation">)</span> high <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">else</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>low<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>high<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sortedMap<span class="token punctuation">.</span><span class="token function">subMap</span><span class="token punctuation">(</span>low<span class="token punctuation">,</span> high<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sortedMap<span class="token punctuation">.</span><span class="token function">headMap</span><span class="token punctuation">(</span>high<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sortedMap<span class="token punctuation">.</span><span class="token function">tailMap</span><span class="token punctuation">(</span>low<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
{0=A0, 1=B0, 2=C0, 3=D0, 4=E0, 5=F0, 6=G0, 7=H0, 8=I0,
9=J0}
0
9
3
7
{3=D0, 4=E0, 5=F0, 6=G0}
{0=A0, 1=B0, 2=C0, 3=D0, 4=E0, 5=F0, 6=G0}
{3=D0, 4=E0, 5=F0, 6=G0, 7=H0, 8=I0, 9=J0}
*/</span>
</code></pre>
<p>&#x8FD9;&#x91CC;&#xFF0C;&#x952E;&#x503C;&#x5BF9;&#x6309;&#x7167;&#x952E;&#x7684;&#x6392;&#x5E8F;&#x987A;&#x5E8F;&#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x3002;&#x56E0;&#x4E3A; <strong>TreeMap</strong> &#x4E2D;&#x5B58;&#x5728;&#x987A;&#x5E8F;&#x611F;&#xFF0C;&#x6240;&#x4EE5;&#x201C;&#x4F4D;&#x7F6E;&#x201D;&#x7684;&#x6982;&#x5FF5;&#x5F88;&#x6709;&#x610F;&#x4E49;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x62E5;&#x6709;&#x7B2C;&#x4E00;&#x4E2A;&#x3001;&#x6700;&#x540E;&#x4E00;&#x4E2A;&#x5143;&#x7D20;&#x6216;&#x5B50;&#x56FE;&#x3002;</p>
<!-- LinkedHashMap -->
<h3 id="linkedhashmap"><a name="linkedhashmap" class="anchor-navigation-ex-anchor" href="#linkedhashmap"><i class="fa fa-link" aria-hidden="true"></i></a>1.12.3. LinkedHashMap</h3>
<p><strong>LinkedHashMap</strong> &#x9488;&#x5BF9;&#x901F;&#x5EA6;&#x8FDB;&#x884C;&#x54C8;&#x5E0C;&#x5904;&#x7406;&#xFF0C;&#x4F46;&#x5728;&#x904D;&#x5386;&#x671F;&#x95F4;&#x4E5F;&#x4F1A;&#x6309;&#x63D2;&#x5165;&#x987A;&#x5E8F;&#x751F;&#x6210;&#x952E;&#x503C;&#x5BF9;&#xFF08; <code>System.out.println()</code> &#x53EF;&#x4EE5;&#x904D;&#x5386;&#x5B83;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x904D;&#x5386;&#x7684;&#x7ED3;&#x679C;&#xFF09;&#x3002; &#x6B64;&#x5916;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x6784;&#x9020;&#x65B9;&#x6CD5;&#x4E2D;&#x914D;&#x7F6E; <strong>LinkedHashMap</strong> &#x4EE5;&#x4F7F;&#x7528;&#x57FA;&#x4E8E;&#x8BBF;&#x95EE;&#x7684; <em>&#x6700;&#x8FD1;&#x6700;&#x5C11;&#x4F7F;&#x7528;</em>&#xFF08;LRU&#xFF09; &#x7B97;&#x6CD5;&#xFF0C;&#x56E0;&#x6B64;&#x672A;&#x8BBF;&#x95EE;&#x7684;&#x5143;&#x7D20;&#xFF08;&#x56E0;&#x6B64;&#x662F;&#x5220;&#x9664;&#x7684;&#x5019;&#x9009;&#x8005;&#xFF09;&#x4F1A;&#x51FA;&#x73B0;&#x5728;&#x5217;&#x8868;&#x7684;&#x524D;&#x9762;&#x3002; &#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x8F7B;&#x677E;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x80FD;&#x591F;&#x5B9A;&#x671F;&#x6E05;&#x7406;&#x4EE5;&#x8282;&#x7701;&#x7A7A;&#x95F4;&#x7684;&#x7A0B;&#x5E8F;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x663E;&#x793A;&#x8FD9;&#x4E24;&#x4E2A;&#x529F;&#x80FD;&#x7684;&#x7B80;&#x5355;&#x793A;&#x4F8B;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/LinkedHashMapDemo.java</span>
<span class="token comment">// What you can do with a LinkedHashMap</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LinkedHashMapDemo</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> linkedMap <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CountMap</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>linkedMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Least-recently-used order:</span>
    linkedMap <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">LinkedHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">16</span><span class="token punctuation">,</span> <span class="token number">0.75f</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    linkedMap<span class="token punctuation">.</span><span class="token function">putAll</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">CountMap</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>linkedMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">6</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span>
      linkedMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>linkedMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    linkedMap<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>linkedMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
{0=A0, 1=B0, 2=C0, 3=D0, 4=E0, 5=F0, 6=G0, 7=H0, 8=I0}
{0=A0, 1=B0, 2=C0, 3=D0, 4=E0, 5=F0, 6=G0, 7=H0, 8=I0}
{6=G0, 7=H0, 8=I0, 0=A0, 1=B0, 2=C0, 3=D0, 4=E0, 5=F0}
{6=G0, 7=H0, 8=I0, 1=B0, 2=C0, 3=D0, 4=E0, 5=F0, 0=A0}
*/</span>
</code></pre>
<p>&#x8FD9;&#x4E9B;&#x952E;&#x503C;&#x5BF9;&#x786E;&#x5B9E;&#x662F;&#x6309;&#x7167;&#x63D2;&#x5165;&#x987A;&#x5E8F;&#x8FDB;&#x884C;&#x904D;&#x5386;&#xFF0C;&#x5373;&#x4F7F;&#x5BF9;&#x4E8E;LRU&#x7248;&#x672C;&#x4E5F;&#x662F;&#x5982;&#x6B64;&#x3002; &#x4F46;&#x662F;&#xFF0C;&#x5728;LRU&#x7248;&#x672C;&#x4E2D;&#x8BBF;&#x95EE;&#x524D;&#x516D;&#x9879;&#xFF08;&#x4EC5;&#x9650;&#xFF09;&#x540E;&#xFF0C;&#x6700;&#x540E;&#x4E09;&#x9879;&#x5C06;&#x79FB;&#x81F3;&#x5217;&#x8868;&#x7684;&#x524D;&#x9762;&#x3002;&#x7136;&#x540E;&#xFF0C;&#x5F53;&#x518D;&#x6B21;&#x8BBF;&#x95EE;&#x201C; <strong>0</strong> &#x201D;&#x540E;&#xFF0C;&#x5B83;&#x79FB;&#x52A8;&#x5230;&#x4E86;&#x5217;&#x8868;&#x7684;&#x540E;&#x9762;&#x3002;</p>
<!-- Utilities -->
<h2 id="&#x96C6;&#x5408;&#x5DE5;&#x5177;&#x7C7B;"><a name="&#x96C6;&#x5408;&#x5DE5;&#x5177;&#x7C7B;" class="anchor-navigation-ex-anchor" href="#&#x96C6;&#x5408;&#x5DE5;&#x5177;&#x7C7B;"><i class="fa fa-link" aria-hidden="true"></i></a>1.13. &#x96C6;&#x5408;&#x5DE5;&#x5177;&#x7C7B;</h2>
<p>&#x96C6;&#x5408;&#x6709;&#x8BB8;&#x591A;&#x72EC;&#x7ACB;&#x7684;&#x5B9E;&#x7528;&#x5DE5;&#x5177;&#x7A0B;&#x5E8F;&#xFF0C;&#x5728; <strong>java.util.Collections</strong> &#x4E2D;&#x8868;&#x793A;&#x4E3A;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x3002;&#x4E4B;&#x524D;&#x5DF2;&#x7ECF;&#x89C1;&#x8FC7;&#x5176;&#x4E2D;&#x4E00;&#x4E9B;&#xFF0C;&#x4F8B;&#x5982; <code>addAll()</code> &#xFF0C; <code>reverseOrder()</code> &#x548C; <code>binarySearch()</code> &#x3002;&#x4EE5;&#x4E0B;&#x662F;&#x5176;&#x4ED6;&#x5185;&#x5BB9;&#xFF08;&#x540C;&#x6B65;&#x548C;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684;&#x5B9E;&#x7528;&#x5DE5;&#x5177;&#x7A0B;&#x5E8F;&#x5C06;&#x5728;&#x540E;&#x9762;&#x7684;&#x7AE0;&#x8282;&#x4E2D;&#x4ECB;&#x7ECD;&#xFF09;&#x3002;&#x5728;&#x6B64;&#x8868;&#x4E2D;&#xFF0C;&#x5728;&#x9700;&#x8981;&#x7684;&#x65F6;&#x5019;&#x4F7F;&#x7528;&#x4E86;&#x6CDB;&#x578B;&#xFF1A;</p>
<table>
<thead>
<tr>
<th style="text-align:left">&#x65B9;&#x6CD5;</th>
<th style="text-align:left">&#x63CF;&#x8FF0;</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"><strong>checkedCollection(Collection\<t> c, Class\<t> type)</t></t></strong> <br><br> <strong>checkedList(List\<t> list, Class\<t> type)</t></t></strong> <br><br> <strong>checkedMap(Map\<k, v=""> m, Class\<k> keyType, Class\<v> valueType)</v></k></k,></strong> <br><br> <strong>checkedSet(Set\<t> s, Class\<t> type)</t></t></strong> <br><br> <strong>checkedSortedMap(SortedMap\<k, v=""> m, Class\<k> keyType, Class\<v> valueType)</v></k></k,></strong> <br><br> <strong>checkedSortedSet(SortedSet\<t> s, Class\<t> type)</t></t></strong></td>
<td style="text-align:left">&#x751F;&#x6210; <strong>Collection</strong> &#x7684;&#x52A8;&#x6001;&#x7C7B;&#x578B;&#x5B89;&#x5168;&#x89C6;&#x56FE;&#x6216; <strong>Collection</strong> &#x7684;&#x7279;&#x5B9A;&#x5B50;&#x7C7B;&#x578B;&#x3002; &#x5F53;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x9759;&#x6001;&#x68C0;&#x67E5;&#x7248;&#x672C;&#x65F6;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x7248;&#x672C;&#x3002; <br><br> &#x8FD9;&#x4E9B;&#x65B9;&#x6CD5;&#x7684;&#x4F7F;&#x7528;&#x5728;<a href="">&#x7B2C;&#x4E5D;&#x7AE0; &#x591A;&#x6001;</a>&#x7AE0;&#x8282;&#x7684;&#x201C;&#x52A8;&#x6001;&#x7C7B;&#x578B;&#x5B89;&#x5168;&#x201D;&#x6807;&#x9898;&#x4E0B;&#x8FDB;&#x884C;&#x4E86;&#x5C55;&#x793A;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left"><strong>max(Collection)</strong> <br><br> <strong>min(Collection)</strong></td>
<td style="text-align:left">&#x4F7F;&#x7528; <strong>Collection</strong> &#x4E2D;&#x5BF9;&#x8C61;&#x7684;&#x81EA;&#x7136;&#x6BD4;&#x8F83;&#x65B9;&#x6CD5;&#x751F;&#x6210;&#x53C2;&#x6570;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6700;&#x5927;&#x6216;&#x6700;&#x5C0F;&#x5143;&#x7D20;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left"><strong>max(Collection, Comparator)</strong> <br><br> <strong>min(Collection, Comparator)</strong></td>
<td style="text-align:left">&#x4F7F;&#x7528; <strong>Comparator</strong> &#x6307;&#x5B9A;&#x7684;&#x6BD4;&#x8F83;&#x65B9;&#x6CD5;&#x751F;&#x6210;&#x53C2;&#x6570;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x6700;&#x5927;&#x6216;&#x6700;&#x5C0F;&#x5143;&#x7D20;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left"><strong>indexOfSubList(List source, List target)</strong></td>
<td style="text-align:left">&#x8FD4;&#x56DE; <strong>target</strong> &#x5728; <strong>source</strong> &#x5185;&#x7B2C;&#x4E00;&#x6B21;&#x51FA;&#x73B0;&#x7684;&#x8D77;&#x59CB;&#x7D22;&#x5F15;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x8FD4;&#x56DE; -1&#x3002;</td>
</tr>
<tr>
<td style="text-align:left"><strong>lastIndexOfSubList(List source, List target)</strong></td>
<td style="text-align:left">&#x8FD4;&#x56DE; <strong>target</strong> &#x5728; <strong>source</strong> &#x5185;&#x6700;&#x540E;&#x4E00;&#x6B21;&#x51FA;&#x73B0;&#x7684;&#x8D77;&#x59CB;&#x7D22;&#x5F15;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5B58;&#x5728;&#x5219;&#x8FD4;&#x56DE; -1&#x3002;</td>
</tr>
<tr>
<td style="text-align:left"><strong>replaceAll(List\<t> list, T oldVal, T newVal)</t></strong></td>
<td style="text-align:left">&#x7528; <strong>newVal</strong> &#x66FF;&#x6362;&#x5217;&#x8868;&#x4E2D;&#x6240;&#x6709;&#x7684; <strong>oldVal</strong> &#x3002;</td>
</tr>
<tr>
<td style="text-align:left"><strong>reverse(List)</strong></td>
<td style="text-align:left">&#x53CD;&#x8F6C;&#x5217;&#x8868;</td>
</tr>
<tr>
<td style="text-align:left"><strong>reverseOrder()</strong> <br><br> <strong>reverseOrder(Comparator\<t>)</t></strong></td>
<td style="text-align:left">&#x8FD4;&#x56DE;&#x4E00;&#x4E2A; <strong>Comparator</strong> &#xFF0C;&#x5B83;&#x4E0E;&#x96C6;&#x5408;&#x4E2D;&#x5B9E;&#x73B0;&#x4E86; <strong>comparable\<t></t></strong> &#x63A5;&#x53E3;&#x7684;&#x5BF9;&#x8C61;&#x7684;&#x81EA;&#x7136;&#x987A;&#x5E8F;&#x76F8;&#x53CD;&#x3002;&#x7B2C;&#x4E8C;&#x4E2A;&#x7248;&#x672C;&#x98A0;&#x5012;&#x4E86;&#x6240;&#x63D0;&#x4F9B;&#x7684; <strong>Comparator</strong> &#x7684;&#x987A;&#x5E8F;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left"><strong>rotate(List, int distance)</strong></td>
<td style="text-align:left">&#x5C06;&#x6240;&#x6709;&#x5143;&#x7D20;&#x5411;&#x524D;&#x79FB;&#x52A8; <strong>distance</strong> &#xFF0C;&#x5C06;&#x5C3E;&#x90E8;&#x7684;&#x5143;&#x7D20;&#x79FB;&#x5230;&#x5F00;&#x5934;&#x3002;&#xFF08;&#x8BD1;&#x8005;&#x6CE8;&#xFF1A;&#x5373;&#x5FAA;&#x73AF;&#x79FB;&#x52A8;&#xFF09;</td>
</tr>
<tr>
<td style="text-align:left"><strong>shuffle(List)</strong> <br><br> <strong>shuffle(List, Random)</strong></td>
<td style="text-align:left">&#x968F;&#x673A;&#x7F6E;&#x6362;&#x6307;&#x5B9A;&#x5217;&#x8868;&#xFF08;&#x5373;&#x6253;&#x4E71;&#x987A;&#x5E8F;&#xFF09;&#x3002;&#x7B2C;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#x4F7F;&#x7528;&#x4E86;&#x9ED8;&#x8BA4;&#x7684;&#x968F;&#x673A;&#x5316;&#x6E90;&#xFF0C;&#x6216;&#x8005;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7B2C;&#x4E8C;&#x4E2A;&#x7248;&#x672C;&#xFF0C;&#x63D0;&#x4F9B;&#x81EA;&#x5DF1;&#x7684;&#x968F;&#x673A;&#x5316;&#x6E90;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left"><strong>sort(List\<t>)</t></strong> <br><br> <strong>sort(List\<t>, Comparator\&lt;? super T&gt; c)</t></strong></td>
<td style="text-align:left">&#x7B2C;&#x4E00;&#x4E2A;&#x7248;&#x672C;&#x4F7F;&#x7528;&#x5143;&#x7D20;&#x7684;&#x81EA;&#x7136;&#x987A;&#x5E8F;&#x6392;&#x5E8F;&#x8BE5; <strong>List\<t></t></strong> &#x3002;&#x7B2C;&#x4E8C;&#x4E2A;&#x7248;&#x672C;&#x6839;&#x636E;&#x63D0;&#x4F9B;&#x7684; <strong>Comparator</strong> &#x6392;&#x5E8F;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left"><strong>copy(List\&lt;? super T&gt; dest, List\&lt;? extends T&gt; src)</strong></td>
<td style="text-align:left">&#x5C06; <strong>src</strong> &#x4E2D;&#x7684;&#x5143;&#x7D20;&#x590D;&#x5236;&#x5230; <strong>dest</strong> &#x3002;</td>
</tr>
<tr>
<td style="text-align:left"><strong>swap(List, int i, int j)</strong></td>
<td style="text-align:left">&#x4EA4;&#x6362; <strong>List</strong> &#x4E2D;&#x4F4D;&#x7F6E; <strong>i</strong> &#x548C; &#x4F4D;&#x7F6E; <strong>j</strong> &#x7684;&#x5143;&#x7D20;&#x3002;&#x53EF;&#x80FD;&#x6BD4;&#x4F60;&#x624B;&#x5DE5;&#x7F16;&#x5199;&#x7684;&#x901F;&#x5EA6;&#x5FEB;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left"><strong>fill(List\&lt;? super T&gt;, T x)</strong></td>
<td style="text-align:left">&#x7528; <strong>x</strong> &#x66FF;&#x6362; <strong>List</strong> &#x4E2D;&#x7684;&#x6240;&#x6709;&#x5143;&#x7D20;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left"><strong>nCopies(int n, T x)</strong></td>
<td style="text-align:left">&#x8FD4;&#x56DE;&#x5927;&#x5C0F;&#x4E3A; <strong>n</strong> &#x7684;&#x4E0D;&#x53EF;&#x53D8; <strong>List\<t></t></strong> &#xFF0C;&#x5176;&#x5F15;&#x7528;&#x90FD;&#x6307;&#x5411; <strong>x</strong> &#x3002;</td>
</tr>
<tr>
<td style="text-align:left"><strong>disjoint(Collection, Collection)</strong></td>
<td style="text-align:left">&#x5982;&#x679C;&#x4E24;&#x4E2A;&#x96C6;&#x5408;&#x6CA1;&#x6709;&#x5171;&#x540C;&#x5143;&#x7D20;&#xFF0C;&#x5219;&#x8FD4;&#x56DE; <strong>true</strong> &#x3002;</td>
</tr>
<tr>
<td style="text-align:left"><strong>frequency(Collection, Object x)</strong></td>
<td style="text-align:left">&#x8FD4;&#x56DE; <strong>Collection</strong> &#x4E2D;&#xFF0C;&#x7B49;&#x4E8E; <strong>x</strong> &#x7684;&#x5143;&#x7D20;&#x4E2A;&#x6570;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left"><strong>emptyList()</strong> <br><br> <strong>emptyMap()</strong> <br><br> <strong>emptySet()</strong></td>
<td style="text-align:left">&#x8FD4;&#x56DE;&#x4E0D;&#x53EF;&#x53D8;&#x7684;&#x7A7A; <strong>List</strong> &#xFF0C; <strong>Map</strong> &#x6216; <strong>Set</strong> &#x3002;&#x8FD9;&#x4E9B;&#x662F;&#x6CDB;&#x578B;&#x7684;&#xFF0C;&#x56E0;&#x6B64;&#x751F;&#x6210;&#x7684; <strong>Collection</strong> &#x53EF;&#x4EE5;&#x88AB;&#x53C2;&#x6570;&#x5316;&#x4E3A;&#x6240;&#x9700;&#x7684;&#x7C7B;&#x578B;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left"><strong>singleton(T x)</strong> <br><br> <strong>singletonList(T x)</strong> <br><br> <strong>singletonMap(K key, V value)</strong></td>
<td style="text-align:left">&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x4E0D;&#x53EF;&#x53D8;&#x7684; <strong>List</strong> &#xFF0C; <strong>Set</strong> &#x6216; <strong>Map</strong> &#xFF0C;&#x5176;&#x4E2D;&#x53EA;&#x5305;&#x542B;&#x57FA;&#x4E8E;&#x7ED9;&#x5B9A;&#x53C2;&#x6570;&#x7684;&#x5355;&#x4E2A;&#x5143;&#x7D20;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left"><strong>list(Enumeration\<t> e)</t></strong></td>
<td style="text-align:left">&#x751F;&#x6210;&#x4E00;&#x4E2A; <strong>ArrayList\<t></t></strong> &#xFF0C;&#x5176;&#x4E2D;&#x5143;&#x7D20;&#x4E3A;&#xFF08;&#x65E7;&#x5F0F;&#xFF09; <strong>Enumeration</strong> &#xFF08; <strong>Iterator</strong> &#x7684;&#x524D;&#x8EAB;&#xFF09;&#x4E2D;&#x7684;&#x5143;&#x7D20;&#x3002;&#x7528;&#x4E8E;&#x4ECE;&#x9057;&#x7559;&#x4EE3;&#x7801;&#x5411;&#x65B0;&#x5F0F;&#x8F6C;&#x6362;&#x3002;</td>
</tr>
<tr>
<td style="text-align:left"><strong>enumeration(Collection\<t>)</t></strong></td>
<td style="text-align:left">&#x4E3A;&#x53C2;&#x6570;&#x96C6;&#x5408;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x65E7;&#x5F0F;&#x7684; <strong>Enumeration\<t></t></strong> &#x3002;</td>
</tr>
</tbody>
</table>
<p>&#x8BF7;&#x6CE8;&#x610F;&#xFF0C; <code>min&#xFF08;)</code> &#x548C; <code>max()</code> &#x4F7F;&#x7528; <strong>Collection</strong> &#x5BF9;&#x8C61;&#xFF0C;&#x800C;&#x4E0D;&#x4F7F;&#x7528; <strong>List</strong> &#xFF0C;&#x56E0;&#x6B64;&#x4E0D;&#x5FC5;&#x62C5;&#x5FC3;&#x662F;&#x5426;&#x5E94;&#x5BF9; <strong>Collection</strong> &#x8FDB;&#x884C;&#x6392;&#x5E8F;&#x3002;&#xFF08;&#x5982;&#x524D;&#x6240;&#x8FF0;&#xFF0C;&#x5728;&#x6267;&#x884C; <code>binarySearch()</code> &#x4E4B;&#x524D;&#xFF0C;&#x5C06;&#x4F1A;&#x5BF9; <strong>List</strong> &#x6216;&#x6570;&#x7EC4;&#x8FDB;&#x884C;<code>sort()</code> &#x6392;&#x5E8F;&#x3002;&#xFF09;</p>
<p>&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x793A;&#x4F8B;&#xFF0C;&#x5C55;&#x793A;&#x4E86;&#x4E0A;&#x8868;&#x4E2D;&#x5927;&#x591A;&#x6570;&#x5B9E;&#x7528;&#x5DE5;&#x5177;&#x7A0B;&#x5E8F;&#x7684;&#x57FA;&#x672C;&#x7528;&#x6CD5;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/Utilities.java</span>
<span class="token comment">// Simple demonstrations of the Collections utilities</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Utilities</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span>
    <span class="token string">&quot;one Two three Four five six one&quot;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&apos;list&apos; disjoint (Four)?: &quot;</span> <span class="token operator">+</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">disjoint</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span>
        <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">singletonList</span><span class="token punctuation">(</span><span class="token string">&quot;Four&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;max: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;min: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;max w/ comparator: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span>
      <span class="token class-name">String</span><span class="token punctuation">.</span>CASE_INSENSITIVE_ORDER<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;min w/ comparator: &quot;</span> <span class="token operator">+</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span>
      <span class="token class-name">String</span><span class="token punctuation">.</span>CASE_INSENSITIVE_ORDER<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sublist <span class="token operator">=</span>
      <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;Four five six&quot;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;indexOfSubList: &quot;</span> <span class="token operator">+</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">indexOfSubList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> sublist<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;lastIndexOfSubList: &quot;</span> <span class="token operator">+</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">lastIndexOfSubList</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> sublist<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token string">&quot;one&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Yo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;replaceAll: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;reverse: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">rotate</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;rotate: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> source <span class="token operator">=</span>
      <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;in the matrix&quot;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> source<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;copy: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">swap</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;swap: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;shuffled: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token string">&quot;pop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;fill: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;frequency of &apos;pop&apos;: &quot;</span> <span class="token operator">+</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">frequency</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token string">&quot;pop&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> dups <span class="token operator">=</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">nCopies</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;snap&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;dups: &quot;</span> <span class="token operator">+</span> dups<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;&apos;list&apos; disjoint &apos;dups&apos;?: &quot;</span> <span class="token operator">+</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">disjoint</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> dups<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Getting an old-style Enumeration:</span>
    <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> e <span class="token operator">=</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">enumeration</span><span class="token punctuation">(</span>dups<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Vector</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> v <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vector</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      v<span class="token punctuation">.</span><span class="token function">addElement</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Converting an old-style Vector</span>
    <span class="token comment">// to a List via an Enumeration:</span>
    <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> arrayList <span class="token operator">=</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">list</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">elements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;arrayList: &quot;</span> <span class="token operator">+</span> arrayList<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[one, Two, three, Four, five, six, one]
&apos;list&apos; disjoint (Four)?: false
max: three
min: Four
max w/ comparator: Two
min w/ comparator: five
indexOfSubList: 3
lastIndexOfSubList: 3
replaceAll: [Yo, Two, three, Four, five, six, Yo]
reverse: [Yo, six, five, Four, three, Two, Yo]
rotate: [three, Two, Yo, Yo, six, five, Four]
copy: [in, the, matrix, Yo, six, five, Four]
swap: [Four, the, matrix, Yo, six, five, in]
shuffled: [six, matrix, the, Four, Yo, five, in]
fill: [pop, pop, pop, pop, pop, pop, pop]
frequency of &apos;pop&apos;: 7
dups: [snap, snap, snap]
&apos;list&apos; disjoint &apos;dups&apos;?: true
arrayList: [snap, snap, snap]
*/</span>
</code></pre>
<p>&#x8F93;&#x51FA;&#x89E3;&#x91CA;&#x4E86;&#x6BCF;&#x79CD;&#x5B9E;&#x7528;&#x65B9;&#x6CD5;&#x7684;&#x884C;&#x4E3A;&#x3002;&#x8BF7;&#x6CE8;&#x610F;&#x7531;&#x4E8E;&#x5927;&#x5C0F;&#x5199;&#x7684;&#x7F18;&#x6545;&#xFF0C;&#x666E;&#x901A;&#x7248;&#x672C;&#x7684; <code>min()</code> &#x548C; <code>max()</code> &#x4E0E;&#x5E26;&#x6709; <strong>String.CASE_INSENSITIVE_ORDER</strong> &#x6BD4;&#x8F83;&#x5668;&#x53C2;&#x6570;&#x7684;&#x7248;&#x672C;&#x7684;&#x533A;&#x522B;&#x3002;</p>
<!-- Sorting and Searching Lists -->
<h3 id="&#x6392;&#x5E8F;&#x548C;&#x641C;&#x7D22;&#x5217;&#x8868;"><a name="&#x6392;&#x5E8F;&#x548C;&#x641C;&#x7D22;&#x5217;&#x8868;" class="anchor-navigation-ex-anchor" href="#&#x6392;&#x5E8F;&#x548C;&#x641C;&#x7D22;&#x5217;&#x8868;"><i class="fa fa-link" aria-hidden="true"></i></a>1.13.1. &#x6392;&#x5E8F;&#x548C;&#x641C;&#x7D22;&#x5217;&#x8868;</h3>
<p>&#x7528;&#x4E8E;&#x6267;&#x884C;&#x6392;&#x5E8F;&#x548C;&#x641C;&#x7D22; <strong>List</strong> &#x7684;&#x5B9E;&#x7528;&#x5DE5;&#x5177;&#x7A0B;&#x5E8F;&#x4E0E;&#x7528;&#x4E8E;&#x6392;&#x5E8F;&#x5BF9;&#x8C61;&#x6570;&#x7EC4;&#x7684;&#x7A0B;&#x5E8F;&#x5177;&#x6709;&#x76F8;&#x540C;&#x7684;&#x540D;&#x5B57;&#x548C;&#x65B9;&#x6CD5;&#x7B7E;&#x540D;&#xFF0C;&#x53EA;&#x4E0D;&#x8FC7;&#x662F; <strong>Collections</strong> &#x7684;&#x9759;&#x6001;&#x65B9;&#x6CD5;&#x800C;&#x4E0D;&#x662F; <strong>Arrays</strong> &#x3002; &#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x4F7F;&#x7528; <strong>Utilities.java</strong> &#x4E2D;&#x7684; <strong>list</strong> &#x6570;&#x636E;&#x7684;&#x793A;&#x4F8B;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/ListSortSearch.java</span>
<span class="token comment">// Sorting/searching Lists with Collections utilities</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ListSortSearch</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Utilities</span><span class="token punctuation">.</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    list<span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span><span class="token class-name">Utilities</span><span class="token punctuation">.</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">shuffle</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Shuffled: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Use ListIterator to trim off last elements:</span>
    <span class="token class-name">ListIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>it<span class="token punctuation">.</span><span class="token function">hasNext</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      it<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Trimmed: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Sorted: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">String</span> key <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> index <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">binarySearch</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;Location of &quot;</span> <span class="token operator">+</span> key <span class="token operator">+</span> <span class="token string">&quot; is &quot;</span> <span class="token operator">+</span> index <span class="token operator">+</span>
      <span class="token string">&quot;, list.get(&quot;</span> <span class="token operator">+</span> index <span class="token operator">+</span> <span class="token string">&quot;) = &quot;</span> <span class="token operator">+</span>
      list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span>
      <span class="token class-name">String</span><span class="token punctuation">.</span>CASE_INSENSITIVE_ORDER<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;Case-insensitive sorted: &quot;</span> <span class="token operator">+</span> list<span class="token punctuation">)</span><span class="token punctuation">;</span>
    key <span class="token operator">=</span> list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    index <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">binarySearch</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> key<span class="token punctuation">,</span>
      <span class="token class-name">String</span><span class="token punctuation">.</span>CASE_INSENSITIVE_ORDER<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;Location of &quot;</span> <span class="token operator">+</span> key <span class="token operator">+</span> <span class="token string">&quot; is &quot;</span> <span class="token operator">+</span> index <span class="token operator">+</span>
      <span class="token string">&quot;, list.get(&quot;</span> <span class="token operator">+</span> index <span class="token operator">+</span> <span class="token string">&quot;) = &quot;</span> <span class="token operator">+</span>
      list<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>index<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[one, Two, three, Four, five, six, one, one, Two,
three, Four, five, six, one]
Shuffled: [Four, five, one, one, Two, six, six, three,
three, five, Four, Two, one, one]
Trimmed: [Four, five, one, one, Two, six, six, three,
three, five]
Sorted: [Four, Two, five, five, one, one, six, six,
three, three]
Location of six is 7, list.get(7) = six
Case-insensitive sorted: [five, five, Four, one, one,
six, six, three, three, Two]
Location of three is 7, list.get(7) = three
*/</span>
</code></pre>
<p>&#x5C31;&#x50CF;&#x4F7F;&#x7528;&#x6570;&#x7EC4;&#x8FDB;&#x884C;&#x641C;&#x7D22;&#x548C;&#x6392;&#x5E8F;&#x4E00;&#x6837;&#xFF0C;&#x5982;&#x679C;&#x4F7F;&#x7528; <strong>Comparator</strong> &#x8FDB;&#x884C;&#x6392;&#x5E8F;&#xFF0C;&#x5219;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x76F8;&#x540C;&#x7684; <strong>Comparator</strong> &#x6267;&#x884C; <code>binarySearch()</code> &#x3002;</p>
<p>&#x8BE5;&#x7A0B;&#x5E8F;&#x8FD8;&#x6F14;&#x793A;&#x4E86; <strong>Collections</strong> &#x4E2D;&#x7684; <code>shuffle()</code> &#x65B9;&#x6CD5;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x968F;&#x673A;&#x6253;&#x4E71;&#x4E86; <strong>List</strong> &#x7684;&#x987A;&#x5E8F;&#x3002; <strong>ListIterator</strong> &#x662F;&#x5728;&#x6253;&#x4E71;&#x540E;&#x7684;&#x5217;&#x8868;&#x4E2D;&#x7684;&#x7279;&#x5B9A;&#x4F4D;&#x7F6E;&#x521B;&#x5EFA;&#x7684;&#xFF0C;&#x7528;&#x4E8E;&#x4ECE;&#x8BE5;&#x4F4D;&#x7F6E;&#x5220;&#x9664;&#x5143;&#x7D20;&#xFF0C;&#x76F4;&#x5230;&#x5217;&#x8868;&#x672B;&#x5C3E;&#x3002;</p>
<!-- Making a Collection or Map Unmodifiable -->
<h3 id="&#x521B;&#x5EFA;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684;-collection-&#x6216;-map"><a name="&#x521B;&#x5EFA;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684;-collection-&#x6216;-map" class="anchor-navigation-ex-anchor" href="#&#x521B;&#x5EFA;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684;-collection-&#x6216;-map"><i class="fa fa-link" aria-hidden="true"></i></a>1.13.2. &#x521B;&#x5EFA;&#x4E0D;&#x53EF;&#x4FEE;&#x6539;&#x7684; Collection &#x6216; Map</h3>
<p>&#x901A;&#x5E38;&#xFF0C;&#x521B;&#x5EFA; <strong>Collection</strong> &#x6216; <strong>Map</strong> &#x7684;&#x53EA;&#x8BFB;&#x7248;&#x672C;&#x4F1A;&#x5F88;&#x65B9;&#x4FBF;&#x3002; <strong>Collections</strong> &#x7C7B;&#x901A;&#x8FC7;&#x5C06;&#x539F;&#x59CB;&#x96C6;&#x5408;&#x4F20;&#x9012;&#x7ED9;&#x4E00;&#x4E2A;&#x65B9;&#x6CD5;&#x7136;&#x540E;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x53EA;&#x8BFB;&#x7248;&#x672C;&#x7684;&#x96C6;&#x5408;&#x3002; &#x5BF9;&#x4E8E; <strong>Collection</strong> &#xFF08;&#x5982;&#x679C;&#x4E0D;&#x80FD;&#x5C06; <strong>Collection</strong> &#x89C6;&#x4E3A;&#x66F4;&#x5177;&#x4F53;&#x7684;&#x7C7B;&#x578B;&#xFF09;&#xFF0C; <strong>List</strong> &#xFF0C; <strong>Set</strong> &#x548C; <strong>Map</strong> &#xFF0C;&#x8FD9;&#x7C7B;&#x65B9;&#x6CD5;&#x6709;&#x8BB8;&#x591A;&#x53D8;&#x4F53;&#x3002;&#x8FD9;&#x4E2A;&#x793A;&#x4F8B;&#x5C55;&#x793A;&#x4E86;&#x9488;&#x5BF9;&#x6BCF;&#x79CD;&#x7C7B;&#x578B;&#xFF0C;&#x6B63;&#x786E;&#x6784;&#x5EFA;&#x53EA;&#x8BFB;&#x7248;&#x672C;&#x96C6;&#x5408;&#x7684;&#x65B9;&#x6CD5;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/ReadOnly.java</span>
<span class="token comment">// Using the Collections.unmodifiable methods</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ReadOnly</span> <span class="token punctuation">{</span>
  <span class="token keyword">static</span> <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> data <span class="token operator">=</span>
    <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Countries</span><span class="token punctuation">.</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableCollection</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Reading is OK</span>
    <span class="token comment">//- c.add(&quot;one&quot;); // Can&apos;t change it</span>

    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> a <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableList</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">ListIterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> lit <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">listIterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>lit<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Reading is OK</span>
    <span class="token comment">//- lit.add(&quot;one&quot;); // Can&apos;t change it</span>

    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> s <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableSet</span><span class="token punctuation">(</span>
      <span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Reading is OK</span>
    <span class="token comment">//- s.add(&quot;one&quot;); // Can&apos;t change it</span>

    <span class="token comment">// For a SortedSet:</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> ss <span class="token operator">=</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableSortedSet</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> m <span class="token operator">=</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableMap</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Countries</span><span class="token punctuation">.</span><span class="token function">capitals</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>m<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Reading is OK</span>
    <span class="token comment">//- m.put(&quot;Ralph&quot;, &quot;Howdy!&quot;);</span>

    <span class="token comment">// For a SortedMap:</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sm <span class="token operator">=</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">unmodifiableSortedMap</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Countries</span><span class="token punctuation">.</span><span class="token function">capitals</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
[ALGERIA, ANGOLA, BENIN, BOTSWANA, BURKINA FASO,
BURUNDI]
ALGERIA
[BENIN, BOTSWANA, ANGOLA, BURKINA FASO, ALGERIA,
BURUNDI]
{BENIN=Porto-Novo, BOTSWANA=Gaberone, ANGOLA=Luanda,
BURKINA FASO=Ouagadougou, ALGERIA=Algiers,
BURUNDI=Bujumbura}
*/</span>
</code></pre>
<p>&#x4E3A;&#x7279;&#x5B9A;&#x7C7B;&#x578B;&#x8C03;&#x7528; &#x201C;unmodifiable&#x201D; &#x65B9;&#x6CD5;&#x4E0D;&#x4F1A;&#x5BFC;&#x81F4;&#x7F16;&#x8BD1;&#x65F6;&#x68C0;&#x67E5;&#xFF0C;&#x4F46;&#x662F;&#x4E00;&#x65E6;&#x53D1;&#x751F;&#x8F6C;&#x6362;&#xFF0C;&#x5BF9;&#x4FEE;&#x6539;&#x7279;&#x5B9A;&#x96C6;&#x5408;&#x5185;&#x5BB9;&#x7684;&#x4EFB;&#x4F55;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x90FD;&#x5C06;&#x4EA7;&#x751F; <strong>UnsupportedOperationException</strong> &#x5F02;&#x5E38;&#x3002;</p>
<p>&#x5728;&#x6BCF;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5728;&#x5C06;&#x96C6;&#x5408;&#x8BBE;&#x7F6E;&#x4E3A;&#x53EA;&#x8BFB;&#x4E4B;&#x524D;&#xFF0C;&#x5FC5;&#x987B;&#x4F7F;&#x7528;&#x6709;&#x610F;&#x4E49;&#x7684;&#x6570;&#x636E;&#x586B;&#x5145;&#x96C6;&#x5408;&#x3002;&#x586B;&#x5145;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x6700;&#x597D;&#x7684;&#x65B9;&#x6CD5;&#x662F;&#x7528; &#x201C;unmodifiable&#x201D; &#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x751F;&#x6210;&#x7684;&#x5F15;&#x7528;&#x66FF;&#x6362;&#x73B0;&#x6709;&#x5F15;&#x7528;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x4E00;&#x65E6;&#x4F7F;&#x5F97;&#x5185;&#x5BB9;&#x65E0;&#x6CD5;&#x4FEE;&#x6539;&#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x4E0D;&#x4F1A;&#x5192;&#x6709;&#x610F;&#x5916;&#x66F4;&#x6539;&#x5185;&#x5BB9;&#x7684;&#x98CE;&#x9669;&#x3002;&#x53E6;&#x4E00;&#x65B9;&#x9762;&#xFF0C;&#x6B64;&#x5DE5;&#x5177;&#x8FD8;&#x5141;&#x8BB8;&#x5C06;&#x53EF;&#x4FEE;&#x6539;&#x7684;&#x96C6;&#x5408;&#x4FDD;&#x7559;&#x4E3A;&#x7C7B;&#x4E2D;&#x7684;<strong>&#x79C1;&#x6709;</strong>&#x96C6;&#x5408;&#xFF0C;&#x5E76;&#x4ECE;&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x5904;&#x8FD4;&#x56DE;&#x5BF9;&#x8BE5;&#x96C6;&#x5408;&#x7684;&#x53EA;&#x8BFB;&#x5F15;&#x7528;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5728;&#x7C7B;&#x5185;&#x4FEE;&#x6539;&#x5B83;&#xFF0C;&#x4F46;&#x5176;&#x4ED6;&#x4EBA;&#x53EA;&#x80FD;&#x8BFB;&#x5B83;&#x3002;</p>
<!-- Synchronizing a Collection or Map -->
<h3 id="&#x540C;&#x6B65;-collection-&#x6216;-map"><a name="&#x540C;&#x6B65;-collection-&#x6216;-map" class="anchor-navigation-ex-anchor" href="#&#x540C;&#x6B65;-collection-&#x6216;-map"><i class="fa fa-link" aria-hidden="true"></i></a>1.13.3. &#x540C;&#x6B65; Collection &#x6216; Map</h3>
<p><strong>synchronized</strong> &#x5173;&#x952E;&#x5B57;&#x662F;&#x591A;&#x7EBF;&#x7A0B;&#x4E3B;&#x9898;&#x7684;&#x91CD;&#x8981;&#x7EC4;&#x6210;&#x90E8;&#x5206;&#xFF0C;&#x66F4;&#x590D;&#x6742;&#x7684;&#x5185;&#x5BB9;&#x5728;<a href="">&#x7B2C;&#x4E8C;&#x5341;&#x56DB;&#x7AE0; &#x5E76;&#x53D1;&#x7F16;&#x7A0B;</a>&#x4E2D;&#x4ECB;&#x7ECD;&#x3002;&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x53EA;&#x9700;&#x8981;&#x6CE8;&#x610F;&#x5230; <strong>Collections</strong> &#x7C7B;&#x5305;&#x542B;&#x4E00;&#x79CD;&#x81EA;&#x52A8;&#x540C;&#x6B65;&#x6574;&#x4E2A;&#x96C6;&#x5408;&#x7684;&#x65B9;&#x6CD5;&#x3002; &#x8BED;&#x6CD5;&#x7C7B;&#x4F3C;&#x4E8E; &#x201C;unmodifiable&#x201D; &#x65B9;&#x6CD5;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/Synchronization.java</span>
<span class="token comment">// Using the Collections.synchronized methods</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Synchronization</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span>
      <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">synchronizedCollection</span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Collections</span>
      <span class="token punctuation">.</span><span class="token function">synchronizedList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> s <span class="token operator">=</span> <span class="token class-name">Collections</span>
      <span class="token punctuation">.</span><span class="token function">synchronizedSet</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Set</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> ss <span class="token operator">=</span> <span class="token class-name">Collections</span>
      <span class="token punctuation">.</span><span class="token function">synchronizedSortedSet</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TreeSet</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> m <span class="token operator">=</span> <span class="token class-name">Collections</span>
      <span class="token punctuation">.</span><span class="token function">synchronizedMap</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sm <span class="token operator">=</span> <span class="token class-name">Collections</span>
      <span class="token punctuation">.</span><span class="token function">synchronizedSortedMap</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TreeMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>&#x6700;&#x597D;&#x7ACB;&#x5373;&#x901A;&#x8FC7;&#x9002;&#x5F53;&#x7684; &#x201C;synchronized&#x201D; &#x65B9;&#x6CD5;&#x4F20;&#x9012;&#x65B0;&#x96C6;&#x5408;&#xFF0C;&#x5982;&#x4E0A;&#x6240;&#x793A;&#x3002;&#x8FD9;&#x6837;&#xFF0C;&#x5C31;&#x4E0D;&#x4F1A;&#x610F;&#x5916;&#x5730;&#x66B4;&#x9732;&#x51FA;&#x975E;&#x540C;&#x6B65;&#x7248;&#x672C;&#x3002;</p>
<!-- Fail Fast -->
<h4 id="fail-fast"><a name="fail-fast" class="anchor-navigation-ex-anchor" href="#fail-fast"><i class="fa fa-link" aria-hidden="true"></i></a>Fail Fast</h4>
<p>Java &#x96C6;&#x5408;&#x8FD8;&#x5177;&#x6709;&#x9632;&#x6B62;&#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#x4FEE;&#x6539;&#x96C6;&#x5408;&#x5185;&#x5BB9;&#x7684;&#x673A;&#x5236;&#x3002;&#x5982;&#x679C;&#x5F53;&#x524D;&#x6B63;&#x5728;&#x8FED;&#x4EE3;&#x96C6;&#x5408;&#xFF0C;&#x7136;&#x540E;&#x6709;&#x5176;&#x4ED6;&#x4E00;&#x4E9B;&#x8FDB;&#x7A0B;&#x4ECB;&#x5165;&#x5E76;&#x63D2;&#x5165;&#xFF0C;&#x5220;&#x9664;&#x6216;&#x66F4;&#x6539;&#x8BE5;&#x96C6;&#x5408;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x5219;&#x4F1A;&#x51FA;&#x73B0;&#x6B64;&#x95EE;&#x9898;&#x3002;&#x4E5F;&#x8BB8;&#x5728;&#x96C6;&#x5408;&#x4E2D;&#x5DF2;&#x7ECF;&#x904D;&#x5386;&#x8FC7;&#x4E86;&#x90A3;&#x4E2A;&#x5143;&#x7D20;&#xFF0C;&#x4E5F;&#x8BB8;&#x8FD8;&#x6CA1;&#x6709;&#x904D;&#x5386;&#x5230;&#xFF0C;&#x4E5F;&#x8BB8;&#x5728;&#x8C03;&#x7528; <code>size()</code> &#x4E4B;&#x540E;&#x96C6;&#x5408;&#x7684;&#x5927;&#x5C0F;&#x4F1A;&#x7F29;&#x5C0F;...&#x6709;&#x8BB8;&#x591A;&#x707E;&#x96BE;&#x60C5;&#x666F;&#x3002; Java &#x96C6;&#x5408;&#x5E93;&#x4F7F;&#x7528;&#x4E00;&#x79CD; <em>fail-fast</em> &#x7684;&#x673A;&#x5236;&#xFF0C;&#x8BE5;&#x673A;&#x5236;&#x53EF;&#x4EE5;&#x68C0;&#x6D4B;&#x5230;&#x9664;&#x4E86;&#x5F53;&#x524D;&#x8FDB;&#x7A0B;&#x5F15;&#x8D77;&#x7684;&#x66F4;&#x6539;&#x4E4B;&#x5916;&#xFF0C;&#x5176;&#x5B83;&#x4EFB;&#x4F55;&#x5BF9;&#x96C6;&#x5408;&#x7684;&#x66F4;&#x6539;&#x64CD;&#x4F5C;&#x3002;&#x5982;&#x679C;&#x5B83;&#x68C0;&#x6D4B;&#x5230;&#x5176;&#x4ED6;&#x4EBA;&#x6B63;&#x5728;&#x4FEE;&#x6539;&#x96C6;&#x5408;&#xFF0C;&#x5219;&#x4F1A;&#x7ACB;&#x5373;&#x751F;&#x6210; <strong>ConcurrentModificationException</strong> &#x5F02;&#x5E38;&#x3002;&#x8FD9;&#x5C31;&#x662F;&#x201C;fail-fast&#x201D;&#x7684;&#x542B;&#x4E49;&#x2014;&#x2014;&#x5B83;&#x4E0D;&#x4F1A;&#x5728;&#x4EE5;&#x540E;&#x4F7F;&#x7528;&#x66F4;&#x590D;&#x6742;&#x7684;&#x7B97;&#x6CD5;&#x5C1D;&#x8BD5;&#x68C0;&#x6D4B;&#x95EE;&#x9898;&#xFF08;&#x5FEB;&#x901F;&#x5931;&#x8D25;&#xFF09;&#x3002;</p>
<p>&#x901A;&#x8FC7;&#x521B;&#x5EFA;&#x8FED;&#x4EE3;&#x5668;&#x5E76;&#x5411;&#x8FED;&#x4EE3;&#x5668;&#x6307;&#x5411;&#x7684;&#x96C6;&#x5408;&#x4E2D;&#x6DFB;&#x52A0;&#x5143;&#x7D20;&#xFF0C;&#x53EF;&#x4EE5;&#x5F88;&#x5BB9;&#x6613;&#x5730;&#x770B;&#x5230;&#x64CD;&#x4F5C;&#x4E2D;&#x7684; fail-fast &#x673A;&#x5236;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/FailFast.java</span>
<span class="token comment">// Demonstrates the &quot;fail-fast&quot; behavior</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FailFast</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Collection</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Iterator</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> it <span class="token operator">=</span> c<span class="token punctuation">.</span><span class="token function">iterator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    c<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&quot;An object&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token class-name">String</span> s <span class="token operator">=</span> it<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">ConcurrentModificationException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
java.util.ConcurrentModificationException
*/</span>
</code></pre>
<p>&#x5F02;&#x5E38;&#x6765;&#x81EA;&#x4E8E;&#x5728;&#x4ECE;&#x96C6;&#x5408;&#x4E2D;&#x83B7;&#x5F97;&#x8FED;&#x4EE3;&#x5668;&#x4E4B;&#x540E;&#xFF0C;&#x53C8;&#x5C1D;&#x8BD5;&#x5728;&#x96C6;&#x5408;&#x4E2D;&#x6DFB;&#x52A0;&#x5143;&#x7D20;&#x3002;&#x7A0B;&#x5E8F;&#x7684;&#x4E24;&#x4E2A;&#x90E8;&#x5206;&#x53EF;&#x80FD;&#x4F1A;&#x4FEE;&#x6539;&#x540C;&#x4E00;&#x4E2A;&#x96C6;&#x5408;&#xFF0C;&#x8FD9;&#x79CD;&#x53EF;&#x80FD;&#x6027;&#x7684;&#x5B58;&#x5728;&#x4F1A;&#x4EA7;&#x751F;&#x4E0D;&#x786E;&#x5B9A;&#x72B6;&#x6001;&#xFF0C;&#x56E0;&#x6B64;&#x5F02;&#x5E38;&#x4F1A;&#x901A;&#x77E5;&#x4F60;&#x66F4;&#x6539;&#x4EE3;&#x7801;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5E94;&#x5148;&#x5C06;&#x6240;&#x6709;&#x5143;&#x7D20;&#x6DFB;&#x52A0;&#x5230;&#x96C6;&#x5408;&#xFF0C;&#x7136;&#x540E;&#x518D;&#x83B7;&#x53D6;&#x8FED;&#x4EE3;&#x5668;&#x3002;</p>
<p><strong>ConcurrentHashMap</strong> &#xFF0C; <strong>CopyOnWriteArrayList</strong> &#x548C; <strong>CopyOnWriteArraySet</strong> &#x4F7F;&#x7528;&#x4E86;&#x7279;&#x5B9A;&#x7684;&#x6280;&#x672F;&#x6765;&#x907F;&#x514D;&#x4EA7;&#x751F; <strong>ConcurrentModificationException</strong> &#x5F02;&#x5E38;&#x3002;</p>
<!-- Holding References -->
<h2 id="&#x6301;&#x6709;&#x5F15;&#x7528;"><a name="&#x6301;&#x6709;&#x5F15;&#x7528;" class="anchor-navigation-ex-anchor" href="#&#x6301;&#x6709;&#x5F15;&#x7528;"><i class="fa fa-link" aria-hidden="true"></i></a>1.14. &#x6301;&#x6709;&#x5F15;&#x7528;</h2>
<p><strong>java.lang.ref</strong> &#x4E2D;&#x5E93;&#x5305;&#x542B;&#x4E00;&#x7EC4;&#x7C7B;&#xFF0C;&#x8FD9;&#x4E9B;&#x7C7B;&#x5141;&#x8BB8;&#x5783;&#x573E;&#x6536;&#x96C6;&#x5177;&#x6709;&#x66F4;&#x5927;&#x7684;&#x7075;&#x6D3B;&#x6027;&#x3002;&#x7279;&#x522B;&#x662F;&#x5F53;&#x62E5;&#x6709;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x5185;&#x5B58;&#x8017;&#x5C3D;&#x7684;&#x5927;&#x5BF9;&#x8C61;&#x65F6;&#xFF0C;&#x8FD9;&#x4E9B;&#x7C7B;&#x7279;&#x522B;&#x6709;&#x7528;&#x3002;&#x8FD9;&#x91CC;&#x6709;&#x4E09;&#x4E2A;&#x4ECE;&#x62BD;&#x8C61;&#x7C7B; <strong>Reference</strong> &#x7EE7;&#x627F;&#x6765;&#x7684;&#x7C7B;&#xFF1A; <strong>SoftReference</strong> &#xFF08;&#x8F6F;&#x5F15;&#x7528;&#xFF09;&#xFF0C; <strong>WeakReference</strong> &#xFF08;&#x5F31;&#x5F15;&#x7528;&#xFF09;&#x548C; <strong>PhantomReference</strong> &#xFF08;&#x865A;&#x5F15;&#x7528;&#xFF09;&#x7EE7;&#x627F;&#x4E86;&#x4E09;&#x4E2A;&#x7C7B;&#x3002;&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x53EA;&#x80FD;&#x901A;&#x8FC7;&#x8FD9;&#x5176;&#x4E2D;&#x7684;&#x4E00;&#x4E2A; <strong>Reference</strong> &#x5BF9;&#x8C61;&#x8BBF;&#x95EE;&#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x4E09;&#x79CD;&#x7C7B;&#x578B;&#x6BCF;&#x4E2A;&#x90FD;&#x4E3A;&#x5783;&#x573E;&#x6536;&#x96C6;&#x5668;&#x63D0;&#x4F9B;&#x4E0D;&#x540C;&#x7EA7;&#x522B;&#x7684;&#x95F4;&#x63A5;&#x5F15;&#x7528;&#xFF08;indirection&#xFF09;&#x3002;</p>
<p>&#x5982;&#x679C;&#x4E00;&#x4E2A;&#x5BF9;&#x8C61;&#x662F; <em>&#x53EF;&#x8FBE;&#x7684;</em>&#xFF08;reachable&#xFF09;&#xFF0C;&#x90A3;&#x4E48;&#x610F;&#x5473;&#x7740;&#x5728;&#x7A0B;&#x5E8F;&#x4E2D;&#x7684;&#x67D0;&#x4E2A;&#x4F4D;&#x7F6E;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x8BE5;&#x5BF9;&#x8C61;&#x3002;&#x8FD9;&#x53EF;&#x80FD;&#x610F;&#x5473;&#x7740;&#x5728;&#x6808;&#x4E0A;&#x6709;&#x4E00;&#x4E2A;&#x76F4;&#x63A5;&#x5F15;&#x7528;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x666E;&#x901A;&#x5F15;&#x7528;&#xFF0C;&#x4F46;&#x4E5F;&#x6709;&#x53EF;&#x80FD;&#x662F;&#x5F15;&#x7528;&#x4E86;&#x4E00;&#x4E2A;&#x5BF9;&#x8BE5;&#x5BF9;&#x8C61;&#x6709;&#x5F15;&#x7528;&#x7684;&#x5BF9;&#x8C61;&#xFF0C;&#x8FD9;&#x53EF;&#x4EE5;&#x6709;&#x5F88;&#x591A;&#x4E2D;&#x95F4;&#x73AF;&#x8282;&#x3002;&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x5BF9;&#x8C61;&#x662F;&#x53EF;&#x8FBE;&#x7684;&#xFF0C;&#x5219;&#x5783;&#x573E;&#x6536;&#x96C6;&#x5668;&#x65E0;&#x6CD5;&#x91CA;&#x653E;&#x5B83;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x4ECD;&#x7136;&#x88AB;&#x7A0B;&#x5E8F;&#x6240;&#x4F7F;&#x7528;&#x3002;&#x5982;&#x679C;&#x67D0;&#x4E2A;&#x5BF9;&#x8C61;&#x662F;&#x4E0D;&#x53EF;&#x8FBE;&#x7684;&#xFF0C;&#x5219;&#x7A0B;&#x5E8F;&#x65E0;&#x6CD5;&#x4F7F;&#x7528;&#x5B83;&#xFF0C;&#x90A3;&#x4E48;&#x5783;&#x573E;&#x6536;&#x96C6;&#x5668;&#x56DE;&#x6536;&#x8BE5;&#x5BF9;&#x8C61;&#x5C31;&#x662F;&#x5B89;&#x5168;&#x7684;&#x3002;</p>
<p>&#x4F7F;&#x7528; <strong>Reference</strong> &#x5BF9;&#x8C61;&#x7EE7;&#x7EED;&#x4FDD;&#x6301;&#x5BF9;&#x8BE5;&#x5BF9;&#x8C61;&#x7684;&#x5F15;&#x7528;&#xFF0C;&#x4EE5;&#x5230;&#x8FBE;&#x8BE5;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x4E5F;&#x5141;&#x8BB8;&#x5783;&#x573E;&#x6536;&#x96C6;&#x5668;&#x91CA;&#x653E;&#x8BE5;&#x5BF9;&#x8C61;&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x7A0B;&#x5E8F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x8BE5;&#x5BF9;&#x8C61;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x5185;&#x5B58;&#x5373;&#x5C06;&#x8017;&#x5C3D;&#xFF0C;&#x5219;&#x5141;&#x8BB8;&#x91CA;&#x653E;&#x8BE5;&#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4F7F;&#x7528; <strong>Reference</strong> &#x5BF9;&#x8C61;&#x4F5C;&#x4E3A;&#x4F60;&#x548C;&#x666E;&#x901A;&#x5F15;&#x7528;&#x4E4B;&#x95F4;&#x7684;&#x4E2D;&#x4ECB;&#xFF08;&#x4EE3;&#x7406;&#xFF09;&#x6765;&#x5B9E;&#x73B0;&#x6B64;&#x76EE;&#x7684;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x5FC5;&#x987B;&#x6CA1;&#x6709;&#x5BF9;&#x8C61;&#x7684;&#x666E;&#x901A;&#x5F15;&#x7528;&#xFF08;&#x672A;&#x5305;&#x542B;&#x5728; <strong>Reference</strong> &#x5BF9;&#x8C61;&#x4E2D;&#x7684;&#x5BF9;&#x8C61;&#xFF09;&#x3002;&#x5982;&#x679C;&#x5783;&#x573E;&#x6536;&#x96C6;&#x5668;&#x53D1;&#x73B0;&#x5BF9;&#x8C61;&#x53EF;&#x901A;&#x8FC7;&#x666E;&#x901A;&#x5F15;&#x7528;&#x8BBF;&#x95EE;&#xFF0C;&#x5219;&#x5B83;&#x4E0D;&#x4F1A;&#x91CA;&#x653E;&#x8BE5;&#x5BF9;&#x8C61;&#x3002;</p>
<p>&#x6309;&#x7167; <strong>SoftReference</strong> &#xFF0C; <strong>WeakReference</strong> &#x548C; <strong>PhantomReference</strong> &#x7684;&#x987A;&#x5E8F;&#xFF0C;&#x6BCF;&#x4E2A;&#x90FD;&#x6BD4;&#x524D;&#x4E00;&#x4E2A;&#x66F4;&#x201C;&#x5F31;&#x201D;&#xFF0C;&#x5E76;&#x4E14;&#x5BF9;&#x5E94;&#x4E8E;&#x4E0D;&#x540C;&#x7684;&#x53EF;&#x8FBE;&#x6027;&#x7EA7;&#x522B;&#x3002;&#x8F6F;&#x5F15;&#x7528;&#x7528;&#x4E8E;&#x5B9E;&#x73B0;&#x5BF9;&#x5185;&#x5B58;&#x654F;&#x611F;&#x7684;&#x7F13;&#x5B58;&#x3002;&#x5F31;&#x5F15;&#x7528;&#x7528;&#x4E8E;&#x5B9E;&#x73B0;&#x201C;&#x89C4;&#x8303;&#x5316;&#x6620;&#x5C04;&#x201D;&#xFF08; canonicalized mappings&#xFF09;&#x2014;&#x2014;&#x5BF9;&#x8C61;&#x7684;&#x5B9E;&#x4F8B;&#x53EF;&#x4EE5;&#x5728;&#x7A0B;&#x5E8F;&#x7684;&#x591A;&#x4E2A;&#x4F4D;&#x7F6E;&#x540C;&#x65F6;&#x4F7F;&#x7528;&#xFF0C;&#x4EE5;&#x8282;&#x7701;&#x5B58;&#x50A8;&#xFF0C;&#x4F46;&#x4E0D;&#x4F1A;&#x963B;&#x6B62;&#x5176;&#x952E;&#xFF08;&#x6216;&#x503C;&#xFF09;&#x88AB;&#x56DE;&#x6536;&#x3002;&#x865A;&#x5F15;&#x7528;&#x7528;&#x4E8E;&#x8C03;&#x5EA6; pre-mortem &#x6E05;&#x7406;&#x64CD;&#x4F5C;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x6BD4; Java &#x7EC8;&#x7ED3;&#x673A;&#x5236;&#xFF08;Java finalization mechanism&#xFF09;&#x66F4;&#x7075;&#x6D3B;&#x7684;&#x65B9;&#x5F0F;&#x3002;</p>
<p>&#x4F7F;&#x7528; <strong>SoftReference</strong> &#x548C; <strong>WeakReference</strong> &#xFF0C;&#x53EF;&#x4EE5;&#x9009;&#x62E9;&#x662F;&#x5426;&#x5C06;&#x5B83;&#x4EEC;&#x653E;&#x5728; <strong>ReferenceQueue</strong> &#xFF08;&#x7528;&#x4E8E; pre-mortem &#x6E05;&#x7406;&#x64CD;&#x4F5C;&#x7684;&#x8BBE;&#x5907;&#xFF09;&#x4E2D;&#xFF0C;&#x4F46; <strong>PhantomReference</strong> &#x53EA;&#x80FD;&#x5728; <strong>ReferenceQueue</strong> &#x4E0A;&#x6784;&#x5EFA;&#x3002;&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x6F14;&#x793A;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/References.java</span>
<span class="token comment">// Demonstrates Reference objects</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>ref<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">VeryBig</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> SIZE <span class="token operator">=</span> <span class="token number">10000</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token keyword">long</span><span class="token punctuation">[</span><span class="token punctuation">]</span> la <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">long</span><span class="token punctuation">[</span>SIZE<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> ident<span class="token punctuation">;</span>
  <span class="token class-name">VeryBig</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span> ident <span class="token operator">=</span> id<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> ident<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Finalizing &quot;</span> <span class="token operator">+</span> ident<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">References</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">ReferenceQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">VeryBig</span><span class="token punctuation">&gt;</span></span> rq <span class="token operator">=</span>
    <span class="token keyword">new</span> <span class="token class-name">ReferenceQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">checkQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Reference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span> <span class="token keyword">extends</span> <span class="token class-name">VeryBig</span><span class="token punctuation">&gt;</span></span> inq <span class="token operator">=</span> rq<span class="token punctuation">.</span><span class="token function">poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>inq <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;In queue: &quot;</span> <span class="token operator">+</span> inq<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
    <span class="token comment">// Or, choose size via the command line:</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
      size <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">SoftReference</span><span class="token punctuation">&lt;</span><span class="token class-name">VeryBig</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> sa <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      sa<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SoftReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">VeryBig</span><span class="token punctuation">(</span><span class="token string">&quot;Soft &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">,</span> rq<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
        <span class="token string">&quot;Just created: &quot;</span> <span class="token operator">+</span> sa<span class="token punctuation">.</span><span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">checkQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">WeakReference</span><span class="token punctuation">&lt;</span><span class="token class-name">VeryBig</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> wa <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      wa<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WeakReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">VeryBig</span><span class="token punctuation">(</span><span class="token string">&quot;Weak &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">,</span> rq<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
        <span class="token string">&quot;Just created: &quot;</span> <span class="token operator">+</span> wa<span class="token punctuation">.</span><span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">checkQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">SoftReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">VeryBig</span><span class="token punctuation">&gt;</span></span> s <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">SoftReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">VeryBig</span><span class="token punctuation">(</span><span class="token string">&quot;Soft&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">WeakReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">VeryBig</span><span class="token punctuation">&gt;</span></span> w <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">WeakReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">VeryBig</span><span class="token punctuation">(</span><span class="token string">&quot;Weak&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">PhantomReference</span><span class="token punctuation">&lt;</span><span class="token class-name">VeryBig</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> pa <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      pa<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">PhantomReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>
        <span class="token keyword">new</span> <span class="token class-name">VeryBig</span><span class="token punctuation">(</span><span class="token string">&quot;Phantom &quot;</span> <span class="token operator">+</span> i<span class="token punctuation">)</span><span class="token punctuation">,</span> rq<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
        <span class="token string">&quot;Just created: &quot;</span> <span class="token operator">+</span> pa<span class="token punctuation">.</span><span class="token function">getLast</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">checkQueue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output: (First and Last 10 Lines)
Just created: java.lang.ref.SoftReference@15db9742
Just created: java.lang.ref.SoftReference@6d06d69c
Just created: java.lang.ref.SoftReference@7852e922
Just created: java.lang.ref.SoftReference@4e25154f
Just created: java.lang.ref.SoftReference@70dea4e
Just created: java.lang.ref.SoftReference@5c647e05
Just created: java.lang.ref.SoftReference@33909752
Just created: java.lang.ref.SoftReference@55f96302
Just created: java.lang.ref.SoftReference@3d4eac69
Just created: java.lang.ref.SoftReference@42a57993
...________...________...________...________...
Just created: java.lang.ref.PhantomReference@45ee12a7
In queue: null
Just created: java.lang.ref.PhantomReference@330bedb4
In queue: null
Just created: java.lang.ref.PhantomReference@2503dbd3
In queue: null
Just created: java.lang.ref.PhantomReference@4b67cf4d
In queue: null
Just created: java.lang.ref.PhantomReference@7ea987ac
In queue: null
*/</span>
</code></pre>
<p>&#x5F53;&#x8FD0;&#x884C;&#x6B64;&#x7A0B;&#x5E8F;&#xFF08;&#x5C06;&#x8F93;&#x51FA;&#x91CD;&#x5B9A;&#x5411;&#x5230;&#x6587;&#x672C;&#x6587;&#x4EF6;&#x4EE5;&#x67E5;&#x770B;&#x9875;&#x9762;&#x4E2D;&#x7684;&#x8F93;&#x51FA;&#xFF09;&#x65F6;&#xFF0C;&#x5C06;&#x4F1A;&#x770B;&#x5230;&#x5BF9;&#x8C61;&#x662F;&#x88AB;&#x5783;&#x573E;&#x6536;&#x96C6;&#x4E86;&#x7684;&#xFF0C;&#x867D;&#x7136;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <strong>Reference</strong> &#x5BF9;&#x8C61;&#x8BBF;&#x95EE;&#x5B83;&#x4EEC;&#xFF08;&#x4F7F;&#x7528; <code>get()</code> &#x6765;&#x83B7;&#x53D6;&#x5B9E;&#x9645;&#x7684;&#x5BF9;&#x8C61;&#x5F15;&#x7528;&#xFF09;&#x3002; &#x8FD8;&#x53EF;&#x4EE5;&#x770B;&#x5230; <strong>ReferenceQueue</strong> &#x59CB;&#x7EC8;&#x751F;&#x6210;&#x5305;&#x542B; <strong>null</strong> &#x5BF9;&#x8C61;&#x7684; <strong>Reference</strong> &#x3002; &#x8981;&#x4F7F;&#x7528;&#x5B83;&#xFF0C;&#x8BF7;&#x4ECE;&#x7279;&#x5B9A;&#x7684; <strong>Reference</strong> &#x7C7B;&#x7EE7;&#x627F;&#xFF0C;&#x5E76;&#x4E3A;&#x65B0;&#x7C7B;&#x6DFB;&#x52A0;&#x66F4;&#x591A;&#x6709;&#x7528;&#x7684;&#x65B9;&#x6CD5;&#x3002;</p>
<!-- The WeakHashMap -->
<h3 id="weakhashmap"><a name="weakhashmap" class="anchor-navigation-ex-anchor" href="#weakhashmap"><i class="fa fa-link" aria-hidden="true"></i></a>1.14.1. WeakHashMap</h3>
<p>&#x96C6;&#x5408;&#x7C7B;&#x5E93;&#x4E2D;&#x6709;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684; <strong>Map</strong> &#x6765;&#x4FDD;&#x5B58;&#x5F31;&#x5F15;&#x7528;&#xFF1A; <strong>WeakHashMap</strong> &#x3002; &#x6B64;&#x7C7B;&#x53EF;&#x4EE5;&#x66F4;&#x8F7B;&#x677E;&#x5730;&#x521B;&#x5EFA;&#x89C4;&#x8303;&#x5316;&#x6620;&#x5C04;&#x3002;&#x5728;&#x8FD9;&#x79CD;&#x6620;&#x5C04;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x4EC5;&#x4EC5;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x503C;&#x7684;&#x5B9E;&#x4F8B;&#x6765;&#x8282;&#x7701;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x3002;&#x5F53;&#x7A0B;&#x5E8F;&#x9700;&#x8981;&#x8BE5;&#x503C;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x67E5;&#x627E;&#x6620;&#x5C04;&#x4E2D;&#x7684;&#x73B0;&#x6709;&#x5BF9;&#x8C61;&#x5E76;&#x4F7F;&#x7528;&#x5B83;&#xFF08;&#x800C;&#x4E0D;&#x662F;&#x4ECE;&#x5934;&#x5F00;&#x59CB;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#xFF09;&#x3002; &#x8BE5;&#x6620;&#x5C04;&#x53EF;&#x4EE5;&#x5C06;&#x503C;&#x4F5C;&#x4E3A;&#x5176;&#x521D;&#x59CB;&#x5316;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x4F46;&#x66F4;&#x6709;&#x53EF;&#x80FD;&#x7684;&#x662F;&#x5728;&#x9700;&#x8981;&#x65F6;&#x521B;&#x5EFA;&#x8BE5;&#x503C;&#x3002;</p>
<p>&#x7531;&#x4E8E;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x8282;&#x7701;&#x5B58;&#x50A8;&#x7A7A;&#x95F4;&#x7684;&#x6280;&#x672F;&#xFF0C;&#x56E0;&#x6B64; <strong>WeakHashMap</strong> &#x5141;&#x8BB8;&#x5783;&#x573E;&#x6536;&#x96C6;&#x5668;&#x81EA;&#x52A8;&#x6E05;&#x7406;&#x952E;&#x548C;&#x503C;&#xFF0C;&#x8FD9;&#x662F;&#x975E;&#x5E38;&#x65B9;&#x4FBF;&#x7684;&#x3002;&#x4E0D;&#x80FD;&#x5BF9;&#x653E;&#x5728; <strong>WeakHashMap</strong> &#x4E2D;&#x7684;&#x952E;&#x548C;&#x503C;&#x505A;&#x4EFB;&#x4F55;&#x7279;&#x6B8A;&#x64CD;&#x4F5C;&#xFF0C;&#x5B83;&#x4EEC;&#x7531; map &#x81EA;&#x52A8;&#x5305;&#x88C5;&#x5728; <strong>WeakReference</strong> &#x4E2D;&#x3002;&#x5F53;&#x952E;&#x4E0D;&#x518D;&#x88AB;&#x4F7F;&#x7528;&#x7684;&#x65F6;&#x5019;&#x624D;&#x5141;&#x8BB8;&#x6E05;&#x7406;&#xFF0C;&#x5982;&#x4E0B;&#x6240;&#x793A;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/CanonicalMapping.java</span>
<span class="token comment">// Demonstrates WeakHashMap</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">Element</span> <span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token class-name">String</span> ident<span class="token punctuation">;</span>
  <span class="token class-name">Element</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span> ident <span class="token operator">=</span> id<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> ident<span class="token punctuation">;</span> <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">hashCode</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">hashCode</span><span class="token punctuation">(</span>ident<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">equals</span><span class="token punctuation">(</span><span class="token class-name">Object</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> r <span class="token keyword">instanceof</span> <span class="token class-name">Element</span> <span class="token operator">&amp;&amp;</span>
      <span class="token class-name">Objects</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>ident<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">Element</span><span class="token punctuation">)</span>r<span class="token punctuation">)</span><span class="token punctuation">.</span>ident<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token annotation punctuation">@Override</span>
  <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">finalize</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Finalizing &quot;</span> <span class="token operator">+</span>
      <span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSimpleName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> ident<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Key</span> <span class="token keyword">extends</span> <span class="token class-name">Element</span> <span class="token punctuation">{</span>
  <span class="token class-name">Key</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">super</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Value</span> <span class="token keyword">extends</span> <span class="token class-name">Element</span> <span class="token punctuation">{</span>
  <span class="token class-name">Value</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">super</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CanonicalMapping</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">int</span> size <span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">;</span>
    <span class="token comment">// Or, choose size via the command line:</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>args<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
      size <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>args<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Key</span><span class="token punctuation">[</span><span class="token punctuation">]</span> keys <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Key</span><span class="token punctuation">[</span>size<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token class-name">WeakHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Key</span><span class="token punctuation">,</span><span class="token class-name">Value</span><span class="token punctuation">&gt;</span></span> map <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">WeakHashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> size<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">Key</span> k <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Key</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token class-name">Value</span> v <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Value</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>i <span class="token operator">%</span> <span class="token number">3</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
        keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> k<span class="token punctuation">;</span> <span class="token comment">// Save as &quot;real&quot; references</span>
      map<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span>k<span class="token punctuation">,</span> v<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">gc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>Key</strong> &#x7C7B;&#x5FC5;&#x987B;&#x5177;&#x6709; <code>hashCode()</code> &#x548C; <code>equals()</code> &#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x5C06;&#x88AB;&#x7528;&#x4F5C;&#x6563;&#x5217;&#x6570;&#x636E;&#x7ED3;&#x6784;&#x4E2D;&#x7684;&#x952E;&#x3002; <code>hashCode()</code> &#x7684;&#x5185;&#x5BB9;&#x5728;<a href="">&#x9644;&#x5F55;&#xFF1A;&#x7406;&#x89E3;hashCode&#x548C;equals&#x65B9;&#x6CD5;</a>&#x4E2D;&#x8FDB;&#x884C;&#x4E86;&#x63CF;&#x8FF0;&#x3002;</p>
<p>&#x8FD0;&#x884C;&#x7A0B;&#x5E8F;&#xFF0C;&#x4F60;&#x4F1A;&#x770B;&#x5230;&#x5783;&#x573E;&#x6536;&#x96C6;&#x5668;&#x6BCF;&#x4E09;&#x4E2A;&#x952E;&#x8DF3;&#x8FC7;&#x4E00;&#x6B21;&#x3002;&#x5BF9;&#x8BE5;&#x952E;&#x7684;&#x666E;&#x901A;&#x5F15;&#x7528;&#x4E5F;&#x88AB;&#x653E;&#x7F6E;&#x5728; <strong>keys</strong> &#x6570;&#x7EC4;&#x4E2D;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x4E9B;&#x5BF9;&#x8C61;&#x4E0D;&#x80FD;&#x88AB;&#x5783;&#x573E;&#x6536;&#x96C6;&#x3002;</p>
<!-- Java 1.0/1.1 Collections -->
<h2 id="java-10--11-&#x7684;&#x96C6;&#x5408;&#x7C7B;"><a name="java-10--11-&#x7684;&#x96C6;&#x5408;&#x7C7B;" class="anchor-navigation-ex-anchor" href="#java-10--11-&#x7684;&#x96C6;&#x5408;&#x7C7B;"><i class="fa fa-link" aria-hidden="true"></i></a>1.15. Java 1.0 / 1.1 &#x7684;&#x96C6;&#x5408;&#x7C7B;</h2>
<p>&#x4E0D;&#x5E78;&#x7684;&#x662F;&#xFF0C;&#x8BB8;&#x591A;&#x4EE3;&#x7801;&#x662F;&#x4F7F;&#x7528; Java 1.0 / 1.1 &#x4E2D;&#x7684;&#x96C6;&#x5408;&#x7F16;&#x5199;&#x7684;&#xFF0C;&#x751A;&#x81F3;&#x65B0;&#x4EE3;&#x7801;&#x6709;&#x65F6;&#x4E5F;&#x662F;&#x4F7F;&#x7528;&#x8FD9;&#x4E9B;&#x7C7B;&#x7F16;&#x5199;&#x7684;&#x3002;&#x7F16;&#x5199;&#x65B0;&#x4EE3;&#x7801;&#x65F6;&#x5207;&#x52FF;&#x4F7F;&#x7528;&#x65E7;&#x96C6;&#x5408;&#x3002;&#x65E7;&#x7684;&#x96C6;&#x5408;&#x7C7B;&#x6709;&#x9650;&#xFF0C;&#x6240;&#x4EE5;&#x5173;&#x4E8E;&#x5B83;&#x4EEC;&#x7684;&#x8BA8;&#x8BBA;&#x4E0D;&#x591A;&#x3002;&#x7531;&#x4E8E;&#x5B83;&#x4EEC;&#x662F;&#x4E0D;&#x5408;&#x65F6;&#x5B9C;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4F1A;&#x5C3D;&#x91CF;&#x907F;&#x514D;&#x8FC7;&#x5206;&#x5F3A;&#x8C03;&#x4E00;&#x4E9B;&#x53EF;&#x6015;&#x7684;&#x8BBE;&#x8BA1;&#x51B3;&#x5B9A;&#x3002;</p>
<!-- Vector & Enumeration -->
<h3 id="vector-&#x548C;-enumeration"><a name="vector-&#x548C;-enumeration" class="anchor-navigation-ex-anchor" href="#vector-&#x548C;-enumeration"><i class="fa fa-link" aria-hidden="true"></i></a>1.15.1. Vector &#x548C; Enumeration</h3>
<p>Java 1.0 / 1.1 &#x4E2D;&#x552F;&#x4E00;&#x7684;&#x81EA;&#x6269;&#x5C55;&#x5E8F;&#x5217;&#x662F; <strong>Vector</strong> &#xFF0C;&#x56E0;&#x6B64;&#x5B83;&#x88AB;&#x7528;&#x4E8E;&#x5F88;&#x591A;&#x5730;&#x65B9;&#x3002;&#x5B83;&#x7684;&#x7F3A;&#x9677;&#x592A;&#x591A;&#x4E86;&#xFF0C;&#x65E0;&#x6CD5;&#x5728;&#x8FD9;&#x91CC;&#x63CF;&#x8FF0;&#xFF08;&#x53C2;&#x89C1;&#x300A;Java&#x7F16;&#x7A0B;&#x601D;&#x60F3;&#x300B;&#x7B2C;1&#x7248;&#xFF0C;&#x53EF;&#x4ECE;<a href="www.OnJava8.com">www.OnJava8.com</a>&#x514D;&#x8D39;&#x4E0B;&#x8F7D;&#xFF09;&#x3002;&#x57FA;&#x672C;&#x4E0A;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5C06;&#x5B83;&#x770B;&#x4F5C;&#x662F;&#x5177;&#x6709;&#x5197;&#x957F;&#x4E14;&#x7B28;&#x62D9;&#x7684;&#x65B9;&#x6CD5;&#x540D;&#x79F0;&#x7684; <strong>ArrayList</strong> &#x3002;&#x5728;&#x4FEE;&#x8BA2;&#x540E;&#x7684; Java &#x96C6;&#x5408;&#x5E93;&#x4E2D;&#xFF0C;<strong>Vector</strong> &#x5DF2;&#x7ECF;&#x88AB;&#x8C03;&#x6574;&#x9002;&#x914D;&#x8FC7;&#xFF0C;&#x56E0;&#x6B64;&#x53EF;&#x4EE5;&#x4F5C;&#x4E3A; <strong>Collection</strong> &#x548C; <strong>List</strong> &#x6765;&#x4F7F;&#x7528;&#x3002;&#x4E8B;&#x5B9E;&#x8BC1;&#x660E;&#x8FD9;&#x6709;&#x70B9;&#x4E0D;&#x6B63;&#x5E38;&#xFF0C;&#x96C6;&#x5408;&#x7C7B;&#x5E93;&#x4ECD;&#x7136;&#x5305;&#x542B;&#x5B83;&#x53EA;&#x662F;&#x4E3A;&#x4E86;&#x652F;&#x6301;&#x65E7;&#x7684; Java &#x4EE3;&#x7801;&#xFF0C;&#x4F46;&#x8FD9;&#x4F1A;&#x8BA9;&#x4E00;&#x4E9B;&#x4EBA;&#x8BEF;&#x4EE5;&#x4E3A; <strong>Vector</strong> &#x5DF2;&#x7ECF;&#x53D8;&#x5F97;&#x66F4;&#x597D;&#x4E86;&#x3002;</p>
<p>&#x8FED;&#x4EE3;&#x5668;&#x7684; Java 1.0 / 1.1 &#x7248;&#x672C;&#x9009;&#x62E9;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x540D;&#x79F0;&#x201C;enumeration&#x201D;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4F7F;&#x7528;&#x6BCF;&#x4E2A;&#x4EBA;&#x90FD;&#x719F;&#x6089;&#x7684;&#x672F;&#x8BED;&#xFF08;&#x201C;iterator&#x201D;&#xFF09;&#x3002; <strong>Enumeration</strong> &#x63A5;&#x53E3;&#x5C0F;&#x4E8E; <strong>Iterator</strong> &#xFF0C;&#x53EA;&#x5305;&#x542B;&#x4E24;&#x4E2A;&#x65B9;&#x6CD5;&#xFF0C;&#x5E76;&#x4E14;&#x5B83;&#x4F7F;&#x7528;&#x66F4;&#x957F;&#x7684;&#x65B9;&#x6CD5;&#x540D;&#x79F0;&#xFF1A;&#x5982;&#x679C;&#x8FD8;&#x6709;&#x66F4;&#x591A;&#x5143;&#x7D20;&#xFF0C;&#x5219; <code>boolean hasMoreElements()</code> &#x8FD4;&#x56DE; <code>true</code> &#xFF0C; <code>Object nextElement()</code> &#x8FD4;&#x56DE;&#x6B64;enumeration&#x7684;&#x4E0B;&#x4E00;&#x4E2A;&#x5143;&#x7D20; &#xFF08;&#x5426;&#x5219;&#x4F1A;&#x629B;&#x51FA;&#x5F02;&#x5E38;&#xFF09;&#x3002;</p>
<p><strong>Enumeration</strong> &#x53EA;&#x662F;&#x4E00;&#x4E2A;&#x63A5;&#x53E3;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x5B9E;&#x73B0;&#xFF0C;&#x751A;&#x81F3;&#x65B0;&#x7684;&#x7C7B;&#x5E93;&#x6709;&#x65F6;&#x4ECD;&#x7136;&#x4F7F;&#x7528;&#x65E7;&#x7684; <strong>Enumeration</strong> &#xFF0C;&#x8FD9;&#x662F;&#x4E0D;&#x5E78;&#x7684;&#xFF0C;&#x4F46;&#x901A;&#x5E38;&#x662F;&#x65E0;&#x5BB3;&#x7684;&#x3002;&#x5E94;&#x8BE5;&#x603B;&#x662F;&#x5728;&#x81EA;&#x5DF1;&#x7684;&#x4EE3;&#x7801;&#x4E2D;&#x4F7F;&#x7528; <strong>Iterator</strong> &#xFF0C;&#x4F46;&#x8981;&#x505A;&#x597D;&#x51C6;&#x5907;&#x5E94;&#x5BF9;&#x90A3;&#x4E9B;&#x63D0;&#x4F9B; <strong>Enumeration</strong> &#x7684;&#x7C7B;&#x5E93;&#x3002;</p>
<p>&#x6B64;&#x5916;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>Collections.enumeration()</code> &#x65B9;&#x6CD5;&#x4E3A;&#x4EFB;&#x4F55; <strong>Collection</strong> &#x751F;&#x6210; <strong>Enumeration</strong> &#xFF0C;&#x5982;&#x4E0B;&#x4F8B;&#x6240;&#x793A;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/Enumerations.java</span>
<span class="token comment">// Java 1.0/1.1 Vector and Enumeration</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">onjava<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Enumerations</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Vector</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> v <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name">Vector</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token class-name">Countries</span><span class="token punctuation">.</span><span class="token function">names</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Enumeration</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> e <span class="token operator">=</span> v<span class="token punctuation">.</span><span class="token function">elements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">hasMoreElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span><span class="token function">nextElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;, &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Produce an Enumeration from a Collection:</span>
    e <span class="token operator">=</span> <span class="token class-name">Collections</span><span class="token punctuation">.</span><span class="token function">enumeration</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
ALGERIA, ANGOLA, BENIN, BOTSWANA, BURKINA FASO,
BURUNDI, CAMEROON, CAPE VERDE, CENTRAL AFRICAN
REPUBLIC, CHAD,
*/</span>
</code></pre>
<p>&#x8981;&#x751F;&#x6210; <strong>Enumeration</strong> &#xFF0C;&#x53EF;&#x4EE5;&#x8C03;&#x7528; <code>elements()</code> &#xFF0C;&#x7136;&#x540E;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5B83;&#x6765;&#x6267;&#x884C;&#x5411;&#x524D;&#x8FED;&#x4EE3;&#x3002;</p>
<p>&#x6700;&#x540E;&#x4E00;&#x884C;&#x521B;&#x5EFA;&#x4E00;&#x4E2A; <strong>ArrayList</strong> &#xFF0C;&#x5E76;&#x4F7F;&#x7528; <code>enumeration()</code> &#x6765;&#x5C06; <strong>ArrayList</strong> &#x9002;&#x914D;&#x4E3A;&#x4E00;&#x4E2A; <strong>Enumeration</strong> &#x3002; &#x56E0;&#x6B64;&#xFF0C;&#x5982;&#x679C;&#x6709;&#x65E7;&#x4EE3;&#x7801;&#x9700;&#x8981;&#x4F7F;&#x7528; <strong>Enumeration</strong> &#xFF0C;&#x4F60;&#x4ECD;&#x7136;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x65B0;&#x96C6;&#x5408;&#x3002;</p>
<!-- Hashtable -->
<h3 id="hashtable"><a name="hashtable" class="anchor-navigation-ex-anchor" href="#hashtable"><i class="fa fa-link" aria-hidden="true"></i></a>1.15.2. Hashtable</h3>
<p>&#x6B63;&#x5982;&#x4F60;&#x5728;&#x672C;&#x9644;&#x5F55;&#x4E2D;&#x7684;&#x6027;&#x80FD;&#x6BD4;&#x8F83;&#x4E2D;&#x6240;&#x770B;&#x5230;&#x7684;&#xFF0C;&#x57FA;&#x672C;&#x7684; <strong>Hashtable</strong> &#x4E0E; <strong>HashMap</strong> &#x975E;&#x5E38;&#x76F8;&#x4F3C;&#xFF0C;&#x751A;&#x81F3;&#x65B9;&#x6CD5;&#x540D;&#x79F0;&#x90FD;&#x76F8;&#x4F3C;&#x3002;&#x5728;&#x65B0;&#x4EE3;&#x7801;&#x4E2D;&#x6CA1;&#x6709;&#x7406;&#x7531;&#x4F7F;&#x7528; <strong>Hashtable</strong> &#x800C;&#x4E0D;&#x662F; <strong>HashMap</strong> &#x3002;</p>
<!-- Stack -->
<h3 id="stack"><a name="stack" class="anchor-navigation-ex-anchor" href="#stack"><i class="fa fa-link" aria-hidden="true"></i></a>1.15.3. Stack</h3>
<p>&#x4E4B;&#x524D;&#x4F7F;&#x7528; <strong>LinkedList</strong> &#x5F15;&#x5165;&#x4E86;&#x6808;&#x7684;&#x6982;&#x5FF5;&#x3002; Java 1.0 / 1.1 <strong>Stack</strong> &#x7684;&#x5947;&#x602A;&#x4E4B;&#x5904;&#x5728;&#x4E8E;&#xFF0C;&#x4E0D;&#x662F;&#x4EE5;&#x7EC4;&#x5408;&#x65B9;&#x5F0F;&#x4F7F;&#x7528; <strong>Vector</strong> &#xFF0C;&#x800C;&#x662F;&#x7EE7;&#x627F;&#x81EA; <strong>Vector</strong> &#x3002; &#x56E0;&#x6B64;&#x5B83;&#x5177;&#x6709; <strong>Vector</strong> &#x7684;&#x6240;&#x6709;&#x7279;&#x5F81;&#x548C;&#x884C;&#x4E3A;&#x4EE5;&#x53CA;&#x4E00;&#x4E9B;&#x989D;&#x5916;&#x7684; <strong>Stack</strong> &#x884C;&#x4E3A;&#x3002;&#x5F88;&#x96BE;&#x53BB;&#x77E5;&#x9053;&#x8BBE;&#x8BA1;&#x5E08;&#x662F;&#x5426;&#x6709;&#x610F;&#x8BC6;&#x5730;&#x8BA4;&#x4E3A;&#x8FD9;&#x6837;&#x505A;&#x662F;&#x6709;&#x7528;&#x7684;&#xFF0C;&#x6216;&#x8005;&#x5B83;&#x662F;&#x5426;&#x53EA;&#x662F;&#x592A;&#x5929;&#x771F;&#x4E86;&#xFF0C;&#x65E0;&#x8BBA;&#x5982;&#x4F55;&#xFF0C;&#x5B83;&#x5728;&#x8FDB;&#x5165;&#x53D1;&#x884C;&#x7248;&#x4E4B;&#x524D;&#x663E;&#x7136;&#x6CA1;&#x6709;&#x7ECF;&#x8FC7;&#x5BA1;&#x67E5;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E2A;&#x7CDF;&#x7CD5;&#x7684;&#x8BBE;&#x8BA1;&#x4ECD;&#x7136;&#x5B58;&#x5728;&#xFF08;&#x4F46;&#x4E0D;&#x8981;&#x4F7F;&#x7528;&#x5B83;&#xFF09;&#x3002;</p>
<p>&#x8FD9;&#x662F; <strong>Stack</strong> &#x7684;&#x7B80;&#x5355;&#x6F14;&#x793A;&#xFF0C;&#x5411;&#x6808;&#x4E2D;&#x653E;&#x5165;&#x679A;&#x4E3E;&#x4E2D;&#x6BCF;&#x4E00;&#x4E2A;&#x7C7B;&#x578B;&#x7684; <strong>String</strong> &#x5F62;&#x5F0F;&#x3002;&#x5B83;&#x8FD8;&#x5C55;&#x793A;&#x4E86;&#x5982;&#x4F55;&#x8F7B;&#x677E;&#x5730;&#x5C06; <strong>LinkedList</strong> &#x7528;&#x4F5C;&#x6808;&#xFF0C;&#x6216;&#x8005;&#x4F7F;&#x7528;&#x5728;<a href="">&#x7B2C;&#x5341;&#x4E8C;&#x7AE0;&#xFF1A;&#x96C6;&#x5408;</a>&#x7AE0;&#x8282;&#x4E2D;&#x521B;&#x5EFA;&#x7684; <strong>Stack</strong> &#x7C7B;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/Stacks.java</span>
<span class="token comment">// Demonstration of Stack Class</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">enum</span> <span class="token class-name">Month</span> <span class="token punctuation">{</span> JANUARY<span class="token punctuation">,</span> FEBRUARY<span class="token punctuation">,</span> MARCH<span class="token punctuation">,</span> APRIL<span class="token punctuation">,</span>
  MAY<span class="token punctuation">,</span> JUNE<span class="token punctuation">,</span> JULY<span class="token punctuation">,</span> AUGUST<span class="token punctuation">,</span> SEPTEMBER<span class="token punctuation">,</span>
  OCTOBER<span class="token punctuation">,</span> NOVEMBER <span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Stacks</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Month</span> m <span class="token operator">:</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;stack = &quot;</span> <span class="token operator">+</span> stack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Treating a stack as a Vector:</span>
    stack<span class="token punctuation">.</span><span class="token function">addElement</span><span class="token punctuation">(</span><span class="token string">&quot;The last line&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>
      <span class="token string">&quot;element 5 = &quot;</span> <span class="token operator">+</span> stack<span class="token punctuation">.</span><span class="token function">elementAt</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;popping elements:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>stack<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>stack<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Using a LinkedList as a Stack:</span>
    <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> lstack <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LinkedList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Month</span> m <span class="token operator">:</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      lstack<span class="token punctuation">.</span><span class="token function">addFirst</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;lstack = &quot;</span> <span class="token operator">+</span> lstack<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>lstack<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>lstack<span class="token punctuation">.</span><span class="token function">removeFirst</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Using the Stack class from</span>
    <span class="token comment">// the Collections Chapter:</span>
    <span class="token class-name"><span class="token namespace">onjava<span class="token punctuation">.</span></span>Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> stack2 <span class="token operator">=</span>
      <span class="token keyword">new</span> <span class="token class-name"><span class="token namespace">onjava<span class="token punctuation">.</span></span>Stack</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token class-name">Month</span> m <span class="token operator">:</span> <span class="token class-name">Month</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      stack2<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>m<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;stack2 = &quot;</span> <span class="token operator">+</span> stack2<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">while</span><span class="token punctuation">(</span><span class="token operator">!</span>stack2<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">print</span><span class="token punctuation">(</span>stack2<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
stack = [JANUARY, FEBRUARY, MARCH, APRIL, MAY, JUNE,
JULY, AUGUST, SEPTEMBER, OCTOBER, NOVEMBER]
element 5 = JUNE
popping elements:
The last line NOVEMBER OCTOBER SEPTEMBER AUGUST JULY
JUNE MAY APRIL MARCH FEBRUARY JANUARY lstack =
[NOVEMBER, OCTOBER, SEPTEMBER, AUGUST, JULY, JUNE, MAY,
APRIL, MARCH, FEBRUARY, JANUARY]
NOVEMBER OCTOBER SEPTEMBER AUGUST JULY JUNE MAY APRIL
MARCH FEBRUARY JANUARY stack2 = [NOVEMBER, OCTOBER,
SEPTEMBER, AUGUST, JULY, JUNE, MAY, APRIL, MARCH,
FEBRUARY, JANUARY]
NOVEMBER OCTOBER SEPTEMBER AUGUST JULY JUNE MAY APRIL
MARCH FEBRUARY JANUARY
*/</span>
</code></pre>
<p><strong>String</strong> &#x5F62;&#x5F0F;&#x662F;&#x7531; <strong>Month</strong> &#x4E2D;&#x7684;&#x679A;&#x4E3E;&#x5E38;&#x91CF;&#x751F;&#x6210;&#x7684;&#xFF0C;&#x4F7F;&#x7528; <code>push()</code> &#x538B;&#x5165;&#x5230;&#x6808;&#x4E2D;&#xFF0C;&#x7136;&#x540E;&#x4F7F;&#x7528; <code>pop()</code> &#x4ECE;&#x6808;&#x9876;&#x90E8;&#x53D6;&#x51FA;&#x3002;&#x4E3A;&#x4E86;&#x8BF4;&#x660E;&#x4E00;&#x70B9;&#xFF0C;&#x5C06; <strong>Vector</strong> &#x7684;&#x64CD;&#x4F5C;&#x4E5F;&#x5728; <strong>Stack</strong> &#x5BF9;&#x8C61;&#x4E0A;&#x6267;&#x884C;&#xFF0C; &#x8FD9;&#x662F;&#x53EF;&#x80FD;&#x7684;&#xFF0C;&#x56E0;&#x4E3A;&#x51ED;&#x501F;&#x7EE7;&#x627F;&#xFF0C; <strong>Stack</strong> &#x662F; <strong>Vector</strong> &#x3002; &#x56E0;&#x6B64;&#xFF0C;&#x53EF;&#x4EE5;&#x5728; <strong>Vector</strong> &#x4E0A;&#x6267;&#x884C;&#x7684;&#x6240;&#x6709;&#x64CD;&#x4F5C;&#x4E5F;&#x53EF;&#x4EE5;&#x5728; <strong>Stack</strong> &#x4E0A;&#x6267;&#x884C;&#xFF0C;&#x4F8B;&#x5982; <code>elementAt()</code> &#x3002;</p>
<p>&#x5982;&#x524D;&#x6240;&#x8FF0;&#xFF0C;&#x5728;&#x9700;&#x8981;&#x6808;&#x884C;&#x4E3A;&#x65F6;&#x4F7F;&#x7528; <strong>LinkedList</strong> &#xFF0C;&#x6216;&#x8005;&#x4ECE; <strong>LinkedList</strong> &#x7C7B;&#x521B;&#x5EFA;&#x7684; <strong>onjava.Stack</strong> &#x7C7B;&#x3002;</p>
<!-- BitSet -->
<h3 id="bitset"><a name="bitset" class="anchor-navigation-ex-anchor" href="#bitset"><i class="fa fa-link" aria-hidden="true"></i></a>1.15.4. BitSet</h3>
<p><strong>BitSet</strong> &#x7528;&#x4E8E;&#x6709;&#x6548;&#x5730;&#x5B58;&#x50A8;&#x5927;&#x91CF;&#x7684;&#x5F00;&#x5173;&#x4FE1;&#x606F;&#x3002;&#x4EC5;&#x4ECE;&#x5C3A;&#x5BF8;&#x5927;&#x5C0F;&#x7684;&#x89D2;&#x5EA6;&#x6765;&#x770B;&#x5B83;&#x662F;&#x6709;&#x6548;&#x7684;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x6B63;&#x5728;&#x5BFB;&#x627E;&#x6709;&#x6548;&#x7684;&#x8BBF;&#x95EE;&#xFF0C;&#x5B83;&#x6BD4;&#x4F7F;&#x7528;&#x672C;&#x673A;&#x6570;&#x7EC4;&#xFF08;native array&#xFF09;&#x7A0D;&#x6162;&#x3002;</p>
<p>&#x6B64;&#x5916;&#xFF0C; <strong>BitSet</strong> &#x7684;&#x6700;&#x5C0F;&#x5927;&#x5C0F;&#x662F; <strong>long</strong> &#xFF1A;64&#x4F4D;&#x3002;&#x8FD9;&#x610F;&#x5473;&#x7740;&#x5982;&#x679C;&#x4F60;&#x8981;&#x5B58;&#x50A8;&#x66F4;&#x5C0F;&#x7684;&#x4E1C;&#x897F;&#xFF0C;&#x6BD4;&#x5982;8&#x4F4D;&#xFF0C; <strong>BitSet</strong> &#x5C31;&#x662F;&#x6D6A;&#x8D39;&#xFF0C;&#x5982;&#x679C;&#x5C3A;&#x5BF8;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x4F60;&#x6700;&#x597D;&#x521B;&#x5EFA;&#x81EA;&#x5DF1;&#x7684;&#x7C7B;&#xFF0C;&#x6216;&#x8005;&#x53EA;&#x662F;&#x7528;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x6765;&#x4FDD;&#x5B58;&#x4F60;&#x7684;&#x6807;&#x5FD7;&#x3002;&#xFF08;&#x53EA;&#x6709;&#x5728;&#x4F60;&#x521B;&#x5EFA;&#x8BB8;&#x591A;&#x5305;&#x542B;&#x5F00;&#x5173;&#x4FE1;&#x606F;&#x5217;&#x8868;&#x7684;&#x5BF9;&#x8C61;&#x65F6;&#x624D;&#x4F1A;&#x51FA;&#x73B0;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x5E76;&#x4E14;&#x53EA;&#x5E94;&#x6839;&#x636E;&#x5206;&#x6790;&#x548C;&#x5176;&#x4ED6;&#x6307;&#x6807;&#x6765;&#x51B3;&#x5B9A;&#x3002;&#x5982;&#x679C;&#x4F60;&#x505A;&#x51FA;&#x6B64;&#x51B3;&#x5B9A;&#x53EA;&#x662F;&#x56E0;&#x4E3A;&#x60A8;&#x8BA4;&#x4E3A; <strong>BitSet</strong> &#x592A;&#x5927;&#xFF0C;&#x90A3;&#x4E48;&#x6700;&#x7EC8;&#x4F1A;&#x4EA7;&#x751F;&#x4E0D;&#x5FC5;&#x8981;&#x7684;&#x590D;&#x6742;&#x6027;&#x5E76;&#x4E14;&#x6D6A;&#x8D39;&#x5927;&#x91CF;&#x65F6;&#x95F4;&#x3002;&#xFF09;</p>
<p>&#x5F53;&#x6DFB;&#x52A0;&#x66F4;&#x591A;&#x5143;&#x7D20;&#x65F6;&#xFF0C;&#x666E;&#x901A;&#x96C6;&#x5408;&#x4F1A;&#x6269;&#x5C55;&#xFF0C; <strong>BitSet</strong>&#x4E5F;&#x4F1A;&#x8FD9;&#x6837;&#x505A;&#x3002;&#x4EE5;&#x4E0B;&#x793A;&#x4F8B;&#x663E;&#x793A;&#x4E86; <strong>BitSet</strong> &#x7684;&#x5DE5;&#x4F5C;&#x539F;&#x7406;&#xFF1A;</p>
<pre class="language-"><code class="lang-java"><span class="token comment">// collectiontopics/Bits.java</span>
<span class="token comment">// Demonstration of BitSet</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Bits</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">printBitSet</span><span class="token punctuation">(</span><span class="token class-name">BitSet</span> b<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;bits: &quot;</span> <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">StringBuilder</span> bbits <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StringBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> b<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span>
      bbits<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>j<span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;1&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;bit pattern: &quot;</span> <span class="token operator">+</span> bbits<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Random</span> rand <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Random</span><span class="token punctuation">(</span><span class="token number">47</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// Take the LSB of nextInt():</span>
    <span class="token keyword">byte</span> bt <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span>rand<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BitSet</span> bb <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BitSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> i<span class="token punctuation">)</span> <span class="token operator">&amp;</span>  bt<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        bb<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">else</span>
        bb<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;byte value: &quot;</span> <span class="token operator">+</span> bt<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printBitSet</span><span class="token punctuation">(</span>bb<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">short</span> st <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">short</span><span class="token punctuation">)</span>rand<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BitSet</span> bs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BitSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">15</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> i<span class="token punctuation">)</span> <span class="token operator">&amp;</span>  st<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        bs<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">else</span>
        bs<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;short value: &quot;</span> <span class="token operator">+</span> st<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printBitSet</span><span class="token punctuation">(</span>bs<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> it <span class="token operator">=</span> rand<span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BitSet</span> bi <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BitSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">31</span><span class="token punctuation">;</span> i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">)</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> i<span class="token punctuation">)</span> <span class="token operator">&amp;</span>  it<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
        bi<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">else</span>
        bi<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;int value: &quot;</span> <span class="token operator">+</span> it<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">printBitSet</span><span class="token punctuation">(</span>bi<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// Test bitsets &gt;= 64 bits:</span>
    <span class="token class-name">BitSet</span> b127 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BitSet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    b127<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;set bit 127: &quot;</span> <span class="token operator">+</span> b127<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BitSet</span> b255 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BitSet</span><span class="token punctuation">(</span><span class="token number">65</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    b255<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;set bit 255: &quot;</span> <span class="token operator">+</span> b255<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">BitSet</span> b1023 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BitSet</span><span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    b1023<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1023</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    b1023<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;set bit 1023: &quot;</span> <span class="token operator">+</span> b1023<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">/* Output:
byte value: -107
bits: {0, 2, 4, 7}
bit pattern: 101010010000000000000000000000000000000000
0000000000000000000000
short value: 1302
bits: {1, 2, 4, 8, 10}
bit pattern: 011010001010000000000000000000000000000000
0000000000000000000000
int value: -2014573909
bits: {0, 1, 3, 5, 7, 9, 11, 18, 19, 21, 22, 23, 24,
25, 26, 31}
bit pattern: 110101010101000000110111111000010000000000
0000000000000000000000
set bit 127: {127}
set bit 255: {255}
set bit 1023: {1023, 1024}
*/</span>
</code></pre>
<p>&#x968F;&#x673A;&#x6570;&#x751F;&#x6210;&#x5668;&#x7528;&#x4E8E;&#x521B;&#x5EFA;&#x968F;&#x673A; <strong>byte</strong> &#xFF0C; <strong>short</strong> &#x548C; <strong>int</strong> &#xFF0C;&#x5E76;&#x4E14;&#x6BCF;&#x4E2A;&#x90FD;&#x5728; <strong>BitSet</strong> &#x4E2D;&#x8F6C;&#x6362;&#x4E3A;&#x76F8;&#x5E94;&#x7684;&#x4F4D;&#x6A21;&#x5F0F;&#x3002;&#x8FD9;&#x6837;&#x53EF;&#x4EE5;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#xFF0C;&#x56E0;&#x4E3A; <strong>BitSet</strong> &#x662F;64&#x4F4D;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x4E9B;&#x90FD;&#x4E0D;&#x4F1A;&#x5BFC;&#x81F4;&#x5B83;&#x7684;&#x5927;&#x5C0F;&#x589E;&#x52A0;&#xFF0C;&#x7136;&#x540E;&#x521B;&#x5EFA;&#x66F4;&#x5927;&#x7684; <strong>BitSet</strong> &#x3002; &#x8BF7;&#x6CE8;&#x610F;&#xFF0C; <strong>BitSet</strong> &#x4F1A;&#x6839;&#x636E;&#x9700;&#x8981;&#x8FDB;&#x884C;&#x6269;&#x5C55;&#x3002;</p>
<p>&#x5BF9;&#x4E8E;&#x53EF;&#x4EE5;&#x547D;&#x540D;&#x7684;&#x56FA;&#x5B9A;&#x6807;&#x5FD7;&#x96C6;&#xFF0C; <strong>EnumSet</strong> &#xFF08;&#x53C2;&#x89C1;<a href="">&#x7B2C;&#x4E8C;&#x5341;&#x4E8C;&#x7AE0;&#xFF1A;&#x679A;&#x4E3E;</a>&#x7AE0;&#x8282;&#xFF09;&#x901A;&#x5E38;&#x6BD4; <strong>BitSet</strong> &#x66F4;&#x597D;&#xFF0C;&#x56E0;&#x4E3A; <strong>EnumSet</strong> &#x5141;&#x8BB8;&#x64CD;&#x4F5C;&#x540D;&#x79F0;&#x800C;&#x4E0D;&#x662F;&#x6570;&#x5B57;&#x4F4D;&#x4F4D;&#x7F6E;&#xFF0C;&#x4ECE;&#x800C;&#x53EF;&#x4EE5;&#x51CF;&#x5C11;&#x9519;&#x8BEF;&#x3002; <strong>EnumSet</strong> &#x8FD8;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x610F;&#x5916;&#x5730;&#x6DFB;&#x52A0;&#x65B0;&#x7684;&#x6807;&#x8BB0;&#x4F4D;&#x7F6E;&#xFF0C;&#x8FD9;&#x53EF;&#x80FD;&#x4F1A;&#x5BFC;&#x81F4;&#x4E00;&#x4E9B;&#x4E25;&#x91CD;&#x7684;&#xFF0C;&#x96BE;&#x4EE5;&#x53D1;&#x73B0;&#x7684;&#x9519;&#x8BEF;&#x3002;&#x4F7F;&#x7528; <strong>BitSet</strong> &#x800C;&#x4E0D;&#x662F; <strong>EnumSet</strong> &#x7684;&#x552F;&#x4E00;&#x539F;&#x56E0;&#x662F;&#xFF0C;&#x4E0D;&#x77E5;&#x9053;&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x9700;&#x8981;&#x591A;&#x5C11;&#x6807;&#x5FD7;&#xFF0C;&#x6216;&#x8005;&#x4E3A;&#x6807;&#x5FD7;&#x5206;&#x914D;&#x540D;&#x79F0;&#x662F;&#x4E0D;&#x5408;&#x7406;&#x7684;&#xFF0C;&#x6216;&#x8005;&#x9700;&#x8981; <strong>BitSet</strong> &#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x64CD;&#x4F5C;&#xFF08;&#x8BF7;&#x53C2;&#x9605; <strong>BitSet</strong> &#x548C; <strong>EnumSet</strong> &#x7684; JDK &#x6587;&#x6863;&#xFF09;&#x3002;</p>
<!-- Summary -->
<h2 id="&#x672C;&#x7AE0;&#x5C0F;&#x7ED3;"><a name="&#x672C;&#x7AE0;&#x5C0F;&#x7ED3;" class="anchor-navigation-ex-anchor" href="#&#x672C;&#x7AE0;&#x5C0F;&#x7ED3;"><i class="fa fa-link" aria-hidden="true"></i></a>1.16. &#x672C;&#x7AE0;&#x5C0F;&#x7ED3;</h2>
<p>&#x96C6;&#x5408;&#x53EF;&#x4EE5;&#x8BF4;&#x662F;&#x7F16;&#x7A0B;&#x8BED;&#x8A00;&#x4E2D;&#x6700;&#x5E38;&#x7528;&#x7684;&#x5DE5;&#x5177;&#x3002;&#x6709;&#x4E9B;&#x8BED;&#x8A00;&#xFF08;&#x4F8B;&#x5982;Python&#xFF09;&#x751A;&#x81F3;&#x5C06;&#x57FA;&#x672C;&#x96C6;&#x5408;&#x7EC4;&#x4EF6;&#xFF08;&#x5217;&#x8868;&#xFF0C;&#x6620;&#x5C04;&#x548C;&#x96C6;&#x5408;&#xFF09;&#x4F5C;&#x4E3A;&#x5185;&#x7F6E;&#x51FD;&#x6570;&#x5305;&#x542B;&#x5728;&#x5176;&#x4E2D;&#x3002;</p>
<p>&#x6B63;&#x5982;&#x5728;<a href="">&#x7B2C;&#x5341;&#x4E8C;&#x7AE0;&#xFF1A;&#x96C6;&#x5408;</a>&#x7AE0;&#x8282;&#x4E2D;&#x770B;&#x5230;&#x7684;&#x90A3;&#x6837;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x96C6;&#x5408;&#x6267;&#x884C;&#x8BB8;&#x591A;&#x975E;&#x5E38;&#x6709;&#x7528;&#x7684;&#x64CD;&#x4F5C;&#xFF0C;&#x800C;&#x4E0D;&#x9700;&#x8981;&#x592A;&#x591A;&#x52AA;&#x529B;&#x3002;&#x4F46;&#x662F;&#xFF0C;&#x5728;&#x67D0;&#x4E9B;&#x65F6;&#x5019;&#xFF0C;&#x4E3A;&#x4E86;&#x6B63;&#x786E;&#x5730;&#x4F7F;&#x7528;&#x5B83;&#x4EEC;&#x800C;&#x4E0D;&#x5F97;&#x4E0D;&#x66F4;&#x591A;&#x5730;&#x4E86;&#x89E3;&#x96C6;&#x5408;&#xFF0C;&#x7279;&#x522B;&#x662F;&#xFF0C;&#x5FC5;&#x987B;&#x5145;&#x5206;&#x4E86;&#x89E3;&#x6563;&#x5217;&#x64CD;&#x4F5C;&#x4EE5;&#x7F16;&#x5199;&#x81EA;&#x5DF1;&#x7684; <code>hashCode()</code> &#x65B9;&#x6CD5;&#xFF08;&#x5E76;&#x4E14;&#x5FC5;&#x987B;&#x77E5;&#x9053;&#x4F55;&#x65F6;&#x9700;&#x8981;&#xFF09;&#xFF0C;&#x5E76;&#x4E14;&#x4F60;&#x5FC5;&#x987B;&#x5145;&#x5206;&#x4E86;&#x89E3;&#x5404;&#x79CD;&#x96C6;&#x5408;&#x5B9E;&#x73B0;&#xFF0C;&#x4EE5;&#x6839;&#x636E;&#x4F60;&#x7684;&#x9700;&#x6C42;&#x9009;&#x62E9;&#x5408;&#x9002;&#x7684;&#x96C6;&#x5408;&#x3002;&#x672C;&#x9644;&#x5F55;&#x6DB5;&#x76D6;&#x4E86;&#x8FD9;&#x4E9B;&#x6982;&#x5FF5;&#xFF0C;&#x5E76;&#x8BA8;&#x8BBA;&#x4E86;&#x6709;&#x5173;&#x96C6;&#x5408;&#x5E93;&#x7684;&#x5176;&#x4ED6;&#x6709;&#x7528;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;&#x3002;&#x4F60;&#x73B0;&#x5728;&#x5E94;&#x8BE5;&#x5DF2;&#x7ECF;&#x51C6;&#x5907;&#x597D;&#x5728;&#x65E5;&#x5E38;&#x7F16;&#x7A0B;&#x4EFB;&#x52A1;&#x4E2D;&#x4F7F;&#x7528; Java &#x96C6;&#x5408;&#x4E86;&#x3002;</p>
<p>&#x96C6;&#x5408;&#x5E93;&#x7684;&#x8BBE;&#x8BA1;&#x5F88;&#x56F0;&#x96BE;&#xFF08;&#x5927;&#x591A;&#x6570;&#x5E93;&#x8BBE;&#x8BA1;&#x95EE;&#x9898;&#x90FD;&#x662F;&#x5982;&#x6B64;&#xFF09;&#x3002;&#x5728; C++ &#x4E2D;&#xFF0C;&#x96C6;&#x5408;&#x7C7B;&#x6DB5;&#x76D6;&#x4E86;&#x8BB8;&#x591A;&#x4E0D;&#x540C;&#x7C7B;&#x7684;&#x57FA;&#x7840;&#x3002;&#x8FD9;&#x6BD4;&#x4E4B;&#x524D;&#x53EF;&#x7528;&#x7684; C++ &#x96C6;&#x5408;&#x7C7B;&#x66F4;&#x597D;&#xFF0C;&#x4F46;&#x5B83;&#x6CA1;&#x6709;&#x5F88;&#x597D;&#x5730;&#x8F6C;&#x6362;&#x4E3A; Java &#x3002;&#x5728;&#x53E6;&#x4E00;&#x4E2A;&#x6781;&#x7AEF;&#xFF0C;&#x6211;&#x770B;&#x5230;&#x4E86;&#x4E00;&#x4E2A;&#x7531;&#x5355;&#x4E2A;&#x7C7B;&#x201C;collection&#x201D;&#x7EC4;&#x6210;&#x7684;&#x96C6;&#x5408;&#x5E93;&#xFF0C;&#x5B83;&#x540C;&#x65F6;&#x5145;&#x5F53;&#x7EBF;&#x6027;&#x5E8F;&#x5217;&#x548C;&#x5173;&#x8054;&#x6570;&#x7EC4;&#x3002; Java &#x96C6;&#x5408;&#x5E93;&#x8BD5;&#x56FE;&#x5728;&#x529F;&#x80FD;&#x548C;&#x590D;&#x6742;&#x6027;&#x4E4B;&#x95F4;&#x53D6;&#x5F97;&#x5E73;&#x8861;&#x3002;&#x7ED3;&#x679C;&#x5728;&#x67D0;&#x4E9B;&#x5730;&#x65B9;&#x770B;&#x8D77;&#x6765;&#x6709;&#x70B9;&#x5947;&#x602A;&#x3002;&#x4E0E;&#x65E9;&#x671F; Java &#x5E93;&#x4E2D;&#x7684;&#x4E00;&#x4E9B;&#x51B3;&#x7B56;&#x4E0D;&#x540C;&#xFF0C;&#x8FD9;&#x4E9B;&#x5947;&#x602A;&#x7684;&#x4E0D;&#x662F;&#x4E8B;&#x6545;&#xFF0C;&#x800C;&#x662F;&#x5728;&#x57FA;&#x4E8E;&#x590D;&#x6742;&#x6027;&#x7684;&#x6743;&#x8861;&#x4E0B;&#x800C;&#x4ED4;&#x7EC6;&#x8003;&#x8651;&#x7684;&#x51B3;&#x7B56;&#x3002;</p>
<blockquote id="fn_1">
<sup>1</sup>. <strong>java.util</strong> &#x4E2D;&#x7684; <strong>Map</strong> &#x4F7F;&#x7528; <strong>Map</strong> &#x7684; <code>getKey()</code> &#x548C; <code>getValue()</code> &#x6267;&#x884C;&#x6279;&#x91CF;&#x590D;&#x5236;&#xFF0C;&#x56E0;&#x6B64;&#x8FD9;&#x662F;&#x6709;&#x6548;&#x7684;&#x3002;&#x5982;&#x679C;&#x81EA;&#x5B9A;&#x4E49; <strong>Map</strong> &#x53EA;&#x662F;&#x590D;&#x5236;&#x6574;&#x4E2A; <strong>Map.Entry</strong> &#xFF0C;&#x90A3;&#x4E48;&#x8FD9;&#x79CD;&#x65B9;&#x6CD5;&#x5C31;&#x4F1A;&#x51FA;&#x73B0;&#x95EE;&#x9898;&#x3002;<a href="#reffn_1" title="Jump back to footnote [1] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_2">
<sup>2</sup>. &#x867D;&#x7136;&#x5F53;&#x6211;&#x7528;&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x63CF;&#x8FF0;&#x5B83;&#x7684;&#x65F6;&#x5019;&#x542C;&#x8D77;&#x6765;&#x5F88;&#x5947;&#x602A;&#x800C;&#x4E14;&#x597D;&#x50CF;&#x6CA1;&#x4EC0;&#x4E48;&#x7528;&#x5904;&#xFF0C;&#x4F46;&#x5728;<a href="">&#x7B2C;&#x5341;&#x4E5D;&#x7AE0; &#x7C7B;&#x578B;&#x4FE1;&#x606F;</a>&#x7AE0;&#x8282;&#x4E2D;&#x5DF2;&#x7ECF;&#x770B;&#x5230;&#x8FC7;&#xFF0C;&#x8FD9;&#x79CD;&#x52A8;&#x6001;&#x884C;&#x4E3A;&#x4E5F;&#x53EF;&#x4EE5;&#x975E;&#x5E38;&#x5F3A;&#x5927;&#x6709;&#x7528;&#x3002;<a href="#reffn_2" title="Jump back to footnote [2] in the text."> &#x21A9;</a>
</blockquote>
<blockquote id="fn_3">
<sup>3</sup>. &#x5982;&#x679C;&#x8FD9;&#x4E9B;&#x52A0;&#x901F;&#x4ECD;&#x7136;&#x65E0;&#x6CD5;&#x6EE1;&#x8DB3;&#x6027;&#x80FD;&#x9700;&#x6C42;&#xFF0C;&#x5219;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7F16;&#x5199;&#x81EA;&#x5DF1;&#x7684; <strong>Map</strong> &#x5E76;&#x5C06;&#x5176;&#x81EA;&#x5B9A;&#x4E49;&#x4E3A;&#x7279;&#x5B9A;&#x7C7B;&#x578B;&#x6765;&#x8FDB;&#x4E00;&#x6B65;&#x52A0;&#x901F;&#x8868;&#x67E5;&#x627E;&#xFF0C;&#x4EE5;&#x907F;&#x514D;&#x56E0;&#x5411; <strong>&#x5BF9;&#x8C61;</strong> &#x8F6C;&#x6362;&#x800C;&#x5BFC;&#x81F4;&#x7684;&#x5EF6;&#x8FDF;&#x3002;&#x4E3A;&#x4E86;&#x8FBE;&#x5230;&#x66F4;&#x9AD8;&#x7684;&#x6027;&#x80FD;&#x6C34;&#x5E73;&#xFF0C;&#x901F;&#x5EA6;&#x7231;&#x597D;&#x8005;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; Donald Knuth &#x7684;&#x300A;&#x8BA1;&#x7B97;&#x673A;&#x7A0B;&#x5E8F;&#x8BBE;&#x8BA1;&#x827A;&#x672F;&#xFF08;&#x7B2C;3&#x5377;&#xFF09;&#xFF1A;&#x6392;&#x5E8F;&#x4E0E;&#x67E5;&#x627E;&#x300B;&#xFF08;&#x7B2C;&#x4E8C;&#x7248;&#xFF09;&#xFF0C;&#x5C06;&#x6EA2;&#x51FA;&#x6876;&#x5217;&#x8868;&#xFF08;overflow bucket lists&#xFF09;&#x66FF;&#x6362;&#x4E3A;&#x5177;&#x6709;&#x4E24;&#x4E2A;&#x989D;&#x5916;&#x4F18;&#x52BF;&#x7684;&#x9635;&#x5217;&#xFF1A;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x9488;&#x5BF9;&#x78C1;&#x76D8;&#x5B58;&#x50A8;&#x8FDB;&#x884C;&#x4F18;&#x5316;&#xFF0C;&#x5E76;&#x4E14;&#x5B83;&#x4EEC;&#x53EF;&#x4EE5;&#x8282;&#x7701;&#x5927;&#x90E8;&#x5206;&#x521B;&#x5EFA;&#x548C;&#x56DE;&#x6536;&#x4E2A;&#x522B;&#x8BB0;&#x5F55;&#xFF08;individual records&#xFF09;&#x7684;&#x65F6;&#x95F4;&#x3002;<a href="#reffn_3" title="Jump back to footnote [3] in the text."> &#x21A9;</a>
</blockquote>
<!-- 分页 -->
<div style="page-break-after: always;"></div>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Appendix-Understanding-equals-and-hashCode.html#调整HashMap" class="navigation navigation-prev " aria-label="Previous page: 调整HashMap">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Appendix-Collection-Topics.html#示例数据" class="navigation navigation-next " aria-label="Next page: 示例数据">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"附录:集合主题","level":"1.37","depth":1,"next":{"title":"示例数据","level":"1.37.1","depth":2,"anchor":"#示例数据","path":"chapters/Appendix-Collection-Topics.md","ref":"./chapters/Appendix-Collection-Topics.md#示例数据","articles":[]},"previous":{"title":"调整HashMap","level":"1.36.3","depth":2,"anchor":"#调整HashMap","path":"chapters/Appendix-Understanding-equals-and-hashCode.md","ref":"./chapters/Appendix-Understanding-equals-and-hashCode.md#调整HashMap","articles":[]},"dir":"ltr"},"config":{"plugins":["splitter","anchor-navigation-ex","-sharing","sharing-plus","-highlight","prism"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-okaidia.css"]},"splitter":{},"search":{},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"night","family":"serif","size":2},"anchor-navigation-ex":{"associatedWithSummary":false,"float":{"floatIcon":"fa fa-navicon","level1Icon":"","level2Icon":"","level3Icon":"","showLevelIcon":false},"mode":"float","multipleH1":true,"pageTop":{"level1Icon":"fa fa-hand-o-right","level2Icon":"fa fa-hand-o-right","level3Icon":"fa fa-hand-o-right","showLevelIcon":false},"printLog":false,"showGoTop":true,"showLevel":true},"sharing":{"weibo":true,"qzone":true,"qq":true,"douban":true},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":true}},"theme":"default","author":"Little Captain","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"OnJava8","gitbook":"*","description":"OnJava8"},"file":{"path":"chapters/Appendix-Collection-Topics.md","mtime":"2021-08-24T17:07:50.238Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2021-08-24T17:08:10.386Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

